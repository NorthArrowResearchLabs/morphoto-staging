{"version":3,"sources":["../../client-common/dist/config.js","../../client-common/dist/share.js","../../client-common/dist/useCamera.js","../../client-common/dist/useComponentSize.js","../../client-common/dist/useFileInput.js","../../client-common/dist/useOnline.js","../../client-common/dist/useResponsive.js","../../client-common/dist/ErrorBoundary.js","../../client-common/dist/useOSDetect.js","../../client-common/dist/appContext.js","../../client-common/dist/useSensors.js","../../client-common/dist/index.js","../../icons/dist/BDA.js","../../icons/dist/AppLogoSimple.js","../../icons/dist/QRCode.js","../../icons/dist/Apple.js","../../icons/dist/index.js","../../components/navigation/dist/TopBar.js","../../components/navigation/dist/SideDrawer.js","../../components/navigation/dist/TopBarWrapper.js","../../components/navigation/dist/OfflineBar.js","../../components/navigation/dist/BottomBar.js","../../components/navigation/dist/index.js","../../components/tags/dist/TagChip.js","../../components/tags/dist/TagControl.style.js","../../components/tags/dist/TagControl.js","../../components/tags/dist/TagEdit.js","../../components/tags/dist/TagView.js","../../components/tags/dist/XYTagChip.style.js","../../components/tags/dist/XYTagChip.js","../../components/tags/dist/XYTagSelect.js","../../components/tags/dist/XYTagSelect.style.js","../../components/tags/dist/XYTagChooser.style.js","../../components/tags/dist/XYTagChooser.js","../../components/tags/dist/useXYTags.js","../../components/tags/dist/index.js","../../client-mock/dist/LoadFakeData.js","../../client-mock/dist/withContext.js","../../components/client-auth/dist/useAuthCommon.js","../../components/client-auth/dist/AuthContainer.js","../../components/client-auth/dist/auth.style.js","../../components/client-auth/dist/SignIn.js","../../components/client-auth/dist/PasswordHelper.js","../../components/client-auth/dist/SignUp.js","../../components/client-auth/dist/ConfirmSignIn.js","../../components/client-auth/dist/CheckemailMsg.js","../../components/client-auth/dist/ConfirmSignUp.js","../../components/client-auth/dist/ForgotPassword.js","../../components/client-auth/dist/Loading.js","../../components/client-auth/dist/RequireNewPassword.js","../../components/client-auth/dist/VerifyContact.js","../../client-mock/dist/index.js","../../components/client-auth/dist/auth.fixture.js","../../components/client-auth/dist/useAuthentication.js","../../components/client-auth/dist/index.js","../../components/feed/dist/MyFeed.js","../../components/feed/dist/FeedEnder.js","../../components/camera/dist/CameraTool.js","../../components/camera/dist/CameraTool.style.js","../../components/camera/dist/QRUtil.js","../../components/camera/dist/QRReader.js","../../components/camera/dist/QRDisplay.js","../../components/camera/dist/index.js","../../datastore/dist/index.js","../../components/pwainstall/dist/InstallPrompt.js","../../components/pwainstall/dist/useShowAddToHome.js","connectors/withUploadConnect.js","connectors/withSeriesConnect.js","connectors/withHomeMap.js","connectors/withSearchConnect.js","connectors/withProfileConnect.js","connectors/withFeedConnect.js","connectors/withOfflineData.js","../../components/feed/dist/index.js","../../components/profile/dist/index.js","connectors/Error.connect.js","../../components/home/dist/Home.js","../../components/home/dist/index.js","connectors/App.connect.js","serviceWorker.js","index.js","../../datastore/dist/redux/reducers/map.js","../../datastore/dist/redux/reducers/home.js","../../datastore/dist/redux/reducers/uploader.js","../../datastore/dist/redux/reducers/flags.js","../../datastore/dist/redux/reducers/offline.js","../../datastore/dist/redux/reducers/index.js","../../datastore/dist/redux/queueMiddleware.js","../../datastore/dist/redux/storeConfig.js","../../datastore/dist/redux/withReduxProvider.js","../../components/search/dist/SearchContextItem.js","../../components/search/dist/SearchContextResults.js","../../components/search/dist/SearchEnder.js","../../components/search/dist/SearchResults.js","../../components/search/dist/SearchPlaceholder.js","../../components/search/dist/Search.js","../../components/slideshow/dist/Slideshow.js","../../components/slideshow/dist/Slideshow.style.js","../../components/profile/dist/MeCard.js","../../components/profile/dist/MyProfile.js","../../components/swipeshow/dist/SwipeShow.js","../../components/swipeshow/dist/SwipeShow.style.js","../../../packages/common/dist/index.js","../../icons/dist/AppLogo.js","../../components/search/dist/SearchInput.js","../../components/feed/dist/FeedItem.js","../../components/search/dist/index.js","../../../packages/mock/dist/random.js","../../datastore/dist/s3Upload.js","../../datastore/dist/graphql/mutations/createSeries.js","../../client-mock/dist/utils.js","../../datastore/dist/graphql/useGraphQL.js","../../../packages/common/dist/accesscontrol/permissions.js","../../../packages/common/dist/dates.js","../../../packages/common/dist/util.js","../../themes/dist/jss/mapbox.css.js","../../themes/dist/jss/typeface-roboto.css.js","../../components/maps/dist/BaseMap.style.js","../../../packages/mock/dist/index.js","../../datastore/dist/graphql/offline.js","../../components/ui/dist/FindOnMapButton.js","../../components/ui/dist/AboutApp.js","../../components/ui/dist/AppSettings.js","../../components/ui/dist/AddFab.js","../../components/ui/dist/ContextMenu.js","../../components/ui/dist/LibraryFilePicker.js","../../components/ui/dist/ShortLongText.js","../../components/ui/dist/useNewImageMenu.js","../../components/ui/dist/UploadControl.js","../../components/ui/dist/DateControl.js","../../components/ui/dist/DateView.js","../../components/ui/dist/ErrorScreen.js","../../components/ui/dist/index.js","../../datastore/dist/graphql/fragments.js","../../datastore/dist/graphql/mutations/updateQueries.js","../../datastore/dist/graphql/mutations.js","../../datastore/dist/redux/actions.js","../../../packages/common/dist/Tags.js","../../../packages/common/dist/exif.js","../../../packages/common/dist/Series.js","../../../packages/common/dist/Photo.js","../../../packages/common/dist/accesscontrol/AccessHelper.js","../../components/photos/dist/BrokenImg.js","../../components/photos/dist/RawImage.js","../../components/photos/dist/Photo.js","../../components/photos/dist/Photo.style.js","../../components/photos/dist/PhotoGrid.js","../../components/photos/dist/PhotoGrid.style.js","../../components/photos/dist/PhotoFadeSlider.js","../../components/photos/dist/index.js","../../datastore/dist/graphql/mutations/createPhoto.js","../../datastore/dist/graphql/mutations/deletePhoto.js","../../datastore/dist/graphql/mutations/deleteSeries.js","../../datastore/dist/graphql/mutations/unwatch.js","../../datastore/dist/graphql/mutations/updatePhoto.js","../../datastore/dist/graphql/mutations/updateSeries.js","../../datastore/dist/graphql/mutations/watch.js","../../themes/dist/themes.js","../../themes/dist/jss/baseline.css.js","../../client-mock/dist/CosmosBlackBackground.js","../../client-mock/dist/MaterialUIWrap.js","../../../packages/mock/dist/fakedata.js","../../themes/dist/index.js","../../components/modals/dist/DeleteDialog.js","../../components/modals/dist/CancelConfirm.js","../../components/modals/dist/FeatureDisabled.js","../../components/modals/dist/BigText.js","../../components/modals/dist/BigTextEdit.js","../../components/modals/dist/index.js","../../datastore/dist/graphql/queries.js","../../components/maps/dist/mapStyles/index.js","../../components/maps/dist/markers/MyLocation.js","../../components/maps/dist/controls/StyleButtons.js","../../components/maps/dist/controls/MyLocationButton.js","../../components/maps/dist/BaseMap.js","../../components/maps/dist/lib/useClusteredData.js","../../components/maps/dist/HomeMap.style.js","../../components/maps/dist/ClusterSelected.js","../../components/maps/dist/markers/Single.js","../../components/maps/dist/markers/Cluster.js","../../components/maps/dist/HomeMap.js","../../components/maps/dist/BaseStaticMap.js","../../components/maps/dist/markers/Dot.js","../../components/maps/dist/MapDot.js","../../components/maps/dist/OfflineMap.style.js","../../components/maps/dist/OfflineMap.js","../../components/maps/dist/MapDirPicker.js","../../components/maps/dist/index.js","../../components/slideshow/dist/index.js","../../components/swipeshow/dist/index.js","../../components/photoseries/dist/UserListItem.js","../../components/photoseries/dist/contexts.js","../../components/photoseries/dist/views/SeriesInfo.js","../../components/photoseries/dist/views/SeriesInfo.style.js","../../components/photoseries/dist/SeriesView.style.js","../../components/photoseries/dist/views/SeriesView.js","../../components/photoseries/dist/views/SeriesEditInner.js","../../components/photoseries/dist/views/SeriesEditInner.style.js","../../components/photoseries/dist/views/SeriesEdit.js","../../components/photoseries/dist/views/SeriesEdit.style.js","../../components/photoseries/dist/views/PhotoInfoInner.js","../../components/photoseries/dist/views/PhotoInfo.js","../../components/photoseries/dist/views/PhotoViewTool.js","../../components/photoseries/dist/views/PhotoViewTool.style.js","../../components/photoseries/dist/views/NewPhotoInfo.js","../../components/photoseries/dist/views/NewPhotoInfo.style.js","../../components/photoseries/dist/views/PhotoReviewTool.js","../../components/photoseries/dist/views/PhotoReviewTool.style.js","../../components/photoseries/dist/views/NewPhoto.js","../../components/photoseries/dist/SeriesNotFound.js","../../components/photoseries/dist/SeriesLoading.js","../../components/photoseries/dist/PhotoSeries.js","../../components/photoseries/dist/SeriesList.js","../../components/photoseries/dist/SeriesList.style.js","../../components/photoseries/dist/SeriesListItem.js","../../components/photoseries/dist/ViewListDialog.js","../../components/photoseries/dist/index.js"],"names":["REACT_APP_BASEURL","mandatoryEnv","REACT_APP_MAPBOX_TOKEN","REACT_APP_VERSION","REACT_APP_CONTACT_EMAIL","REACT_APP_GRAPHQL","REACT_APP_AWS_REGION","REACT_APP_COGNITO_USER_POOL_ID","REACT_APP_COGNITO_CLIENT_ID","Object","keys","forEach","keyname","console","error","concat","mapConfig","mapBoxToken","endpoints","graphql","share","tagColors","version","contact","ACCESS","OPEN","label","description","color","green","PRIVATE","red","PUBLIC","blue","home","Offline","seriesImgsToCache","highestOfflineTileZoom","maxMapTileArea","AppStateTypes","FEED","MAP","SEARCH","PROFILE","SERIES","SETTINGS","QRCAPTURE","NEW_SERIES_CAMERA","NEW_SERIES_LIBRARY","OFFLINE_DOWNLOAD","SEARCH_TABS","KEYWORD","TAG","LOCATION","USER","PROJECT","MapModeTypes","FREE","federated","analytics","token","aws","Auth","region","userPoolId","userPoolWebClientId","mandatorySignIn","cookieStorage","domain","expires","secure","AWSPinpoint","appId","series","photoId","arguments","length","undefined","obj","type","s","id","p","encodedId","encodeURI","JSON","stringify","url","window","location","origin","ogShare","decodeShareUrl","search","foundIdx","indexOf","newData","slice","parse","decodeURI","err","Webcam","webcamElement","canvasElement","this","protocol","hostname","warn","navigator","mediaDevices","getUserMedia","key","value","_destroy","mark","_callee","wrap","_context","prev","next","srcObject","getTracks","stop","e","apply","_setup","_callee2","width","height","_this","_context2","log","abrupt","Promise","resolve","reject","audio","video","facingMode","ideal","Math","max","min","then","mediaStream","src","URL","createObjectURL","onloadedmetadata","play","onplaying","catch","Error","_x","_x2","imageWidth","videoWidth","imageHeight","videoHeight","context","getContext","drawImage","_this$_drawImage","_drawImage","data","getImageData","cb","_ref","quality","mediaStreamTrack","getVideoTracks","imageCapture","ImageCapture","getPhotoCapabilities","takePhoto","blob","fr","FileReader","onload","img","Image","exif","target","result","dataUrl","ext","readAsDataURL","_ref2","_this$_drawImage2","toDataURL","onCapture","_useState","_useState2","cameraError","setCameraError","_useState3","_useState4","cameraOnline","setCameraOnline","camRef","current","document","getElementById","createElement","setup","innerWidth","innerHeight","destroy","captureImage","imgData","_unused","capturedData","takeDataURLPhoto","captureRawData","takeImageData","getSize","el","minSize","defaultSize","offsetWidth","offsetHeight","ref","resizeActiveRef","resizeActive","setResizeActive","size","setComponentSize","handleResize","newSize","handleResizeDebounced","debounce","ResizeObserver","resizeObserver","observe","disconnect","addEventListener","removeEventListener","onChange","preferCamera","initialClick","anyFile","inputRef","clickRef","element","style","display","accept","capture","forceClick","click","handleChange","evt","file","files","reader","onloadend","name","getExtFromFile","fileClickEl","fileBlob","state","setState","onLine","newDate","Date","now","isOnline","offlineSince","getState","_window","orientation","_window$screen","screen","abs","windowSize","screenSize","mediaQueries","preventDefault","stopPropagation","newState","activeElement","tagName","toLowerCase","isEqual","_React$Component","ErrorBoundary","props","call","hasError","info","_this$state","FallbackUI","fallback","children","Component","propTypes","any","isIos","Boolean","test","userAgent","vendor","opera","device","ios","phone","a","substr","isPhone","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","i","source","getOwnPropertyDescriptors","defineProperties","defineProperty","AppContext","createContext","online","responsive","unchanging","finalValue","Provider","shape","user","signedIn","bool","isRequired","getPhotoUrls","func","metaConfig","tagConfig","array","onAvatarClick","globalActions","isrequired","accuracy","altitude","altitudeAccuracy","heading","latitude","longitude","speed","timestamp","mountedRef","watchIdRef","onEvent","event","coords","geolocation","getCurrentPosition","watchPosition","clearWatch","useDeviceOrientation","absolute","alpha","beta","gamma","deviceOrientation","setDeviceOrientation","handleDeviceOrientation","config","Fragment","d","fillRule","x","y","useStyles","makeStyles","theme","appBar","background","toolbar","alignItems","padding","spacing","backgroundColor","palette","primary","main","contrastText","borderBottom","secondary","searchIcon","opacity","marginRight","transparent","text","iOsIcon","logo","transparentLogo","transparentLogoIcon","flexGrow","qrButton","qrButtonTransparent","className","isTransparent","hideLogo","actions","classes","AppBar","elevation","position","Toolbar","disableGutters","IconButton","onClick","setDrawerOpen","onQRClickWrapped","string","isRequred","drawerInner","flexDirection","disableListItem","avatar","border","margin","gravatarImg","spacer","fullList","open","onClose","onOpen","_useContext","currentUser","SwipeableDrawer","role","onKeyDown","username","List","ListItem","root","Avatar","alt","gravatar","loginButton","ListItemText","Divider","button","onDisabledClick","onQRButtonClick","ListItemIcon","addToHomeScreen","onOfflineMenuClick","onSettingsClick","onAboutClick","signOut","forceSignIn","_extends","assign","prototype","hasOwnProperty","DIALOGS","topBarProps","dialogOpen","setDialogOpen","drawerOpen","handleQRClick","title","message","Typography","variant","component","textAlign","sinceStr","setSinceStr","timerRef","calcSinceStr","newText","formatDateAgo","clearTimer","clearInterval","setInterval","loggedText","offlineText","STATES","borderTop","container","jet","papayawhip","paper","paddingBottom","list","marginBottom","subheader","grow","addFab","bottom","left","transformOrigin","transform","zIndex","Container","maxWidth","Button","edge","setHomeState","onCameraClick","onLibraryClick","tagChips","fontSize","marginTop","deleteIcon","chipAvatar","edit","tag","onDelete","useTheme","Chip","getContrastText","tagContainer","formControl","singleValue","valueContainer","flexWrap","flex","overflow","tags","hint","onSelectChange","inputValue","action","removedValue","option","map","iv","typeId","xyCoords","tagValues","selectOptions","val","remainingTags","values","t","fieldTitle","allowAdditions","options","isFocused","components","deleteRemoves","isClearable","placeholder","isMulti","isSearchable","dlgContent","grey","dlgTitle","closeButton","alignSelf","onOk","onCancel","setValue","Dialog","scroll","fullScreen","DialogTitle","disableTypography","DialogContent","field","DialogActions","idx","xyTagChip","cursor","top","editing","reversedChip","right","chipAvatarIcon","reversedDelete","chipBucket","reversedChipBucket","onTagDragOver","onTagDragStop","onTagDelete","onNewTag","isReversed","relCoords","newWidth","stopBadness","disabled","bounds","newHeight","onDrag","onStop","noOptionsMessage","input","tc","Control","Menu","NoOptionsMessage","Option","Placeholder","ValueContainer","blurInputOnSelect","TextField","fullWidth","InputProps","inputComponent","inputProps","selectProps","innerRef","innerProps","textFieldProps","_ref3","Paper","square","_ref4","_ref5","isSelected","MenuItem","buttonRef","selected","fontWeight","_ref6","header","listItem","dlgBody","paddingLeft","paddingRight","_onClose","xyTags","allowXY","paperScrollPaper","tagType","photo","isDragging","setIsDragging","newTagDialog","setNewTagDialog","tagClass","addTag","__isNew__","createNewXYTagObj","createExistingXYTagObj","updateTagLocation","oldTag","parseInt","multiplier","onAddTagTrigger","pageX","pageY","TagChooser","getRelXYTags","LoadFakeData","delay","mockData","setData","dataRef","dirName","split","dirPath","finalPath","host","setTimeout","loaded","loading","mockProps","finalData","finalRender","cloneElement","node","number","ContextObj","containerRef","handleKeyPress","found","getElementsByClassName","bgSwoosh","animation","logoContainer","minHeight","inner","minWidth","ThemeProvider","login","CssBaseline","forgotPassword","switch","switchButton","borderRadius","phoneNumInner","phoneNumDropdown","warnText","fontStyle","noSignin","handleSignup","handleForgotPassword","handleInputChange","handleBeAnonymous","handleSignIn","autoFocus","textField","autoComplete","chipContainer","chip","ok","bad","pword","hasUpper","match","hasLower","hasNum","hasSpecial","enoughChars","signUpFields","signUpFieldLabels","signUpFieldPlaceholders","handleBack","countryDialCodes","defaultDialCode","selectVal","setSelectVal","setPword","pwordType","handleDialCodeChange","findIndex","f","FormControl","InputLabel","htmlFor","shrink","required","Select","dialCode","handleConfirm","checkEmailMsgIco","checkEmailMsgTxt","checkEmailMsg","onResend","Snackbar","anchorOrigin","vertical","horizontal","SnackbarContent","handleResend","handleSubmit","handleSendCode","sent","setSent","change","requiredAttributes","placeholders","attribute","RADIO","onBack","hasEmail","hasPhone","handleSkip","handleVerify","radioVal","setRadioVal","Tabs","indicatorColor","textColor","centered","Tab","icon","defaultProps","MaterialUIWrap","default","Wrapper","noTheme","authState","google_client_id","alert","configure","defaultAuthState","authData","signUpConfig","hiddenDefaults","defaultCountryCode","displayOrder","_useState2$","setAuth","getCurrentToken","currSession","currentSession","accessToken","authScreen","onStateChange","hideDefault","isGod","signInUserSession","idToken","payload","_SignInOrig","SignIn","newProps","changeState","signIn","_SignUpOrig","SignUp","_this2","hide","includes","checkCustomSignUpFields","sortFields","getDefaultDialCode","get","signUp","_ConfirmSignInOrig","ConfirmSignIn","_this3","confirm","_ConfirmSignUpOrig","ConfirmSignUp","_this4","resend","_RequireNewPasswordOr","RequireNewPassword","challengeParam","Array","isArray","part","charAt","toUpperCase","join","_LoadingOrig","Loading","_ForgotPasswordOrig","ForgotPassword","_this5","send","submit","listContainer","vList","feedContainer","MyFeed","events","listRef","rowRenderer","content","index","isScrolling","isVisible","parent","row","wEnd","thickness","almostAtEnd","ROWHEIGHT","scrollTop","fetchMore","rowCount","rowHeight","arrayOf","onImageClick","onProfileClick","onMapClick","fetchNewest","FeedEnder","cameraErrorText","disabledFab","cameraFab","slider","cameraIcon","cancelFab","cancelIcon","swipeDrawer","libraryFab","myLocationFab","myLocationIcon","captured","reference","onShutter","defaultRefPhotoId","photos","setSlider","refImgRef","setSize","newRefPhoto","find","_useState5","_useState6","refPhoto","setRefPhoto","_useState7","_useState8","_useCamera","defaultValue","imgRef","sizePriority","autoPlay","playsInline","muted","Fab","buttonFab","libraryIcon","anchor","paperAnchorLeft","tabIndex","swipeDrawerContainer","multiSelect","columns","onTileClick","qrIcon","backupText","manualImg","tipPaper","docContainer","cameraContainer","paddingTop","cameraContainerError","snackErr","snackSuccess","snackMsg","verticalAlign","onMenuBack","capturedBlob","setCapturedBlob","setErr","code","setCode","captureFunc","scan","scannedCode","decodedUrl","t0","t1","menuButton","toolbarTitle","autoHideDuration","qrPaper","qrCode","maxHeight","qrCodeEl","setQRCodeEl","_createShareUrl","canShare","access","toString","svgStr","note","dangerouslySetInnerHTML","__html","Link","href","s3Upload","APOLLOSTATES","useGraphQL","queries","mutations","createPhoto","createSeries","deletePhoto","deleteSeries","unwatch","updatePhoto","updateSeries","watch","updateQueries","offline","redux","withReduxProvider","messageWrapper","boxShadow","textWrapper","buttons","onInstall","paragraph","showInstall","dismissInstall","deferredPrompt","setPrompt","handleBeforePrompt","installPrompt","prompt","userChoice","choiceResult","outcome","standalone","compose","connect","uploader","activeUpload","uploading","uploadOnline","dispatch","updateUploadProgress","newProgress","datastore","setUploaderOnline","bOnline","Wrapped","useContext","useEffect","newS3Creds","useMemo","NewS3Credentials","onDone","progress","getNewS3Credentials","skip","ownProps","qItem","retry","preAuth","s3Credentials","variables","seriesId","withGetNewS3Credentials","withGetSelectedQuery","getWholeSeries","activeSeries","isNewSeries","initialPhoto","onAfterSeriesDelete","queueUpload","uploadObj","doneCreatingSeries","doneCreatingPhoto","onFindOnMap","withMutation","WrappedSeries","updateSeriesMutation","updatePhotoMutation","deleteSeriesMutation","deletePhotoMutation","createSeriesMutation","createPhotoMutation","watchSeriesMutation","unWatchSeriesMutation","inputMethod","NEW_PHOTO_MODES","CAMERA","FILEPICKER","modeName","SERIES_MODES","SERIES_VIEW","NEWSERIES","sort","b","takenOn","ReactGA","category","owned","createdUser","watching","currentUserId","currentUserRole","onNewPhoto","newPhoto","newPhotoData","imgStore","setItem","uploadToken","stack","onChangePhoto","photoDelta","onDeletePhoto","seriesDelta","onNewSeries","newSeries","onWatch","onUnWatch","POLL_INTERVAL","withAllSeries","allSeries","seriesSummaries","nextToken","updateQuery","fetchMoreResult","setSeriesProps","readyForPolling","limit","withPollQuery","pollQuery","lastCheck","seriesProps","updateIncrement","changedSeries","oldList","newSeriesSummaries","seriesStatus","polledSeries","ds","oldSeries","oldId","AllSeriesConnect","PollQueryConnect","mapDispatchToProps","onSeriesNavigate","onSeriesMapSelect","setActiveSeries","onSearchClick","tab","popMapHistory","pushMapHistory","clearMapHistory","initialActiveSeries","initViewport","pop","useState","queryVersion","setVersion","useRef","queryVersionRef","setLastCheck","allSeriesQUERY","pollSeriesQUERY","String","seriesList","TABS","withTagSearch","tagSearch","contextResults","count","ceil","searchText","withUserSearch","userSearch","createdOn","dates","searchStr","withGeoCode","geocode","geocoder","relevance","placeName","bbox","center","withTagSeries","seriesWithTag","tagSeries","searchResults","contextChoice","withUserSeries","userSeries","createdBy","withKeywordSearch","keywordSearch","defaultTab","defaultText","currentTab","setCurrentTab","setSearchText","setContextChoice","pageview","withContextQuery","withSearchQuery","ComposedSearch","jumpToMap","onResultClick","jumpToSeriesView","newContextChoice","newTab","withuserSeriesQuery","seriesQ","withMyWatchedSeriesQuery","seriesFromList","watchedSeriesQ","mySeries","watchingSeries","arraySeries","jumpToSeries","jumpToSeriesMap","withFeedQuery","getMyFeed","loadingNewest","loadingMore","gqlActions","myFeed","start","feed","end","lastCheckRef","v","jumpToUser","withGeoSearch","geoSeriesIdOnly","seriesInGeoBounds","setSeriesIds","ids","WholeSeriesConnect","urls","updatedUser","ph","paths","base","Set","GeoQuery","lastMapViewport","completedDownload","viewport","setOfflineCompleted","bVal","setOfflineViewport","OFFLINE_STATES","LOCKED","NAVIGATING","toolState","setToolState","limiterRef","setBounds","seriesIds","activeSeriesId","setActiveSeriesId","seriesPhotos","setSeriesPhotos","tileTick","setTileTick","seriesTick","setSeriesTick","seriesPhotoTick","setSeriesPhotoTick","tileTickRef","onTileTick","onSeriesPhotoTick","onSeriesTick","useCallback","num","theTick","theIds","thePhotos","addCount","schedule","makeRequest","finalState","OFFLINE","geoSeriesQuery","wholeSeriesQuery","CANCELED","dropWaitingJobs","Bottleneck","maxConcurrent","tiles","zoomRange","zoom","xtileLeft","long2tile","xtileRight","ytileTop","lat2tile","ytileBottom","getTileURL","process","getTiles","tile","newTotal","onStartDownload","DOWNLOADING","onCancelComplete","onUnlock","method","xhr","XMLHttpRequest","status","response","statusText","onerror","replace","withReportBugMutation","reportBug","mutate","reduxState","ERROR_SEND_STATES","ERROR","reportError","SENDING","reportJSON","extra","appVersion","languages","language","platform","errSubset","errObj","env","update","store","SENT","UNSENT","ErrorScreen","sendState","outerRoot","offlineBar","activeWrapper","flexShrink","uploaderContainer","Upload","upload","showBottomBar","activeProps","ActiveComponent","profile","onQRCapture","oneOf","homeConfig","initialize","withUploadConnect","UploadControl","withSeriesConnect","PhotoSeries","withHomeMap","HomeMap","withSearchConnect","Search","withProfileConnect","MyProfile","withFeedConnect","withOfflineData","OfflineMap","AppConnect","ErrorConnect","reduxProps","flags","newDomain","newParams","bufferPts","buffer","point","units","bboxFunc","mode","resetAllState","setFlag","setUseOffline","homeStateBack","reduxActions","useAuthentication","useLoggedOut","apolloClient","client","apolloDone","done","apolloState","currState","useShowAddToHome","install","retryRef","handleBackClick","history","pushState","decodedObj","queryVars","clearTimeout","forceSignInWrapped","resetApp","clear","resetStore","stateStore","staticContext","allowNonXY","getTags","appContext","cognitoUser","query","getUser","refetch","attributes","sub","Home","getItem","sp","isLocalhost","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","require","ReactDOM","render","fetch","contentType","headers","ready","unregister","reload","checkValidServiceWorker","mapInit","homeInit","initState","defaultFlags","iOSWarning","offlineInit","appReducer","MAP_HISTORY_CLEAR","newClearerHistory","MAP_HISTORY_POP","MAP_HISTORY_PUSH","HOME_STATE_BACK","newStateHistory","newCurrentState","HOME_CHANGE_ACTIVE_SERIES","HOME_CHANGE_STATE","params","skipSave","replaceState","newHistory","UPLOADER_QUEUE","UPLOADER_SET_ONLINE","UPLOADER_SET_UPLOADING","UPLOADER_COMPLETE","newStore","newActive","UPLOADER_UPDATE_PROGRESS","SETFLAG","flagName","flagVal","warning","OFFLINE_VIEWPORT_SAVE","OFFLINE_SET_STATUS","_getUploadState","getUploadState","newAction","kickoff","_unused2","persistConfig","storage","persistedReducer","preloadedState","queueMiddleware","persistor","BaseComponent","_storeConfig","storeConfig","chosenItem","dark","closeIcon","avatarImg","objectFit","TheIcon","ListItemAvatar","overflowX","overflowY","listSection","placeholderText","ul","cr","ctxItem","enderRef","handleScroll","offsetTop","_listRef$current","showCreatedOn","showLastPhoto","onScroll","light","PlaceholderIcon","tabs","ListWrapper","SearchInput","flexContainer","TAGS","swipeAble","slideContainer","titleBar","mobileStepper","slide","dotActive","iconButton","active","last","labelBadge","tagChip","manualBack","manualForward","transition","_useStepper","activeStep","lastStep","handleForward","paused","pause","showXYTags","setShowXYTags","refImgWrap","_useComponentSize$siz","GridListTile","transitions","create","duration","showTags","Badge","badgeContent","GridListTileBar","titlePosition","formatDate","subtitle","actionIcon","direction","MobileStepper","steps","nextButton","backButton","isFullScreen","slides","interval","setActiveStep","setPaused","setLastStep","createTimer","oldStep","destroyTimer","imgContainer","filterContainer","filterChip","seriesListItemWrap","noneFound","SORT","sortVal","setSort","sortAsc","setSortAsc","sortSetter","newSort","tabFeed","latest","firstname","asc","useFilterStyles","arrow","photoWrapper","dateCaption","tagButton","slideshowButton","dots","onImageSelect","activePhoto","setActivePhoto","setShowTags","singular","activePhotoObj","axis","onChangeIndex","enableMouseEvents","_typeof","Symbol","iterator","constructor","exports","_Tags","_exif","getExif","_Series","_Photo","_AccessHelper","permissions","util","accessControl","_accesscontrol","_interopRequireDefault","_permissions","datesLib","_interopRequireWildcard","utilLib","_getRequireWildcardCache","WeakMap","cache","__esModule","has","newObj","hasPropertyDescriptor","desc","set","RawSVG","useSearchBarStyles","common","white","marginLeft","breakpoints","up","inputRoot","inputInput","pointerEvents","justifyContent","debounceSearchText","blur","onBlur","findOnMapButtonContainer","titleContainer","textShadow","seriesName","textOverflow","whiteSpace","EVENT_VERBS","FeedItem","cover","updatedOn","randomObjectElement","randomArrayEl","filledArray","randomMap","randomChance","randomFloat","randomInt","_random","_toConsumableArray","arr","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","TypeError","_nonIterableSpread","chance","inTimes","low","high","fillval","_x3","_x4","_s3Upload","completeActiveUpload","failRetry","formData","fields","fieldkey","append","dataURLtoFile","onUploadProgress","progressEvent","total","floor","post","removeItem","t2","t3","_x5","dataurl","filename","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","interceptors","request","use","_createSeriesMutation","_ownProps$currentUser","gravatarProfile","meUserSummary","optimisticResponse","mutationStackId","__typename","pick","createOptimisticResponse","refetchQueries","updateThunk","photoResponse","meta","updatedBy","seriesCreatedBy","large","orig","thumb","medium","photoResponseSummary","featured","photoCount","watchers","actionMaker","actionArr","useConsole","reduce","acc","acStr","_len","args","_key","_len2","_key2","fakeGlobalActions","LOCAL_STORAGE_TOKEN","INITIALIZING","AUTHENTICATING","LOADING","APPLY_MUTATIONS","DONE","setClient","setDone","setCurrState","_createApolloClient","createApolloClient","newClient","jwtToken","_callee3","authLink","httpLink","_context3","_","newHeaders","authorization","uri","attempts","Infinity","retryIf","_operation","link","tokenName","addTypename","connectToDevTools","admin","nonuser","series_public","series_open","timestampToHTML5Input","utctimestamp","_moment","format","HTML5InputToTimestamp","isoStr","convertJSDatetoTimestamp","parseDate","fixParseDate","_util","isNumeric","inTimestamp","isGMT","retVal","jsDate","getTime","tzOffset","getTimezoneOffset","fromNow","utc","formatNum","precision","precstr","_numeral","clearSelection","selection","empty","getSelection","removeAllRanges","isObjectWithKeys","makeDomArray","domnode","capitalizeFirstLetter","numericArrayCompare","arr1","some","decodeUnbufferedBase64","hash","missingPadding","newhash","Buffer","encodeUnbufferedBase64","str","urlizeb64","isObject","arrToObj","keyDat","$","attr","Number","getRandomArbitraryInt","random","wait","immediate","timeout","innerArgs","callNow","chunkArray","base64toJSON","json2base64","_zlib","isNaN","parseFloat","isFinite","o","gzip","b64String","buff","gunzip","chunkSize","font","W","fallbacks","M","userSelect","touchAction","float","outline","boxSizing","speak","borderColor","backgroundImage","O","backgroundRepeat","fill","enableBackground","visibility","textDecoration","borderWidth","borderStyle","willChange","borderBottomColor","borderLeft","borderRight","borderTopColor","borderRightColor","borderLeftColor","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","fontFamily","fontDisplay","mapContainer","_fakedata","fakePastDate","randomLocation","storeName","createInstance","OFFLINEMUTATIONS","getPendingPromise","setPendingPromise","pushMutationPromise","mutation","popMutationPromise","pm","proxyUpdateForId","proxy","resp","updateHandler","__optimistic","restoreRequests","pendingMutation","placeAvatar","placeIcon","_onClick","dialogContent","iconContainer","stop1","stopColor","rose","stop2","redorange","buttonIcon","scrollText","PaperProps","focusable","viewBox","x2","y2","offset","nuclear","deleteOpen","setDeleteOpen","mapWrapper","onConfirm","confirmed","pulseCol","fab","animationIterationCount","animationTimingFunction","directionUp","actionsClosed","modalContainer","subFabContainer","subFab","subFabIcon","setOpen","down","setDown","downRef","elRef","onDown","currentTarget","block","rootContainer","onMouseDown","onTouchStart","disableFocusRipple","disableTouchRipple","disableRipple","Modal","Zoom","in","unmountOnExit","anchorEl","menuItems","divider","Icon","primaryTypographyProps","onLibraryAdd","cameraPicker","_useFileInput","cameraWords","PlaceIcon","FormLabel","formLabel","cameraClick","libraryClick","menuEl","setMenuEl","setSeries","onDownThunk","onUpThunk","onBlock","menu","CameraPopup","onCamera","onLibrary","onMouseUp","onTouchEnd","bar","msgText","messageInner","finalProgress","LinearProgress","useWrapperStyles","displayName","rootEdit","textBody","actionButtons","_onChange","dlgOpen","setNote","stackEl","buttonText","DialogContentText","multiline","rows","rowsMax","_templateObject6","_templateObject5","_templateObject4","_templateObject3","_templateObject2","_templateObject","photoSummaryFragment","photoSummaryKeys","userSummaryFragment","seriesSummaryFragment","seriesSummaryKeys","seriesFragment","seriesKeys","photoFragment","userFragment","getWholeSeriesUpdate","qVal","readQuery","cloneDeep","writeQuery","getWholeSeriesPhotoUpdate","remove","updateSeriesSummaries","origArr","newArr","seriesIndex","newAllSeriesEntry","updateFeedList","fItem","fitem","_id","newSeriesSummary","newPhotoSummary","relation","allSeriesUpdate","allSeriesPhotoUpdate","newS","photoIndex","photoSummary","userSeriesUpdate","feedUpdate","watchUpdate","seriesFrag","readFragment","fragment","writeFragment","sid","_templateObject9","_templateObject8","_templateObject7","updateSeriesKeys","updatePhotoKeys","newPhotoKeys","newSeriesKeys","watchSeries","unWatchSeries","Actions","RESET_ALL_STATE","viewportSave","_defineProperty","configurable","writable","_default","Tags","instance","Constructor","_classCallCheck","tagLabel","getTagType","tt","xyTagLabels","getXYTagTypes","NonXYTagLabels","getNonXYTagTypes","findTagByLabel","getXYTags","group","getTagTypeIndex","_exifParser","_common","_dates","exifDateTime","exifGPS","DateTimeOriginal","GPSLatitude","GPSLongitude","_v","Series","getSeriesMeta","Photo","getPhotoMeta","_defineProperties","descriptor","AccessHelper","userSub","permissionObj","attrs","ownAny","ownOrAny","perm","ac","can","otherPerm","granted","protoProps","staticProps","circularProgress","CircularProgress","imgBroken","imgUrls","setImgUrls","altImgRef","altIndex","setAltIndex","broken","setBroken","finalURL","onError","brokenImg","setNewSize","_useComponentSize","_useXYTags","_imgRef$current","naturalHeight","naturalWidth","handleNewSize","rawImage","notDeleteable","unSelectedTile","selectedTile","snackbarContent","snackbar","allowDelete","selectMode","setSelectMode","selectedItems","setSelectedItems","setUrls","deleteConfirm","setDeleteConfirm","handleCancelSelection","toggleListItem","remaining","arrId","t4","t5","t6","t7","t8","t9","GridList","cols","cellHeight","handlePhotoTap","handleAddToSelection","ContentProps","confirmation","sliderLabel","rail","track","Slider","_createPhotoMutation","newPhotoInput","_deletePhotoMutation","_deleteSeriesMutation","_unWatchSeriesMutation","_updatePhotoMutation","newUpdatePhoto","newT","_updateSeriesMutation","_watchSeriesMutation","typography","useNextVariants","overrides","MuiDialog","paperFullWidth","colors","cblue","homeTheme","accessObj","overscrollBehavior","CosmosBlackBackground","outerTheme","iOS","innerTheme","deviceOverride","contextValue","fakeAppContext","_regeneratorRuntime","_lodash","_turf","_faker","_random2","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","EVENT_RELATIONS","date","past","latLngsAarr","transformTranslate","geometry","coordinates","FakeData","userPool","attribs","userSummary","basicAttribs","basicObj","fakeWidth","fakeHeight","photoPlaceholderArr","numPhotos","whichHighlight","hasPaths","objType","project","reach","nite","lorem","paragraphs","seriesSummary","basic","templateObj","base64","rawData","getImagePaths","strict","pool","shuffle","newItems","idt","sampleUser","freeBothTags","structureTags","treeTags","emotionTags","seasonTags","async","firstName","lastName","avatarSrc","_freeBothTagsValues","globalStyle","disableBackdropClick","disableEscapeKeyDown","IconComp","body","textArea","_templateObject17","_templateObject16","_templateObject15","_templateObject14","_templateObject13","_templateObject12","_templateObject11","_templateObject10","initQuery","seriesSummaryFromList","geoSeries","toolTip","SatelliteOutlined","ActiveIcon","Satellite","TerrainOutlined","Terrain","TopoMap","svgDot","svgAccuracyDot","projection","accHeight","pixelsPerMeter","accWidth","cx","cy","r","stroke","fillOpacity","strokeWidth","speedDialFab","speedDialAction","speedDialIcon","speedDialLabel","controlPadding","currStyle","mapStyles","setCurrStyle","noEventSetOpen","SpeedDial","ariaLabel","speedDial","SpeedDialAction","tooltipOpen","tooltipPlacement","tooltipTitle","myPosition","showMe","lockToBounds","lockPan","initStyle","incomingOnViewportChange","onViewportChange","incomingOnTransitionStart","onTransitionStart","incomingOnTransitionEnd","onTransitionEnd","onMapDataEvent","stylechooser","passthroughProps","mapContainerRef","mapBoxRef","innerTransitionsRef","defaultViewVals","setViewport","isTransitioning","setIsTransitioning","setProjection","geoMarker","captureDrag","_projection","_onViewportChange","viewportChange","newViewport","getMap","_bounds","minlng","minlat","maxlng","maxlat","_fitBounds","fitBounds","mapStyle","onData","dragPan","mapboxApiAccessToken","c","handleChild","hideNavControls","showZoom","touchZoom","scrollZoom","showCompass","touchRotate","dragRotate","transitionDuration","transitionInterpolator","transitionEasing","lockRotation","lockZoom","bearing","pitch","child","filterBounds","currentZoom","sizeScale","clusteredData","setClusteredData","single","cluster","filteredData","setFilteredData","updateDataDebounce","updatedData","_args","filterDataDebounce","filtered","_args2","filterData","filteredClusteredData","tree","screenCoords","properties","zoomLevels","geoJSON","load","_loop","z","radius","sqrt","pow","neighbors","minX","minY","maxX","maxY","neighbor","newGeoJSON","reducedPhotoCount","points","newZ","listItemText","compoundButton","seriesCount","onZoomTo","onViewList","rootActive","avatarActive","badge","badgeActive","directionIndicator","nameActive","svgArc","strokeOpacity","topBar","loadingWrapper","zoomOutFab","selectedPopup","defaultView","mapViewObj","setMapViewObj","mapViewRef","homeMapContainerRef","setCurrentZoom","showViewList","setShowViewList","_useState9","_useState10","setTransitions","_useState11","_useState12","selectedItem","setSelectedItem","updateSelectedItem","item","saveObj","transitionInterruption","maxZoom","minZoom","maxPitch","minPitch","saveMap","_onZoomTo","pts","paddedPoint","lngBuff","latBuff","buffBounds","onMarkerClick","markersRendered","offsetLeft","selectedItemRender","viewZoom","getBounds","_map$getBounds","_map$getBounds$_sw","_sw","minLng","lng","minLat","lat","_map$getBounds$_ne","_ne","maxLng","maxLat","oldMinLng","oldMinLat","oldMaxLng","oldMaxLat","onNativeClick","onSelect","mapRef","recalcProjection","baseStaticMap","deckelements","zoomBounds","InnerBounds","dot","staticMap","editable","Map","mapProps","Dot","rectContents","black","areaLabel","rectContentsDownloading","rectIcon","tooBig","tickText","svgRect","svgCutout","svgBorder","svgBorderNavigating","svgBorderLocked","svgBorderTooBig","svgBorderDownloading","downloadingProgress","downloadingProgressCircle","snackError","mapWrapperRef","viewState","area","setArea","classWithState","setGeoState","rectSide","newArea","metersPerPixel","dx","degreesPerPixel","dy","newBounds","snack","onSnackClose","snackTimeout","unlocked","doubleClickZoom","rectStyle","boxCorners","totalProgress","xmlns","sliderWrapper","sliderRoot","initLat","initLong","initDir","setCoords","setRotation","_ref2$viewport","mapFormLabel","step","SeriesContext","tagListItem","_useContext2","activeDialog","setActiveDialog","tagInst","newTags","existing","metaKeys","dense","tagKey","idtk","subheading","tabMenu","mapWrap","AddFab","gridList","placeholderInner","progressWrapper","onSlideshowStart","onEditSeries","onDeletePhotos","onCameraAdd","onDeleteSeries","contextEl","setContextEl","showQR","setShowQR","listTypeTab","setListTypeTab","initPhotoIndex","canUser","delete","contribute","accessRadio","mapInnerWrap","chips","delta","nameError","FormControlLabel","control","Switch","checked","newNote","setDelta","dlgTitleContainer","catTagTitle","canEdit","hideUser","activeDialogContext","dirty","PhotoInfoInner","newDelta","appBarEdit","tipChip","activeButton","onUpdatePhoto","setMode","tagsClass","changeMode","desired","onCommitTags","infoButton","containerStyle","photoidx","setSeriesDelta","setPhotoDelta","validName","photoTitle","newAttr","onSave","referenceTextContainer","refText","onRetry","PHOTOREVIEW","PHOTOINFOEDIT","geoRef","setNewPhotoData","setNewSeries","setNewPhoto","photoRefId","setPhotoRefId","_changeMode","geo","newModeName","_getExif","_geoRef$current","_newPhoto","sensors","refId","_getExif2","_geoRef$current2","oldHistory","oldMode","onCreate","SERIES_EDIT","NEWPHOTO","REVIEW","PHOTO_VIEW","PHOTO_VIEW_NEW","SLIDESHOW","VIEW_ONLY_MODES","VALID_STARTMODES","PHOTO_REVIEW","inputMethodINIT","seriesContextState","setSeriesContextState","pid","onApprovePhoto","newPid","newInputMethod","canUpdate","to","lastMode","photoIdArr","fab2","tileClick","_useNewImageMenu","seriesItem","accessLabel","textSm","titleText","dateContainer","dateLabel","dateText","imgFiller","imgContainerSm","small","disablePadding"],"mappings":"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","file":"static/js/main.dfb036a7.chunk.js","sourcesContent":["import { green, blue, red } from '@material-ui/core/colors';\nvar baseurl = process.env.REACT_APP_BASEURL;\nvar basename = process.env.REACT_APP_BASENAME;\nvar domain = process.env.REACT_APP_DOMAIN;\n\nif (process.env.NODE_ENV && process.env.NODE_ENV === 'development') {\n  domain = 'localhost';\n  basename = '';\n}\n\nvar mandatoryEnv = {\n  REACT_APP_MAPBOX_TOKEN: process.env.REACT_APP_MAPBOX_TOKEN,\n  REACT_APP_VERSION: process.env.REACT_APP_VERSION,\n  REACT_APP_CONTACT_EMAIL: process.env.REACT_APP_CONTACT_EMAIL,\n  REACT_APP_GRAPHQL: process.env.REACT_APP_GRAPHQL,\n  REACT_APP_AWS_REGION: process.env.REACT_APP_AWS_REGION,\n  REACT_APP_COGNITO_USER_POOL_ID: process.env.REACT_APP_COGNITO_USER_POOL_ID,\n  REACT_APP_COGNITO_CLIENT_ID: process.env.REACT_APP_COGNITO_CLIENT_ID\n};\nObject.keys(mandatoryEnv).forEach(function (keyname) {\n  if (!mandatoryEnv[keyname]) {\n    console.error(\"You must set environment variable: \".concat(keyname));\n  }\n});\nexport var mapConfig = {\n  mapBoxToken: process.env.REACT_APP_MAPBOX_TOKEN\n};\nexport var endpoints = {\n  graphql: \"\".concat(process.env.REACT_APP_GRAPHQL, \"/api\"),\n  share: \"\".concat(process.env.REACT_APP_GRAPHQL, \"/share\")\n};\nexport var tagColors = ['#418CF0', '#FCB441', '#E0400A', '#056492', '#BFBFBF', '#1A3B69', '#FFE382', '#129CDD', '#CA6B4B', '#005CDB', '#F3D288', '#506381', '#F1B9A8', '#E0830A', '#7893BE'];\nexport var version = process.env.REACT_APP_VERSION;\nexport var contact = process.env.REACT_APP_CONTACT_EMAIL;\nexport var ACCESS = {\n  OPEN: {\n    label: 'Open',\n    description: 'Anyone can see and contribute photos to this series.',\n    color: green[700]\n  },\n  PRIVATE: {\n    label: 'Private',\n    description: 'Can only be seen by you.',\n    color: red[500]\n  },\n  PUBLIC: {\n    label: 'Public',\n    description: 'Anyone can see this series. Only the owner can add photos.',\n    color: blue[500]\n  }\n};\nexport var home = {\n  Offline: {\n    seriesImgsToCache: ['thumb', 'large'],\n    highestOfflineTileZoom: 12,\n    maxMapTileArea: 25000\n  },\n  AppStateTypes: {\n    FEED: 'feed',\n    MAP: 'map',\n    SEARCH: 'search',\n    PROFILE: 'profile',\n    SERIES: 'series',\n    SETTINGS: 'settings',\n    QRCAPTURE: 'QRCapture',\n    NEW_SERIES_CAMERA: 'new_series_camera',\n    NEW_SERIES_LIBRARY: 'new_series_library',\n    OFFLINE_DOWNLOAD: 'offline_download'\n  },\n  SEARCH_TABS: {\n    KEYWORD: 'keyword',\n    TAG: 'tag',\n    LOCATION: 'location',\n    USER: 'user',\n    PROJECT: 'project'\n  },\n  MapModeTypes: {\n    FREE: 'free',\n    USER: 'user',\n    TAG: 'tag'\n  }\n};\nexport var federated = {};\nexport var analytics = {\n  token: process.env.REACT_APP_GA_TOKEN || 'UA-XXXXXXXX-XX'\n};\nexport var aws = {\n  Auth: {\n    region: process.env.REACT_APP_AWS_REGION,\n    userPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\n    userPoolWebClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\n    mandatorySignIn: true,\n    cookieStorage: {\n      domain: \"\".concat(domain),\n      expires: 120,\n      secure: false\n    }\n  },\n  AWSPinpoint: {\n    appId: process.env.REACT_APP_AWS_PINPOINT,\n    region: 'us-east-1',\n    mandatorySignIn: false\n  }\n};","import { endpoints } from './config';\nexport var createShareUrl = function createShareUrl(series, photoId) {\n  var noRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (!series) return null;\n  var obj = {\n    type: 'series',\n    s: series.id,\n    p: photoId\n  };\n  var encodedId = encodeURI(JSON.stringify(obj));\n  var url = \"\".concat(window.location.origin).concat(process.env.PUBLIC_URL, \"/?fromqr=\").concat(encodedId);\n  var ogShare = \"\".concat(endpoints.share, \"/\").concat(series.id, \"/\").concat(photoId || '');\n  return {\n    url: url,\n    ogShare: ogShare\n  };\n};\nexport var decodeShareUrl = function decodeShareUrl(search) {\n  try {\n    var find = '?fromqr=';\n    var foundIdx = search.indexOf(find);\n    if (foundIdx < 0) return null;\n    var newData = search.slice(foundIdx + find.length);\n    var decodedUrl = JSON.parse(decodeURI(newData));\n    return decodedUrl;\n  } catch (err) {\n    console.error(err);\n  }\n\n  return null;\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport { getExif } from '@morphoto/common';\n\nvar useCamera = function useCamera(onCapture, width, height) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      cameraError = _useState2[0],\n      setCameraError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cameraOnline = _useState4[0],\n      setCameraOnline = _useState4[1];\n\n  var camRef = useRef();\n  useEffect(function () {\n    camRef.current = new Webcam(document.getElementById('webcam'), document.createElement('canvas'));\n    camRef.current.setup(width || window.innerWidth, height || window.innerHeight).then(function (data) {\n      setCameraOnline(true);\n    }).catch(function (e) {\n      console.error(e);\n      setCameraError(true);\n    });\n  }, [width, height]);\n  useEffect(function () {\n    if (camRef.current) {\n      camRef.current.setup(width, height).then(function (data) {\n        setCameraOnline(true);\n      }).catch(function (e) {\n        console.error(e);\n        setCameraError(true);\n      });\n    }\n  }, [width, height]);\n  useEffect(function () {\n    return function () {\n      if (camRef.current) {\n        camRef.current.destroy();\n        camRef.current = null;\n      }\n    };\n  }, []);\n\n  var captureImage = function captureImage() {\n    if (camRef.current && cameraOnline) {\n      try {\n        camRef.current.imageCapture(function (err, imgData) {\n          if (err) console.error(err);\n          console.log('imageCapture', imgData);\n          onCapture(imgData);\n        }, {\n          type: 'jpeg',\n          quality: 1\n        });\n      } catch (_unused) {\n        console.log('Your hardware is lame and doesn\\'t support ImageCapture');\n        var capturedData = camRef.current.takeDataURLPhoto({\n          type: 'jpeg',\n          quality: 1\n        });\n        onCapture(capturedData);\n      }\n    }\n  };\n\n  var captureRawData = function captureRawData() {\n    if (camRef.current && cameraOnline) {\n      var capturedData = camRef.current.takeImageData();\n      onCapture(capturedData);\n    }\n  };\n\n  return {\n    cameraError: cameraError,\n    captureImage: captureImage,\n    cameraOnline: cameraOnline,\n    captureRawData: captureRawData\n  };\n};\n\nexport var Webcam =\n/*#__PURE__*/\nfunction () {\n  function Webcam(webcamElement, canvasElement) {\n    _classCallCheck(this, Webcam);\n\n    this.webcamElement = webcamElement;\n    this.canvasElement = canvasElement;\n\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      console.warn('getUserMedia() must be run from a secure origin: https or localhost.\\nChanging protocol to https.');\n    }\n\n    if (!navigator.mediaDevices && !navigator.getUserMedia) {\n      console.warn(\"Your browser doesn't support navigator.mediaDevices.getUserMedia and navigator.getUserMedia.\");\n    }\n  }\n\n  _createClass(Webcam, [{\n    key: \"destroy\",\n    value: function () {\n      var _destroy = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                try {\n                  this.webcamElement.srcObject.getTracks()[0].stop();\n                  this.canvasElement = null;\n                } catch (e) {\n                  console.error(e);\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function destroy() {\n        return _destroy.apply(this, arguments);\n      }\n\n      return destroy;\n    }()\n  }, {\n    key: \"setup\",\n    value: function () {\n      var _setup = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(width, height) {\n        var _this = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                console.log('NEWSETUP', width, height);\n                return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  if (navigator.mediaDevices.getUserMedia !== undefined) {\n                    if (_this.webcamElement.srcObject) {\n                      _this.webcamElement.srcObject.getTracks()[0].stop();\n\n                      _this.webcamElement.srcObject = null;\n                    }\n\n                    navigator.mediaDevices.getUserMedia({\n                      audio: false,\n                      video: {\n                        facingMode: 'environment',\n                        width: {\n                          ideal: Math.max(height, width)\n                        },\n                        height: {\n                          ideal: Math.min(height, width)\n                        }\n                      }\n                    }).then(function (mediaStream) {\n                      if ('srcObject' in _this.webcamElement) {\n                        _this.webcamElement.srcObject = mediaStream;\n                      } else {\n                        _this.webcamElement.src = window.URL.createObjectURL(mediaStream);\n                      }\n\n                      _this.webcamElement.onloadedmetadata = function (e) {\n                        _this.webcamElement.play();\n                      };\n\n                      _this.webcamElement.onplaying = function (e) {\n                        resolve();\n                      };\n                    }).catch(function (err) {\n                      return reject(err);\n                    });\n                  } else {\n                    reject(new Error('Error accessing camera'));\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function setup(_x, _x2) {\n        return _setup.apply(this, arguments);\n      }\n\n      return setup;\n    }()\n  }, {\n    key: \"_drawImage\",\n    value: function _drawImage() {\n      var imageWidth = this.webcamElement.videoWidth;\n      var imageHeight = this.webcamElement.videoHeight;\n      var context = this.canvasElement.getContext('2d');\n      this.canvasElement.width = imageWidth;\n      this.canvasElement.height = imageHeight;\n      context.drawImage(this.webcamElement, 0, 0, imageWidth, imageHeight);\n      return {\n        imageHeight: imageHeight,\n        imageWidth: imageWidth\n      };\n    }\n  }, {\n    key: \"takeImageData\",\n    value: function takeImageData() {\n      var _this$_drawImage = this._drawImage(),\n          imageHeight = _this$_drawImage.imageHeight,\n          imageWidth = _this$_drawImage.imageWidth;\n\n      var data = {\n        data: null,\n        imageHeight: imageHeight,\n        imageWidth: imageWidth\n      };\n\n      try {\n        data.data = this.canvasElement.getContext('2d').getImageData(0, 0, imageWidth, imageHeight).data;\n      } catch (e) {}\n\n      return data;\n    }\n  }, {\n    key: \"imageCapture\",\n    value: function imageCapture(cb) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        type: 'jpeg',\n        quality: 1\n      },\n          type = _ref.type,\n          quality = _ref.quality;\n\n      var mediaStreamTrack = this.webcamElement.srcObject.getVideoTracks()[0];\n      var imageCapture = new ImageCapture(mediaStreamTrack);\n      imageCapture.getPhotoCapabilities();\n      imageCapture.takePhoto().then(function (blob) {\n        var fr = new FileReader();\n\n        fr.onload = function (e) {\n          var img = new Image();\n\n          img.onload = function () {\n            var exif = getExif(e.target.result);\n            console.log('exif', exif);\n            cb(null, {\n              dataUrl: e.target.result,\n              imageHeight: img.height,\n              imageWidth: img.width,\n              exif: exif,\n              type: 'image/' + type,\n              ext: type\n            });\n          };\n\n          img.src = e.target.result;\n        };\n\n        fr.readAsDataURL(blob);\n      }).catch(function (error) {\n        return console.error('takePhoto() error:', error);\n      });\n    }\n  }, {\n    key: \"takeDataURLPhoto\",\n    value: function takeDataURLPhoto() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        type: 'jpeg',\n        quality: 1\n      },\n          type = _ref2.type,\n          quality = _ref2.quality;\n\n      var _this$_drawImage2 = this._drawImage(),\n          imageHeight = _this$_drawImage2.imageHeight,\n          imageWidth = _this$_drawImage2.imageWidth;\n\n      var dataUrl = this.canvasElement.toDataURL('image/' + type, quality);\n      return {\n        dataUrl: dataUrl,\n        imageHeight: imageHeight,\n        imageWidth: imageWidth,\n        type: 'image/' + type\n      };\n    }\n  }]);\n\n  return Webcam;\n}();\nexport default useCamera;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useState, useLayoutEffect, useRef } from 'react';\nimport { util } from '@morphoto/common';\n\nvar getSize = function getSize(el, minSize, defaultSize) {\n  if (!el) return defaultSize || minSize || {\n    width: 0,\n    height: 0\n  };\n\n  if (minSize) {\n    return {\n      width: Math.max(minSize.width, el.offsetWidth),\n      height: Math.max(minSize.height, el.offsetHeight)\n    };\n  } else {\n    return {\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n};\n\nvar useComponentSize = function useComponentSize(ref, minSize, defaultSize) {\n  var resizeActiveRef = useRef();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      resizeActive = _useState2[0],\n      setResizeActive = _useState2[1];\n\n  resizeActiveRef.current = resizeActive;\n\n  var _useState3 = useState(getSize(ref ? ref.current : null, minSize, defaultSize)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setComponentSize = _useState4[1];\n\n  var handleResize = function handleResize() {\n    if (!resizeActiveRef.current || !ref.current) return;\n    var newSize = getSize(ref.current, minSize, defaultSize);\n\n    if (newSize.height !== size.height || newSize.width !== size.width) {\n      setComponentSize(newSize);\n    }\n  };\n\n  var handleResizeDebounced = useCallback(util.debounce(handleResize, 500), []);\n  useLayoutEffect(function () {\n    if (!ref.current) return;\n    handleResize();\n\n    if (typeof ResizeObserver === 'function') {\n      var resizeObserver = new ResizeObserver(handleResizeDebounced);\n      resizeObserver.observe(ref.current);\n      return function () {\n        resizeObserver.disconnect(ref.current);\n        resizeObserver = null;\n      };\n    } else {\n      window.addEventListener('resize', handleResizeDebounced);\n      return function () {\n        window.removeEventListener('resize', handleResizeDebounced);\n      };\n    }\n  }, [ref.current]);\n  return {\n    size: size,\n    setResizeActive: setResizeActive\n  };\n};\n\nexport default useComponentSize;","import _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useEffect, useRef } from 'react';\n\nvar useFileInput = function useFileInput() {\n  var onChange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n  var preferCamera = arguments.length > 1 ? arguments[1] : undefined;\n  var initialClick = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var anyFile = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var inputRef = useRef();\n  var clickRef = useRef();\n  var element = React.createElement(\"input\", {\n    style: {\n      display: 'none'\n    },\n    ref: inputRef,\n    type: \"file\",\n    accept: !anyFile ? 'image/*' : null,\n    capture: preferCamera\n  });\n\n  var forceClick = function forceClick() {\n    if (inputRef.current) inputRef.current.click();\n  };\n\n  useEffect(function () {\n    var handleChange = function handleChange(evt) {\n      var _ref = _toConsumableArray(inputRef.current.files),\n          file = _ref[0];\n\n      if (file) {\n        console.log('file', file);\n        var reader = new FileReader();\n\n        reader.onloadend = function () {\n          var type = file.type,\n              name = file.name,\n              size = file.size;\n          onChange({\n            dataUrl: reader.result,\n            type: type,\n            name: name,\n            size: size,\n            ext: getExtFromFile(file)\n          });\n        };\n\n        reader.readAsDataURL(file);\n      }\n\n      inputRef.current.value = null;\n    };\n\n    if (inputRef.current) {\n      inputRef.current.addEventListener('change', handleChange);\n\n      if (!clickRef.current) {\n        if (initialClick) inputRef.current.click();\n        clickRef.current = true;\n      }\n    }\n\n    return function () {\n      if (inputRef.current) {\n        inputRef.current.removeEventListener('change', handleChange);\n      }\n    };\n  }, [inputRef.current]);\n  return {\n    fileClickEl: element,\n    forceClick: forceClick,\n    inputRef: inputRef\n  };\n};\n\nexport default useFileInput;\nexport var getExtFromFile = function getExtFromFile(fileBlob) {\n  switch (fileBlob.type) {\n    case 'image/jpeg':\n      return 'jpeg';\n\n    case 'image/jpg':\n      return 'jpeg';\n\n    case 'image/png':\n      return 'png';\n\n    default:\n      return 'jpg';\n  }\n};","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState, useMemo } from 'react';\n\nvar useOnline = function useOnline() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var onChange = function onChange(e) {\n    if (window.navigator.onLine) {\n      console.log('ONLINE', e);\n      if (state !== null) setState(null);\n    } else {\n      console.log('OFFLINE', e);\n      var newDate = Date.now();\n      if (state !== newDate) setState(newDate);\n    }\n  };\n\n  useEffect(function () {\n    onChange();\n    window.addEventListener('online', onChange);\n    window.addEventListener('offline', onChange);\n    return function () {\n      window.removeEventListener('online', onChange);\n      window.removeEventListener('offline', onChange);\n    };\n  }, []);\n  var retVal = useMemo(function () {\n    return {\n      isOnline: state === null,\n      offlineSince: state\n    };\n  }, [state]);\n  return retVal;\n};\n\nexport default useOnline;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useState, useLayoutEffect } from 'react';\nimport { util } from '@morphoto/common';\nimport _ from 'lodash';\n\nvar getState = function getState(state) {\n  var _window = window,\n      orientation = _window.orientation,\n      innerWidth = _window.innerWidth,\n      innerHeight = _window.innerHeight,\n      _window$screen = _window.screen,\n      width = _window$screen.width,\n      height = _window$screen.height;\n  var wOrient = [90, 270].indexOf(Math.abs(orientation)) !== 0 ? 'landscape' : 'portrait';\n  var windowSize = {\n    width: innerWidth,\n    height: innerHeight\n  };\n  var screenSize = {\n    width: width,\n    height: height\n  };\n  var returnState = {\n    orientation: wOrient,\n    windowSize: windowSize,\n    screenSize: screenSize\n  };\n  return returnState;\n};\n\nvar useResponsive = function useResponsive(mediaQueries) {\n  var _useState = useState(getState()),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var handleResize = function handleResize(e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    var newState = getState(state);\n    if (state && ['input', 'textarea', 'select'].indexOf(window.document.activeElement.tagName.toLowerCase()) > -1) return;else if (_.isEqual(state, newState)) return;\n    console.log('handleResize', newState);\n    setState(newState);\n  };\n\n  var handleResizeDebounced = useCallback(util.debounce(handleResize, 500), []);\n  useLayoutEffect(function () {\n    handleResizeDebounced();\n    window.addEventListener('resize', handleResizeDebounced);\n    window.addEventListener('orientationchange', handleResizeDebounced);\n    return function () {\n      window.removeEventListener('resize', handleResizeDebounced);\n      window.removeEventListener('orientationchange', handleResizeDebounced);\n    };\n  }, []);\n  return state;\n};\n\nexport default useResponsive;","import _classCallCheck from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    console.log('ErrorBoundary constructor');\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      console.log('ErrorBoundary componentDidCatch');\n      console.error(error);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          hasError = _this$state.hasError,\n          error = _this$state.error;\n      var FallbackUI = this.props.fallback;\n\n      if (hasError) {\n        console.log('ErrorBoundary hasError');\n        return React.createElement(FallbackUI, {\n          error: error\n        });\n      }\n\n      return this.props.children;\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      console.log('ErrorBoundary getDerivedStateFromError');\n      console.error(error);\n      return {\n        hasError: true,\n        error: error\n      };\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nErrorBoundary.propTypes = {\n  children: PropTypes.any,\n  fallback: PropTypes.any\n};\nexport default ErrorBoundary;","export var isIos = function isIos() {\n  return Boolean(/iphone|ipad|ipod/i.test(window.navigator.userAgent || navigator.vendor || window.opera || ''));\n};\nexport var isPhone = function isPhone() {\n  var a = window.navigator.userAgent || navigator.vendor || window.opera || '';\n  return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4));\n};\nexport var device = {\n  ios: isIos(),\n  phone: isPhone()\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { device } from './useOSDetect';\nimport useOnline from './useOnline';\nimport useResponsive from './useResponsive';\nexport var AppContext = React.createContext({});\nexport var AppContextProvider = function AppContextProvider(_ref) {\n  var children = _ref.children,\n      value = _ref.value;\n  var online = useOnline();\n  var responsive = useResponsive();\n  var unchanging = useMemo(function () {\n    return {\n      device: _objectSpread({}, device, {}, value.device)\n    };\n  }, [value.device]);\n\n  var finalValue = _objectSpread({\n    responsive: responsive,\n    online: online\n  }, value, {}, unchanging);\n\n  return React.createElement(AppContext.Provider, {\n    value: finalValue\n  }, children);\n};\nAppContextProvider.propTypes = {\n  children: PropTypes.any,\n  value: PropTypes.shape({\n    user: PropTypes.object,\n    signedIn: PropTypes.bool.isRequired,\n    getPhotoUrls: PropTypes.func.isRequired,\n    device: PropTypes.object,\n    metaConfig: PropTypes.object,\n    tagConfig: PropTypes.array.isRequired,\n    onAvatarClick: PropTypes.func,\n    globalActions: PropTypes.object.isrequired\n  })\n};","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nexport var useGeolocation = function useGeolocation() {\n  var _useState = useState({\n    accuracy: null,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    latitude: null,\n    longitude: null,\n    speed: null,\n    timestamp: Date.now()\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var mountedRef = useRef();\n  var watchIdRef = useRef();\n  mountedRef.current = true;\n\n  var onEvent = function onEvent(event) {\n    if (mountedRef.current) {\n      setState({\n        accuracy: event.coords.accuracy,\n        altitude: event.coords.altitude,\n        altitudeAccuracy: event.coords.altitudeAccuracy,\n        heading: event.coords.heading,\n        latitude: event.coords.latitude,\n        longitude: event.coords.longitude,\n        speed: event.coords.speed,\n        timestamp: event.timestamp\n      });\n    }\n  };\n\n  useEffect(function () {\n    navigator.geolocation.getCurrentPosition(onEvent);\n    watchIdRef.current = navigator.geolocation.watchPosition(onEvent);\n    return function () {\n      mountedRef.current = false;\n      navigator.geolocation.clearWatch(watchIdRef.current);\n    };\n  }, [navigator.geolocation]);\n  return state;\n};\nexport function useDeviceOrientation() {\n  var _useState3 = useState({\n    absolute: false,\n    alpha: null,\n    beta: null,\n    gamma: null\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      deviceOrientation = _useState4[0],\n      setDeviceOrientation = _useState4[1];\n\n  function handleDeviceOrientation(event) {\n    setDeviceOrientation({\n      absolute: event.absolute,\n      alpha: event.alpha,\n      beta: event.beta,\n      gamma: event.gamma\n    });\n  }\n\n  useEffect(function () {\n    window.addEventListener('deviceorientation', handleDeviceOrientation, true);\n    return function () {\n      window.removeEventListener('deviceorientation', handleDeviceOrientation);\n    };\n  }, []);\n  return deviceOrientation;\n}","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as configImp from './config';\nexport var config = _objectSpread({}, configImp);\nexport { createShareUrl, decodeShareUrl } from './share';\nexport { default as useCamera } from './useCamera';\nexport { default as useComponentSize } from './useComponentSize';\nexport { default as useFileInput } from './useFileInput';\nexport { default as useOnline } from './useOnline';\nexport { default as useResponsive } from './useResponsive';\nexport { default as ErrorBoundary } from './ErrorBoundary';\nexport { playAudio } from './audio';\nexport { AppContext, AppContextProvider } from './appContext';\nexport { useGeolocation, useDeviceOrientation } from './useSensors';\nexport { device, isIos, isPhone } from './useOSDetect';","import React from 'react';\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \" M 16 8 L 16 8.938 L 14 8.938 L 14 10.938 L 16 10.938 L 16 12 L 16 14 L 16 14 L 16 15 L 14 15 L 14 17 L 16 17 L 16 17 L 16 18 L 12.969 18 L 12.969 14 L 15 14 L 15 12 L 12.969 12 L 12.969 7.969 L 12.969 7.969 L 12.969 7.969 C 12.969 7.417 12.521 6.969 11.969 6.969 C 11.417 6.969 10.969 7.417 10.969 7.969 L 10.969 12 L 9 12 L 9 14 L 10.969 14 L 10.969 18 L 8 18 L 8 17 L 10 17 L 10 15 L 8 15 L 8 15 L 8 14 L 8 14 L 8 12 L 8 10.938 L 8 10.938 L 10 10.938 L 10 8.938 L 8 8.938 L 8 8 C 8 7.448 7.552 7 7 7 C 6.448 7 6 7.448 6 8 L 6 8 L 6 8.938 L 5 8.938 L 5 10.938 L 6 10.938 L 6 12 L 4 12 L 4 8 C 4 7.448 3.552 7 3 7 C 2.448 7 2 7.448 2 8 L 2 10.4 L 2 12 L 2 14 L 2 16 L 2 17.6 C 2 18.925 3.075 20 4.4 20 L 19.6 20 C 20.925 20 22 18.925 22 17.6 L 22 16 L 22 14 L 22 12 L 22 10.4 L 22 10.4 L 22 8 C 22 7.448 21.552 7 21 7 C 20.448 7 20 7.448 20 8 L 20 12 L 18 12 L 18 10.938 L 18 10.938 L 19 10.938 L 19 8.938 L 18 8.938 L 18 8 C 18 7.448 17.552 7 17 7 C 16.448 7 16 7.448 16 8 Z  M 6 15 L 6 14 L 6 14 L 6 14 L 6 14 L 4 14 L 4 15.69 C 4 16.86 4.871 17.828 6 17.979 L 6 17 L 5 17 L 5 15 L 6 15 L 6 15 L 6 15 L 6 15 L 6 15 Z  M 18 15 L 18 14 L 18 14 L 18 14 L 20 14 L 20 15.69 C 20 16.86 19.129 17.828 18 17.979 L 18 17 L 19 17 L 19 15 L 18 15 L 18 15 L 18 15 L 18 15 L 18 15 L 18 15 L 18 15 Z \",\n  fillRule: \"evenodd\"\n})), 'BDA');","import React from 'react';\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M16.432,6.104c-2.671,-1.06 -6.842,4.123 -6.572,5.826c-3.78,-7.611 2.788,-8.409 3.682,-10.699c0.64,1.255 5.18,2.608 2.89,4.873Z\"\n}), React.createElement(\"path\", {\n  d: \"M9.159,5.228c-2.254,1.782 0.149,7.986 1.76,8.604c-8.482,-0.532 -5.889,-6.619 -7.425,-8.538c1.407,0.073 4.848,-3.183 5.665,-0.066Z\"\n}), React.createElement(\"path\", {\n  d: \"M4.727,11.059c0.417,2.844 6.991,3.864 8.331,2.779c-4.701,7.079 -8.676,1.79 -11.106,2.161c0.766,-1.183 -0.332,-5.791 2.775,-4.94Z\"\n}), React.createElement(\"path\", {\n  d: \"M7.561,17.813c2.671,1.061 6.842,-4.122 6.572,-5.826c3.781,7.611 -2.788,8.409 -3.681,10.699c-0.641,-1.255 -5.181,-2.607 -2.891,-4.873Z\"\n}), React.createElement(\"path\", {\n  d: \"M14.828,18.736c2.254,-1.783 -0.149,-7.987 -1.76,-8.605c8.482,0.532 5.889,6.619 7.425,8.538c-1.407,-0.072 -4.849,3.183 -5.665,0.067Z\"\n}), React.createElement(\"path\", {\n  d: \"M19.26,12.904c-0.417,-2.843 -6.991,-3.864 -8.331,-2.778c4.701,-7.08 8.676,-1.791 11.106,-2.162c-0.767,1.183 0.332,5.791 -2.775,4.94Z\"\n})), 'AppLogoSimple');","import React from 'react';\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M22,2l0,20l-20,0l0,-20l20,0Zm-2,2l-16,0l0,16l16,0l0,-16Z\"\n}), React.createElement(\"rect\", {\n  x: \"5\",\n  y: \"5\",\n  width: \"4\",\n  height: \"4\"\n}), React.createElement(\"rect\", {\n  x: \"15\",\n  y: \"5\",\n  width: \"4\",\n  height: \"4\"\n}), React.createElement(\"rect\", {\n  x: \"5\",\n  y: \"15\",\n  width: \"4\",\n  height: \"4\"\n}), React.createElement(\"rect\", {\n  x: \"10\",\n  y: \"10\",\n  width: \"1\",\n  height: \"5\"\n}), React.createElement(\"rect\", {\n  x: \"11\",\n  y: \"10\",\n  width: \"6\",\n  height: \"2\"\n}), React.createElement(\"rect\", {\n  x: \"11\",\n  y: \"12\",\n  width: \"2\",\n  height: \"2\"\n}), React.createElement(\"rect\", {\n  x: \"13\",\n  y: \"7\",\n  width: \"1\",\n  height: \"2\"\n}), React.createElement(\"rect\", {\n  x: \"14\",\n  y: \"9\",\n  width: \"1\",\n  height: \"1\"\n}), React.createElement(\"rect\", {\n  x: \"8\",\n  y: \"10\",\n  width: \"1\",\n  height: \"4\"\n}), React.createElement(\"rect\", {\n  x: \"7\",\n  y: \"11\",\n  width: \"1\",\n  height: \"3\"\n}), React.createElement(\"rect\", {\n  x: \"9\",\n  y: \"11\",\n  width: \"1\",\n  height: \"1\"\n}), React.createElement(\"rect\", {\n  x: \"10\",\n  y: \"6\",\n  width: \"2\",\n  height: \"3\"\n}), React.createElement(\"rect\", {\n  x: \"12\",\n  y: \"7\",\n  width: \"1\",\n  height: \"1\"\n}), React.createElement(\"rect\", {\n  x: \"15\",\n  y: \"14\",\n  width: \"2\",\n  height: \"4\"\n}), React.createElement(\"rect\", {\n  x: \"14\",\n  y: \"14\",\n  width: \"1\",\n  height: \"1\"\n}), React.createElement(\"rect\", {\n  x: \"17\",\n  y: \"15\",\n  width: \"2\",\n  height: \"2\"\n}), React.createElement(\"rect\", {\n  x: \"11\",\n  y: \"16\",\n  width: \"1\",\n  height: \"3\"\n}), React.createElement(\"rect\", {\n  x: \"12\",\n  y: \"15\",\n  width: \"2\",\n  height: \"2\"\n}), React.createElement(\"rect\", {\n  x: \"10\",\n  y: \"18\",\n  width: \"1\",\n  height: \"1\"\n})), 'QRCode');","import React from 'react';\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M21.229,18.388c-0.346,0.799 -0.756,1.535 -1.23,2.211c-0.647,0.922 -1.176,1.56 -1.584,1.914c-0.632,0.582 -1.31,0.88 -2.036,0.897c-0.521,0 -1.149,-0.148 -1.88,-0.449c-0.734,-0.299 -1.408,-0.448 -2.025,-0.448c-0.646,0 -1.34,0.149 -2.081,0.448c-0.743,0.301 -1.342,0.457 -1.799,0.473c-0.696,0.03 -1.39,-0.277 -2.082,-0.921c-0.442,-0.385 -0.995,-1.046 -1.657,-1.982c-0.71,-0.999 -1.294,-2.158 -1.752,-3.48c-0.49,-1.427 -0.735,-2.809 -0.735,-4.147c0,-1.533 0.331,-2.855 0.994,-3.963c0.521,-0.89 1.215,-1.591 2.083,-2.107c0.868,-0.515 1.806,-0.778 2.816,-0.794c0.553,0 1.278,0.17 2.179,0.506c0.898,0.338 1.474,0.509 1.727,0.509c0.189,0 0.83,-0.2 1.916,-0.599c1.027,-0.369 1.894,-0.522 2.604,-0.462c1.924,0.155 3.37,0.914 4.331,2.28c-1.721,1.043 -2.572,2.503 -2.555,4.377c0.016,1.459 0.545,2.674 1.585,3.638c0.472,0.447 0.999,0.793 1.584,1.039c-0.127,0.368 -0.261,0.721 -0.403,1.06Zm-4.413,-17.366c0,1.144 -0.418,2.212 -1.251,3.2c-1.005,1.176 -2.221,1.855 -3.54,1.748c-0.017,-0.138 -0.026,-0.282 -0.026,-0.434c0,-1.098 0.478,-2.273 1.327,-3.234c0.423,-0.486 0.962,-0.891 1.616,-1.214c0.652,-0.318 1.269,-0.493 1.85,-0.523c0.016,0.152 0.024,0.305 0.024,0.457l0,0Z\"\n})), 'Apple');","export { default as BDA } from './BDA';\nexport { default as AppLogo } from './AppLogo';\nexport { default as AppLogoSimple } from './AppLogoSimple';\nexport { default as QRCode } from './QRCode';\nexport { default as Apple } from './Apple';","import React, { useContext } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { QRCode as QRCodeIcon, AppLogoSimple } from '@morphoto/icons';\nimport { AppContext } from '@morphoto/client-common';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    appBar: {\n      background: 'transparent'\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      width: '100%',\n      padding: theme.spacing(0, 1),\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      borderBottom: \"2px solid \".concat(theme.palette.primary.main),\n      background: \"linear-gradient(90deg, \".concat(theme.palette.primary.main, \" 0%, \").concat(theme.palette.secondary.main, \" 100%)\")\n    },\n    searchIcon: {\n      opacity: 0.3,\n      marginRight: theme.spacing(1)\n    },\n    transparent: {\n      backgroundColor: 'transparent',\n      background: 'none',\n      color: theme.palette.text.primary,\n      borderBottom: \"2px solid transparent\"\n    },\n    iOsIcon: {\n      color: 'rgba(0, 0, 0, 0.26)'\n    },\n    logo: {\n      padding: theme.spacing(0, 0),\n      height: 40,\n      width: 40\n    },\n    transparentLogo: {\n      background: \"linear-gradient(90deg, \".concat(theme.palette.primary.main, \" 0%, \").concat(theme.palette.secondary.main, \" 100%)\"),\n      padding: theme.spacing(0.5, 0.5)\n    },\n    transparentLogoIcon: {\n      color: 'white',\n      height: 35,\n      width: 35\n    },\n    children: {\n      flexGrow: 1,\n      padding: theme.spacing(0, 1)\n    },\n    qrButton: {\n      padding: theme.spacing(0, 0)\n    },\n    qrButtonTransparent: {\n      background: 'white',\n      padding: theme.spacing(0.5, 0.5)\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar TopBar = function TopBar(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      isTransparent = _ref.isTransparent,\n      hideLogo = _ref.hideLogo,\n      actions = _ref.actions;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      device = _useContext.device;\n\n  return React.createElement(AppBar, {\n    elevation: 0,\n    position: isTransparent ? 'absolute' : 'static',\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    className: classNames(classes.toolbar, className, isTransparent ? classes.transparent : null),\n    disableGutters: true\n  }, !hideLogo && React.createElement(IconButton, {\n    className: isTransparent ? classes.transparentLogo : classes.logo,\n    color: \"inherit\",\n    onClick: function onClick() {\n      return actions.setDrawerOpen(true);\n    }\n  }, React.createElement(AppLogoSimple, {\n    className: isTransparent ? classes.transparentLogoIcon : classes.logo\n  })), React.createElement(\"div\", {\n    className: classes.children\n  }, children), React.createElement(IconButton, {\n    color: \"inherit\",\n    className: classNames(device.ios ? classes.iOsIcon : null, isTransparent ? classes.qrButtonTransparent : classes.qrButton),\n    \"aria-label\": \"Menu\",\n    onClick: actions.onQRClickWrapped\n  }, React.createElement(QRCodeIcon, {\n    color: \"inherit\"\n  }))));\n};\n\nTopBar.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.any,\n  isTransparent: PropTypes.bool,\n  hideLogo: PropTypes.bool,\n  actions: PropTypes.shape({\n    onQRClickWrapped: PropTypes.func,\n    setDrawerOpen: PropTypes.func.isRequred\n  })\n};\nexport default TopBar;","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CloudDownload from '@material-ui/icons/CloudDownload';\nimport InfoIcon from '@material-ui/icons/Info';\nimport MobileScreenShare from '@material-ui/icons/MobileScreenShare';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { QRCode as QRCodeIcon } from '@morphoto/icons';\nimport { AppContext } from '@morphoto/client-common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    drawerInner: {\n      width: 250,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    disableListItem: {\n      color: 'rgba(0, 0, 0, 0.26)'\n    },\n    avatar: {\n      height: theme.spacing(7),\n      width: theme.spacing(7),\n      border: \"3px solid \".concat(theme.palette.primary.main),\n      margin: theme.spacing(0, 1)\n    },\n    gravatarImg: {\n      width: '100%'\n    },\n    spacer: {\n      flexGrow: 1\n    },\n    fullList: {\n      width: 'auto'\n    }\n  };\n});\n\nvar SideDrawer = function SideDrawer(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      actions = _ref.actions;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      device = _useContext.device,\n      currentUser = _useContext.currentUser,\n      signedIn = _useContext.signedIn,\n      globalActions = _useContext.globalActions;\n\n  return React.createElement(SwipeableDrawer, {\n    open: open,\n    onClose: onClose,\n    onOpen: onOpen\n  }, React.createElement(\"div\", {\n    className: classes.drawerInner,\n    role: \"presentation\",\n    onClick: onClose,\n    onKeyDown: onClose\n  }, currentUser && currentUser.username && React.createElement(List, null, React.createElement(ListItem, {\n    className: classes.root,\n    onClick: function onClick() {},\n    disableGutters: true\n  }, React.createElement(Avatar, {\n    className: classes.avatar\n  }, signedIn && currentUser ? React.createElement(\"img\", {\n    alt: \"profile\",\n    className: classes.gravatarImg,\n    src: currentUser.gravatar\n  }) : React.createElement(AccountCircleIcon, {\n    color: \"inherit\",\n    className: classes.loginButton\n  }))), React.createElement(ListItem, {\n    className: classes.root,\n    onClick: function onClick() {}\n  }, React.createElement(ListItemText, {\n    primary: currentUser.username\n  }))), React.createElement(Divider, null), React.createElement(List, null, React.createElement(ListItem, {\n    className: device.ios ? classes.disableListItem : null,\n    button: true,\n    onClick: device.ios ? actions.onDisabledClick : globalActions.onQRButtonClick\n  }, React.createElement(ListItemIcon, null, React.createElement(QRCodeIcon, null)), React.createElement(ListItemText, {\n    primary: 'Scan QR Code'\n  })), globalActions.addToHomeScreen && React.createElement(ListItem, {\n    button: true,\n    onClick: globalActions.addToHomeScreen\n  }, React.createElement(ListItemIcon, null, React.createElement(MobileScreenShare, null)), React.createElement(ListItemText, {\n    primary: 'Install this app',\n    secondary: 'It works better!'\n  })), React.createElement(ListItem, {\n    button: true,\n    onClick: globalActions.onOfflineMenuClick\n  }, React.createElement(ListItemIcon, null, React.createElement(CloudDownload, null)), React.createElement(ListItemText, {\n    primary: 'Offline Download'\n  }))), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Divider, null), React.createElement(List, null, React.createElement(ListItem, {\n    button: true,\n    onClick: globalActions.onSettingsClick\n  }, React.createElement(ListItemIcon, null, React.createElement(SettingsIcon, null)), React.createElement(ListItemText, {\n    primary: 'App Settings'\n  })), React.createElement(ListItem, {\n    button: true,\n    onClick: actions.onAboutClick\n  }, React.createElement(ListItemIcon, null, React.createElement(InfoIcon, null)), React.createElement(ListItemText, {\n    primary: 'About'\n  })), signedIn ? React.createElement(ListItem, {\n    button: true,\n    onClick: globalActions.signOut\n  }, React.createElement(ListItemIcon, null, React.createElement(ExitToAppIcon, null)), React.createElement(ListItemText, {\n    primary: 'Sign Out'\n  })) : React.createElement(ListItem, {\n    button: true,\n    onClick: globalActions.forceSignIn\n  }, React.createElement(ListItemIcon, null, React.createElement(AccountCircleIcon, null)), React.createElement(ListItemText, {\n    primary: 'Sign In'\n  })))));\n};\n\nSideDrawer.propTypes = {\n  open: PropTypes.bool,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  actions: PropTypes.shape({\n    onDisabledClick: PropTypes.func,\n    onAboutClick: PropTypes.func\n  })\n};\nexport default SideDrawer;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { FeatureDisabled } from '@morphoto/modals';\nimport { AboutApp } from '@morphoto/ui';\nimport SideDrawer from './SideDrawer';\nimport TopBar from './TopBar';\nimport { AppContext, config } from '@morphoto/client-common';\nimport { Typography } from '@material-ui/core';\nvar DIALOGS = {\n  APPLE_WARNING: 'APPLE_WARNING',\n  ABOUTAPP: 'ABOUTAPP'\n};\n\nvar TopBarWrapper = function TopBarWrapper(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      topBarProps = _objectWithoutProperties(_ref, [\"className\", \"children\"]);\n\n  var _useContext = useContext(AppContext),\n      device = _useContext.device,\n      globalActions = _useContext.globalActions;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dialogOpen = _useState2[0],\n      setDialogOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      drawerOpen = _useState4[0],\n      setDrawerOpen = _useState4[1];\n\n  var handleQRClick = device.ios ? function () {\n    return setDialogOpen(DIALOGS.APPLE_WARNING);\n  } : globalActions.onQRButtonClick;\n  return React.createElement(React.Fragment, null, React.createElement(TopBar, _extends({}, topBarProps, {\n    children: children,\n    actions: {\n      onQRClickWrapped: handleQRClick,\n      setDrawerOpen: setDrawerOpen\n    }\n  })), React.createElement(SideDrawer, {\n    open: drawerOpen,\n    onClose: function onClose() {\n      return setDrawerOpen(false);\n    },\n    onOpen: function onOpen() {\n      return setDrawerOpen(true);\n    },\n    actions: {\n      onDisabledClick: function onDisabledClick() {\n        return setDialogOpen(DIALOGS.APPLE_WARNING);\n      },\n      onAboutClick: function onAboutClick() {\n        return setDialogOpen(DIALOGS.ABOUTAPP);\n      }\n    }\n  }), device.ios && React.createElement(FeatureDisabled, {\n    open: dialogOpen === DIALOGS.APPLE_WARNING,\n    title: \"iOS Feature Disabled\",\n    message: React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"div\"\n    }, React.createElement(\"p\", null, \"This feature cannot function due to a bug in iOS 12 that prevents \", React.createElement(\"strong\", null, \"direct camera access from progressive web apps\"), \".\"), React.createElement(\"p\", null, \"There is good evidence iOS 13 has things sorted. ETA from Apple is mid-September 2019.\")),\n    onClose: function onClose() {\n      return setDialogOpen(false);\n    }\n  }), React.createElement(AboutApp, {\n    open: dialogOpen === DIALOGS.ABOUTAPP,\n    onClose: function onClose() {\n      return setDialogOpen(false);\n    },\n    version: config.version\n  }));\n};\n\nTopBarWrapper.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.any\n};\nexport default TopBarWrapper;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useRef, useEffect, useState, useContext } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { dates } from '@morphoto/common';\nimport { AppContext } from '@morphoto/client-common';\nvar CHECKINTERVAL = 5000;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      background: 'black',\n      color: 'white',\n      textAlign: 'center'\n    }\n  };\n});\n\nvar OfflineBar = function OfflineBar() {\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      sinceStr = _useState2[0],\n      setSinceStr = _useState2[1];\n\n  var _useContext = useContext(AppContext),\n      online = _useContext.online,\n      signedIn = _useContext.signedIn;\n\n  var timerRef = useRef();\n\n  var calcSinceStr = function calcSinceStr() {\n    var newText = dates.formatDateAgo(online.offlineSince);\n    setSinceStr(newText);\n  };\n\n  var clearTimer = function clearTimer() {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  useEffect(function () {\n    if (online.offlineSince && !timerRef.current) {\n      calcSinceStr();\n      timerRef.current = setInterval(calcSinceStr, CHECKINTERVAL);\n    } else if (!online.offlineSince) clearTimer();\n\n    return function () {\n      clearTimer();\n    };\n  }, [online.offlineSince]);\n  var loggedText = !signedIn ? 'You are not signed in.' : '';\n  var offlineText = !online.isOnline ? \"Offline (\".concat(sinceStr, \")\") : '';\n  if (online.isOnline && signedIn) return null;\n  return React.createElement(Typography, {\n    className: classes.root,\n    variant: \"caption\",\n    component: \"div\"\n  }, loggedText, \" \", offlineText);\n};\n\nexport default OfflineBar;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useContext } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport HomeIcon from '@material-ui/icons/HomeOutlined';\nimport MapIcon from '@material-ui/icons/MapOutlined';\nimport SearchIcon from '@material-ui/icons/SearchOutlined';\nimport AddIcon from '@material-ui/icons/Add';\nimport PersonOutline from '@material-ui/icons/PersonOutline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { config, AppContext } from '@morphoto/client-common';\nimport { AddFab } from '@morphoto/ui';\nimport OfflineBar from './OfflineBar';\nvar STATES = config.home.AppStateTypes;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      borderTop: \"2px solid \".concat(theme.palette.secondary.main)\n    },\n    container: {\n      padding: 0,\n      display: 'flex'\n    },\n    toolbar: {\n      color: theme.palette.jet.main,\n      backgroundColor: theme.palette.papayawhip.main\n    },\n    text: {\n      padding: theme.spacing(2, 2, 0)\n    },\n    paper: {\n      paddingBottom: 50\n    },\n    list: {\n      marginBottom: theme.spacing(2)\n    },\n    subheader: {\n      backgroundColor: theme.palette.background.paper\n    },\n    grow: {\n      flexGrow: 1\n    },\n    addFab: {\n      position: 'absolute',\n      bottom: 0,\n      left: '50%',\n      transformOrigin: '0% 100%',\n      transform: 'translateY(-25%) translateX(-50%) translateZ(0)',\n      zIndex: 200\n    },\n    spacer: {\n      width: 40,\n      flexGrow: 1\n    }\n  };\n});\n\nvar BottomBar = function BottomBar(_ref) {\n  var className = _ref.className,\n      domain = _ref.domain;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      globalActions = _useContext.globalActions,\n      signedIn = _useContext.signedIn;\n\n  return React.createElement(AppBar, {\n    position: \"static\",\n    className: classNames(classes.root, className)\n  }, React.createElement(Toolbar, {\n    className: classes.toolbar\n  }, React.createElement(Container, {\n    maxWidth: \"sm\",\n    className: classes.container\n  }, signedIn && React.createElement(Button, {\n    edge: \"start\",\n    className: classes.grow,\n    color: domain === STATES.FEED ? 'secondary' : 'inherit',\n    onClick: domain !== STATES.FEED ? function () {\n      return globalActions.setHomeState(STATES.FEED);\n    } : function () {}\n  }, React.createElement(HomeIcon, null)), React.createElement(Button, {\n    edge: \"start\",\n    className: classes.grow,\n    color: domain === STATES.MAP ? 'secondary' : 'inherit',\n    onClick: domain !== STATES.MAP ? function () {\n      return globalActions.setHomeState(STATES.MAP);\n    } : function () {}\n  }, React.createElement(MapIcon, null)), signedIn && React.createElement(AddFab, {\n    className: classes.addFab,\n    onCameraClick: globalActions.onCameraClick,\n    onLibraryClick: globalActions.onLibraryClick\n  }, React.createElement(AddIcon, null)), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    color: domain === STATES.SEARCH ? 'secondary' : 'inherit',\n    className: classes.grow,\n    onClick: domain !== STATES.SEARCH ? function () {\n      return globalActions.setHomeState(STATES.SEARCH);\n    } : function () {}\n  }, React.createElement(SearchIcon, null)), signedIn && React.createElement(Button, {\n    edge: \"end\",\n    color: domain === STATES.PROFILE ? 'secondary' : 'inherit',\n    className: classes.grow,\n    onClick: domain !== STATES.PROFILE ? function () {\n      return globalActions.setHomeState(STATES.PROFILE);\n    } : function () {}\n  }, React.createElement(PersonOutline, null)))));\n};\n\nBottomBar.propTypes = {\n  className: PropTypes.string,\n  domain: PropTypes.string,\n  signedIn: PropTypes.bool\n};\nexport default BottomBar;\nexport var BottomBarCosmosWrapper = function BottomBarCosmosWrapper(props) {\n  var classes = useWrapperStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(OfflineBar, _extends({}, props, {\n    offlineSince: Date.now() - 3600000\n  })), React.createElement(CssBaseline, null), \" \", React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(Typography, {\n    variant: \"h5\"\n  }, \"This is a dummy component.\")), React.createElement(BottomBar, props));\n};\n\nvar wrapperStyle = function wrapperStyle(theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    paper: {\n      flexGrow: 1\n    }\n  };\n};\n\nvar useWrapperStyles = makeStyles(wrapperStyle);","export { default as TopBar } from './TopBar';\nexport { default as TopBarWrapper } from './TopBarWrapper';\nexport { default as BottomBar } from './BottomBar';\nexport { default as OfflineBar } from './OfflineBar';\nexport { default as SideDrawer } from './SideDrawer';","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Chip from '@material-ui/core/Chip';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nexport var tagChips = {\n  height: 20\n};\n\nvar style = function style(theme) {\n  return {\n    root: {\n      fontSize: '0.6em',\n      height: tagChips.height,\n      marginRight: theme.spacing(1) / 2,\n      marginTop: theme.spacing(1) / 2\n    },\n    deleteIcon: {\n      width: tagChips.height - 1,\n      height: tagChips.height - 1\n    },\n    chipAvatar: {\n      width: tagChips.height,\n      height: tagChips.height\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar TagChip = function TagChip(_ref) {\n  var edit = _ref.edit,\n      tag = _ref.tag,\n      color = _ref.color,\n      onDelete = _ref.onDelete,\n      props = _objectWithoutProperties(_ref, [\"edit\", \"tag\", \"color\", \"onDelete\"]);\n\n  var classes = useStyles();\n  var theme = useTheme();\n  return React.createElement(Chip, _extends({\n    style: {\n      background: color || null,\n      color: color ? \"\".concat(theme.palette.getContrastText(color)) : null\n    },\n    label: tag.label,\n    data: tag.id,\n    onDelete: edit ? function () {\n      return onDelete(tag);\n    } : null,\n    deleteIcon: React.createElement(CancelIcon, {\n      className: classes.deleteIcon,\n      onClick: function onClick(e) {\n        console.log('this click');\n      },\n      style: {\n        opacity: 0.5,\n        color: color ? \"\".concat(theme.palette.getContrastText(color)) : null\n      }\n    }),\n    className: classes.root\n  }, props));\n};\n\nTagChip.propTypes = {\n  color: PropTypes.string.isRequired,\n  edit: PropTypes.bool,\n  tag: PropTypes.object.isRequired,\n  onDelete: PropTypes.func\n};\nexport default TagChip;","export default (function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    tagContainer: {},\n    formControl: {},\n    singleValue: {\n      fontSize: 16\n    },\n    valueContainer: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flex: 1,\n      alignItems: 'center',\n      overflow: 'hidden'\n    },\n    paper: {}\n  };\n});","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from 'react-select';\nimport CreatableSelect from 'react-select/lib/Creatable';\nimport TagChip from './TagChip';\nimport style from './TagControl.style';\nvar useStyles = makeStyles(style);\n\nvar TagControl = function TagControl(_ref) {\n  var tags = _ref.tags,\n      onChange = _ref.onChange,\n      hint = _ref.hint,\n      tagConfig = _ref.tagConfig,\n      className = _ref.className;\n  var classes = useStyles();\n\n  var onSelectChange = function onSelectChange(inputValue, _ref2) {\n    var action = _ref2.action,\n        removedValue = _ref2.removedValue,\n        option = _ref2.option;\n    onChange(inputValue.map(function (iv) {\n      return {\n        typeId: tagConfig.id,\n        label: iv.label,\n        xyCoords: null\n      };\n    }));\n  };\n\n  var MultiValue = function MultiValue(_ref3) {\n    var removeProps = _ref3.removeProps,\n        innerProps = _ref3.innerProps,\n        data = _ref3.data,\n        props = _objectWithoutProperties(_ref3, [\"removeProps\", \"innerProps\", \"data\"]);\n\n    return React.createElement(TagChip, {\n      tag: data,\n      onDelete: function onDelete(e) {\n        removeProps.onClick();\n      },\n      color: tagConfig.color,\n      edit: true\n    });\n  };\n\n  MultiValue.propTypes = {\n    removeProps: PropTypes.any,\n    innerProps: PropTypes.any,\n    data: PropTypes.any\n  };\n  var tagValues = tags.filter(function (tag) {\n    return tag.typeId === tagConfig.id && !tag.coords;\n  });\n  var selectOptions = tagValues.map(function (val) {\n    return {\n      label: val.label,\n      value: val.val\n    };\n  });\n  var remainingTags = tagConfig.values.filter(function (val) {\n    return tagValues.map(function (t) {\n      return t.label;\n    }).indexOf(val) === -1;\n  }).map(function (val) {\n    return {\n      label: val,\n      value: val\n    };\n  });\n  console.log('TAG DEBUG', {\n    tags: tags,\n    tagConfig: tagConfig,\n    tagValues: tagValues,\n    selectOptions: selectOptions,\n    remainingTags: remainingTags\n  });\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(Typography, {\n    variant: \"overline\",\n    className: classes.fieldTitle\n  }, tagConfig.label), !tagConfig.allowAdditions && React.createElement(Select, {\n    options: remainingTags,\n    classes: classes,\n    isFocused: true,\n    components: {},\n    deleteRemoves: true,\n    value: selectOptions,\n    isClearable: false,\n    onChange: onSelectChange,\n    placeholder: \"Select Tags\",\n    isMulti: true,\n    isSearchable: true\n  }), tagConfig.allowAdditions && React.createElement(CreatableSelect, {\n    options: remainingTags,\n    classes: classes,\n    isFocused: true,\n    deleteRemoves: true,\n    components: {},\n    value: selectOptions,\n    isClearable: false,\n    onChange: onSelectChange,\n    placeholder: \"Select Tags\",\n    isMulti: true,\n    isSearchable: true\n  }), hint && React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.hint\n  }, hint));\n};\n\nTagControl.propTypes = {\n  className: PropTypes.string,\n  hint: PropTypes.string,\n  tags: PropTypes.array,\n  onChange: PropTypes.func.isRequired,\n  tagConfig: PropTypes.object\n};\nexport default TagControl;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TagControl from './TagControl';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    dlgContent: {},\n    title: {\n      border: \"1px solid \".concat(theme.palette.grey[200]),\n      background: theme.palette.grey[100],\n      width: '100%',\n      margin: 0,\n      display: 'flex',\n      padding: theme.spacing(2)\n    },\n    dlgTitle: {\n      flexGrow: 1\n    },\n    closeButton: {\n      padding: 0,\n      alignSelf: 'flex-start'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar TagEdit = function TagEdit(_ref) {\n  var open = _ref.open,\n      title = _ref.title,\n      onOk = _ref.onOk,\n      onCancel = _ref.onCancel,\n      tags = _ref.tags,\n      tagConfig = _ref.tagConfig;\n  var classes = useStyles();\n\n  var _useState = useState(tags),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  return React.createElement(Dialog, {\n    className: classes.root,\n    scroll: \"paper\",\n    fullScreen: true,\n    open: open,\n    onClose: function onClose() {\n      return onOk(value);\n    }\n  }, React.createElement(DialogTitle, {\n    className: classes.title,\n    disableTypography: true\n  }, React.createElement(Typography, {\n    className: classes.dlgTitle\n  }, title), React.createElement(IconButton, {\n    className: classes.closeButton,\n    onClick: onCancel\n  }, React.createElement(CloseIcon, null))), React.createElement(DialogContent, {\n    className: classes.dlgContent\n  }, React.createElement(TagControl, {\n    className: classes.field,\n    tags: value,\n    tagConfig: tagConfig,\n    onChange: setValue\n  })), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: onCancel\n  }, \"Cancel\"), React.createElement(\"div\", {\n    style: {\n      flexGrow: 1\n    }\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return setValue(tags);\n    }\n  }, \"Reset\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return onOk(value);\n    }\n  }, \"Ok\")));\n};\n\nTagEdit.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string,\n  onOk: PropTypes.func,\n  onCancel: PropTypes.func,\n  tags: PropTypes.array.isRequired,\n  tagConfig: PropTypes.object.isRequired\n};\nexport default TagEdit;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TagChip from './TagChip';\nimport style from './TagControl.style';\nvar useStyles = makeStyles(style);\n\nvar TagControl = function TagControl(_ref) {\n  var tags = _ref.tags,\n      label = _ref.label,\n      tagConfig = _ref.tagConfig,\n      className = _ref.className;\n  var classes = useStyles();\n  var tagValues = tags.filter(function (tag) {\n    return tag.typeId === tagConfig.id && !tag.coords;\n  });\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(Typography, {\n    variant: \"overline\",\n    className: classes.fieldTitle\n  }, tagConfig.label), React.createElement(\"div\", {\n    className: classes.tagContainer\n  }, tagValues.map(function (tag, idx) {\n    return React.createElement(TagChip, {\n      tag: tag,\n      key: \"tagchip\".concat(idx),\n      color: tagConfig.color\n    });\n  })));\n};\n\nTagControl.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string,\n  tags: PropTypes.array,\n  tagConfig: PropTypes.object\n};\nexport default TagControl;","var tagChips = {\n  height: 20\n};\nexport default (function (theme) {\n  return {\n    xyTagChip: {\n      cursor: 'pointer',\n      color: 'white',\n      fontSize: '0.6em',\n      background: '#444444',\n      height: tagChips.height,\n      position: 'absolute',\n      left: -tagChips.height / 2,\n      top: -tagChips.height / 2\n    },\n    editing: {},\n    reversedChip: {\n      flexDirection: 'row-reverse',\n      left: 'unset',\n      right: -tagChips.height / 2\n    },\n    deleteIcon: {\n      width: tagChips.height - 1,\n      height: tagChips.height - 1\n    },\n    chipAvatarIcon: {\n      color: 'white',\n      width: tagChips.height - 4,\n      height: tagChips.height - 4\n    },\n    chipAvatar: {\n      background: 'inherit',\n      width: tagChips.height,\n      height: tagChips.height\n    },\n    reversedDelete: {\n      margin: \"0 -\".concat(tagChips.height / 8, \"px 0 \").concat(tagChips.height / 8, \"px\")\n    },\n    chipBucket: {\n      width: 1,\n      height: 1,\n      display: 'flex',\n      flexDirection: 'row',\n      position: 'absolute'\n    },\n    reversedChipBucket: {\n      flexDirection: 'row-reverse'\n    }\n  };\n});","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Draggable from 'react-draggable';\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport MyLocation from '@material-ui/icons/MyLocation';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport style from './XYTagChip.style';\nvar useStyles = makeStyles(style);\n\nvar XYTagChip = function XYTagChip(_ref) {\n  var color = _ref.color,\n      edit = _ref.edit,\n      tag = _ref.tag,\n      newSize = _ref.newSize,\n      onTagDragOver = _ref.onTagDragOver,\n      onTagDragStop = _ref.onTagDragStop,\n      onNewTag = _ref.onNewTag,\n      onTagDelete = _ref.onTagDelete,\n      props = _objectWithoutProperties(_ref, [\"color\", \"edit\", \"tag\", \"newSize\", \"onTagDragOver\", \"onTagDragStop\", \"onNewTag\", \"onTagDelete\"]);\n\n  var isReversed = tag.relCoords.x > newSize.newWidth / 2;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var stopBadness = function stopBadness(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  var handleDrag = function handleDrag(e, data) {\n    stopBadness(e);\n    onTagDragOver(data, tag);\n  };\n\n  var handleStopDrag = function handleStopDrag(e, data) {\n    stopBadness(e);\n    onTagDragStop(data, tag);\n  };\n\n  return React.createElement(Draggable, {\n    disabled: !edit,\n    bounds: {\n      left: 10,\n      top: 10,\n      right: newSize.newWidth - 10,\n      bottom: newSize.newHeight - 10\n    },\n    position: {\n      x: tag.relCoords.x,\n      y: tag.relCoords.y\n    },\n    onDrag: handleDrag,\n    onStop: handleStopDrag,\n    onClick: stopBadness\n  }, React.createElement(\"div\", {\n    className: classNames(classes.chipBucket, isReversed && classes.reversedChipBucket)\n  }, React.createElement(Chip, _extends({\n    style: {\n      background: color ? \"\".concat(color, \"!important\") : null,\n      color: color ? \"\".concat(theme.palette.getContrastText(color), \"!important\") : null\n    },\n    color: edit ? 'secondary' : 'default',\n    label: tag.label,\n    data: tag.id,\n    onClick: stopBadness,\n    onDelete: edit ? onTagDelete(tag) : null,\n    deleteIcon: edit ? React.createElement(CancelIcon, {\n      className: classNames(classes.deleteIcon, isReversed && classes.reversedDelete)\n    }) : React.createElement(\"div\", null),\n    className: classNames(classes.xyTagChip, isReversed && classes.reversedChip, edit && classes.editing)\n  }, props, {\n    avatar: React.createElement(Avatar, {\n      className: classNames(classes.chipAvatar, edit && classes.editing)\n    }, React.createElement(MyLocation, {\n      className: classNames(classes.chipAvatarIcon, edit && classes.editing)\n    }))\n  }))));\n};\n\nXYTagChip.propTypes = {\n  color: PropTypes.string,\n  edit: PropTypes.bool,\n  tag: PropTypes.object.isRequired,\n  newSize: PropTypes.object,\n  onTagDragOver: PropTypes.func,\n  onTagDragStop: PropTypes.func,\n  onNewTag: PropTypes.func,\n  onTagDelete: PropTypes.func\n};\nexport default XYTagChip;","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Select from 'react-select';\nimport CreatableSelect from 'react-select/lib/Creatable';\nimport style from './XYTagSelect.style';\nvar useStyles = makeStyles(style);\n\nvar XYTagSelect = function XYTagSelect(_ref) {\n  var tagConfig = _ref.tagConfig,\n      onChange = _ref.onChange;\n  var classes = useStyles();\n  var options = tagConfig.values.map(function (tc) {\n    return {\n      label: tc.label,\n      value: tc.id\n    };\n  });\n  console.log('XYTagSelect', tagConfig);\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, !tagConfig.allowAdditions && React.createElement(Select, {\n    options: options,\n    classes: classes,\n    components: {\n      Control: Control,\n      Menu: Menu,\n      NoOptionsMessage: NoOptionsMessage,\n      Option: Option,\n      Placeholder: Placeholder,\n      ValueContainer: ValueContainer\n    },\n    value: null,\n    blurInputOnSelect: true,\n    isClearable: false,\n    onChange: onChange,\n    placeholder: tagConfig.label,\n    isSearchable: true\n  }), tagConfig.allowAdditions && React.createElement(CreatableSelect, {\n    options: options,\n    classes: classes,\n    components: {\n      Control: Control,\n      Menu: Menu,\n      NoOptionsMessage: NoOptionsMessage,\n      Option: Option,\n      Placeholder: Placeholder,\n      ValueContainer: ValueContainer\n    },\n    value: null,\n    isClearable: false,\n    blurInputOnSelect: true,\n    onChange: onChange,\n    placeholder: tagConfig.label,\n    isSearchable: true\n  }));\n};\n\nXYTagSelect.propTypes = {\n  tagConfig: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nexport default XYTagSelect;\n\nfunction Control(props) {\n  return React.createElement(TextField, _extends({\n    fullWidth: true,\n    InputProps: {\n      inputComponent: inputComponent,\n      inputProps: _objectSpread({\n        className: props.selectProps.classes.input,\n        inputRef: props.innerRef,\n        children: props.children\n      }, props.innerProps)\n    }\n  }, props.selectProps.textFieldProps));\n}\n\nvar NoOptionsMessage = function NoOptionsMessage(_ref2) {\n  var innerProps = _ref2.innerProps,\n      selectProps = _ref2.selectProps,\n      children = _ref2.children;\n  return React.createElement(Typography, _extends({\n    color: \"textSecondary\",\n    className: selectProps.classes.noOptionsMessage\n  }, innerProps), children);\n};\n\nvar Menu = function Menu(_ref3) {\n  var selectProps = _ref3.selectProps,\n      innerProps = _ref3.innerProps,\n      children = _ref3.children;\n  return React.createElement(Paper, _extends({\n    square: true,\n    className: selectProps.classes.paper\n  }, innerProps), children);\n};\n\nvar inputComponent = function inputComponent(_ref4) {\n  var inputRef = _ref4.inputRef,\n      props = _objectWithoutProperties(_ref4, [\"inputRef\"]);\n\n  return React.createElement(\"div\", _extends({\n    ref: inputRef\n  }, props));\n};\n\nvar Placeholder = function Placeholder(props) {\n  return React.createElement(Typography, _extends({\n    color: \"textSecondary\",\n    className: props.selectProps.classes.placeholder\n  }, props.innerProps), props.children);\n};\n\nvar Option = function Option(_ref5) {\n  var innerRef = _ref5.innerRef,\n      isFocused = _ref5.isFocused,\n      isSelected = _ref5.isSelected,\n      innerProps = _ref5.innerProps,\n      children = _ref5.children;\n  return React.createElement(MenuItem, _extends({\n    buttonRef: innerRef,\n    selected: isFocused,\n    component: \"div\",\n    style: {\n      fontWeight: isSelected ? 500 : 400\n    }\n  }, innerProps), children);\n};\n\nvar ValueContainer = function ValueContainer(_ref6) {\n  var selectProps = _ref6.selectProps,\n      children = _ref6.children;\n  return React.createElement(\"div\", {\n    className: selectProps.classes.valueContainer\n  }, children);\n};\n\nValueContainer.propTypes = {\n  selectProps: PropTypes.object.isRequired,\n  children: PropTypes.any\n};","export default (function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    noOptionsMessage: {\n      padding: \"\".concat(theme.spacing(1), \"px \").concat(theme.spacing(1) * 2, \"px\")\n    },\n    singleValue: {\n      fontSize: 16\n    },\n    placeholder: {\n      position: 'absolute',\n      left: 2,\n      fontSize: 16\n    },\n    input: {\n      display: 'flex',\n      padding: 0\n    },\n    valueContainer: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flex: 1,\n      alignItems: 'center',\n      overflow: 'hidden'\n    },\n    paper: {\n      position: 'absolute',\n      zIndex: 100,\n      marginTop: theme.spacing(1),\n      left: 0,\n      right: 0\n    }\n  };\n});","export default (function (theme) {\n  return {\n    root: {\n      overflow: 'visible'\n    },\n    header: {\n      padding: theme.spacing(1) * 2\n    },\n    listItem: {\n      flexDirection: 'column'\n    },\n    dlgBody: {\n      paddingLeft: theme.spacing(1) * 2,\n      paddingRight: theme.spacing(1) * 2,\n      paddingBottom: theme.spacing(1) * 2\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  };\n});","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppContext } from '@morphoto/client-common';\nimport XYTagSelect from './XYTagSelect';\nimport style from './XYTagChooser.style';\nvar useStyles = makeStyles(style);\n\nvar XYTagChooser = function XYTagChooser(_ref) {\n  var coords = _ref.coords,\n      open = _ref.open,\n      onNewTag = _ref.onNewTag,\n      _onClose = _ref.onClose;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      tagConfig = _useContext.tagConfig;\n\n  var xyTags = tagConfig.filter(function (t) {\n    return t.allowXY;\n  });\n  if (!coords) return null;\n  return React.createElement(Dialog, {\n    open: open,\n    scroll: \"paper\",\n    fullScreen: true,\n    classes: {\n      paperScrollPaper: classes.root\n    },\n    onClose: function onClose() {\n      return _onClose();\n    },\n    \"aria-labelledby\": \"simple-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"simple-dialog-title\",\n    className: classes.header\n  }, \"New Tag:\", React.createElement(IconButton, {\n    className: classes.closeButton,\n    onClick: _onClose\n  }, React.createElement(CloseIcon, null))), React.createElement(\"div\", {\n    className: classes.dlgBody\n  }, xyTags.length > 1 && React.createElement(Typography, {\n    variant: \"caption\"\n  }, \"What kind of tag would you like to create?\"), xyTags.map(function (tagType, idx) {\n    return React.createElement(\"div\", {\n      className: classes.listItem,\n      key: \"tagSelect\".concat(idx)\n    }, React.createElement(XYTagSelect, {\n      tagConfig: tagType,\n      onChange: onNewTag(coords, tagType)\n    }));\n  })));\n};\n\nXYTagChooser.propTypes = {\n  open: PropTypes.bool.isRequired,\n  coords: PropTypes.object,\n  onClose: PropTypes.func.isRequired,\n  onNewTag: PropTypes.func.isRequired\n};\nexport default XYTagChooser;","import _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from 'react';\nimport { AppContext } from '@morphoto/client-common';\nimport XYTagChooser from './XYTagChooser';\nimport { Tags } from '@morphoto/common';\n\nvar useXYTags = function useXYTags(photo, newSize, onChange, setResizeActive) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isDragging = _useState2[0],\n      setIsDragging = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newTagDialog = _useState4[0],\n      setNewTagDialog = _useState4[1];\n\n  var _useContext = useContext(AppContext),\n      tagConfig = _useContext.tagConfig;\n\n  var tagClass = new Tags(tagConfig, photo.tags);\n\n  var onNewTag = function onNewTag(coords, tagType) {\n    return function (_ref) {\n      var value = _ref.value,\n          isNew = _ref.__isNew__;\n      var addTag = isNew ? tagClass.createNewXYTagObj(value, tagType.id, coords) : tagClass.createExistingXYTagObj(value, tagType.id, coords);\n      setNewTagDialog(null);\n      onChange(_objectSpread({}, photo, {\n        tags: [].concat(_toConsumableArray(photo.tags), [addTag])\n      }));\n    };\n  };\n\n  var onTagDelete = function onTagDelete(tag) {\n    return function () {\n      var tags = photo.tags.filter(function (oldTag) {\n        return oldTag.label !== tag.label;\n      });\n      onChange(_objectSpread({}, photo, {\n        tags: tags\n      }));\n    };\n  };\n\n  var onAddTagTrigger = function onAddTagTrigger(e) {\n    if (!newTagDialog) {\n      setResizeActive(false);\n      setNewTagDialog({\n        x: parseInt(e.pageX - (window.innerWidth - newSize.newWidth) / 2 * newSize.multiplier, 10),\n        y: parseInt(e.pageY - (window.innerHeight - newSize.newHeight) / 2 * newSize.multiplier, 10)\n      });\n    }\n  };\n\n  var updateTagLocation = function updateTagLocation(_ref2, tag) {\n    var x = _ref2.x,\n        y = _ref2.y;\n    var newTags = photo.tags.map(function (oldTag) {\n      if (oldTag.label !== tag.label) return oldTag;else {\n        var newX = parseInt(x / newSize.multiplier, 10);\n        var newY = parseInt(y / newSize.multiplier, 10);\n        return _objectSpread({}, oldTag, {\n          coords: {\n            x: newX,\n            y: newY\n          }\n        });\n      }\n    });\n    return newTags;\n  };\n\n  var onTagDragStop = function onTagDragStop(coords, tag) {\n    var tags = updateTagLocation(coords, tag);\n    setIsDragging(false);\n    onChange(_objectSpread({}, photo, {\n      tags: tags\n    }));\n  };\n\n  var onTagDragOver = function onTagDragOver(coords, tag) {\n    updateTagLocation(coords, tag);\n    setIsDragging(true);\n  };\n\n  var TagChooser = function TagChooser() {\n    return React.createElement(XYTagChooser, {\n      open: !isDragging && Boolean(newTagDialog),\n      coords: newTagDialog,\n      onNewTag: onNewTag,\n      onClose: function onClose() {\n        setNewTagDialog(null);\n        setResizeActive(true);\n      }\n    });\n  };\n\n  return {\n    onNewTag: onNewTag,\n    onTagDelete: onTagDelete,\n    onAddTagTrigger: onAddTagTrigger,\n    onTagDragOver: onTagDragOver,\n    onTagDragStop: onTagDragStop,\n    TagChooser: TagChooser,\n    getRelXYTags: tagClass.getRelXYTags\n  };\n};\n\nexport default useXYTags;","export { default as TagChip } from './TagChip';\nexport { default as TagControl } from './TagControl';\nexport { default as TagEdit } from './TagEdit';\nexport { default as TagView } from './TagView';\nexport { default as XYTagChip } from './XYTagChip';\nexport { default as XYTagChooser } from './XYTagChooser';\nexport { default as XYTagSelect } from './XYTagSelect';\nexport { default as useXYTags } from './useXYTags';","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useRef, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nvar LoadFakeData = function LoadFakeData(_ref) {\n  var children = _ref.children,\n      delay = _ref.delay,\n      props = _objectWithoutProperties(_ref, [\"children\", \"delay\"]);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      mockData = _useState2[0],\n      setData = _useState2[1];\n\n  var dataRef = useRef();\n  dataRef.current = mockData;\n  useEffect(function () {\n    var dirName = process.env.PUBLIC_URL.split('/').filter(function (d) {\n      return d.length > 0;\n    });\n    var dirPath = dirName.length === 0 ? 'data' : \"\".concat(dirName[0], \"/data\");\n    var finalPath = window.location.protocol + '//' + window.location.host + '/' + dirPath;\n    console.log('PATH', {\n      finalPath: finalPath,\n      dirName: dirName,\n      protocol: window.location.protocol,\n      host: window.location.host\n    });\n    Object.keys(props).forEach(function (key) {\n      if (dataRef.current && !dataRef.current[key]) {\n        axios(\"\".concat(finalPath, \"/\").concat(props[key])).then(function (result) {\n          if (delay) {\n            console.log('LoadFakeData::Start loading...');\n            setTimeout(function () {\n              console.log('LoadFakeData::Loading done...');\n              setData(_objectSpread({}, dataRef.current, _defineProperty({}, key, result.data)));\n            }, delay);\n          } else setData(_objectSpread({}, dataRef.current, _defineProperty({}, key, result.data)));\n        }).catch(function (err) {\n          console.error('LoadFakeData::I AM AN ERROR', err);\n        });\n      }\n    });\n  }, []);\n  var loaded = Object.keys(mockData).length;\n  var loading = Object.keys(props).length;\n\n  var context = mockData.context,\n      mockProps = _objectWithoutProperties(mockData, [\"context\"]);\n\n  var finalData = loaded !== loading ? {} : mockProps;\n  var finalRender = useMemo(function () {\n    return React.cloneElement(children, _objectSpread({}, children.props, {}, finalData));\n  }, [mockData]);\n  console.log('LoadFakeData::finalData', finalData);\n  return finalRender;\n};\n\nLoadFakeData.propTypes = {\n  children: PropTypes.node.isRequired,\n  delay: PropTypes.number\n};\nexport default LoadFakeData;","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar withContext = function withContext(ContextObj) {\n  var Inner = function Inner(_ref) {\n    var children = _ref.children,\n        props = _objectWithoutProperties(_ref, [\"children\"]);\n\n    return React.createElement(ContextObj.Provider, {\n      value: props\n    }, children);\n  };\n\n  Inner.propTypes = {\n    children: PropTypes.any.isRequired\n  };\n};\n\nexport default withContext;","import { useRef, useEffect } from 'react';\n\nvar useAuthCommon = function useAuthCommon() {\n  var containerRef = useRef();\n\n  var handleKeyPress = function handleKeyPress(event) {\n    if (event.key === 'Enter') {\n      if (containerRef.current) {\n        try {\n          var found = containerRef.current.getElementsByClassName('enterAction');\n          if (found && found[0]) found[0].click();\n        } catch (e) {\n          console.error('useAuthCommon::handleKeyPress', e);\n        }\n      }\n    }\n  };\n\n  useEffect(function () {\n    if (containerRef.current) {\n      try {\n        document.addEventListener('keypress', handleKeyPress, false);\n      } catch (e) {\n        console.error('useAuthCommon::useEffect', e);\n      }\n\n      return function () {\n        return document.removeEventListener('keypress', handleKeyPress, false);\n      };\n    }\n  }, []);\n  return containerRef;\n};\n\nexport default useAuthCommon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useAuthCommon from './useAuthCommon';\nimport { AppLogo } from '@morphoto/icons';\nimport { config } from '@morphoto/client-common';\nimport { ThemeProvider } from '@material-ui/styles';\nimport themes from '@morphoto/themes';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%'\n    },\n    bgSwoosh: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 0\n    },\n    loading: {\n      animation: '$loadingSpin 4s linear infinite, $loadingFade 6s infinite'\n    },\n    '@keyframes loadingSpin': {\n      'from': {\n        transform: 'rotate(0deg) translateY(-50%) translateX(-50%)'\n      },\n      'to': {\n        transform: 'rotate(360deg) translateY(-50%) translateX(-50%)'\n      }\n    },\n    '@keyframes loadingFade': {\n      '0%': {\n        opacity: 0.1\n      },\n      '50%': {\n        opacity: 1\n      },\n      '100%': {\n        opacity: 0.1\n      }\n    },\n    spacer: {\n      flex: '1 1 5%'\n    },\n    logoContainer: {\n      overflow: 'hidden',\n      position: 'relative',\n      flex: '1 1 40%',\n      width: '100%',\n      minHeight: 90\n    },\n    logo: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transformOrigin: '0% 0%',\n      transform: 'translateY(-50%) translateX(-50%)',\n      width: '90%',\n      height: '90%'\n    },\n    inner: {\n      margin: '0 auto',\n      width: '100%',\n      height: '100%',\n      minWidth: 200,\n      maxWidth: 350,\n      display: 'flex',\n      flexDirection: 'column',\n      textAlign: 'center'\n    }\n  };\n});\n\nvar AuthContainer = function AuthContainer(_ref) {\n  var children = _ref.children,\n      loading = _ref.loading;\n  var containerRef = useAuthCommon();\n  var classes = useStyles();\n  return React.createElement(ThemeProvider, {\n    theme: themes.login\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(\"div\", {\n    className: classes.inner\n  }, React.createElement(\"div\", {\n    className: classes.logoContainer\n  }, React.createElement(AppLogo, {\n    className: classNames(classes.logo, loading ? classes.loading : null)\n  })), React.createElement(Typography, {\n    component: \"div\",\n    variant: \"h5\"\n  }, \"MorPhoto\"), React.createElement(Typography, {\n    component: \"div\",\n    variant: \"caption\"\n  }, \"Version:  \", config.version, \" \", React.createElement(\"em\", null, \"BETA\")), children, React.createElement(\"div\", {\n    className: classes.spacer\n  }))));\n};\n\nAuthContainer.propTypes = {\n  children: PropTypes.any,\n  loading: PropTypes.bool\n};\nexport default AuthContainer;","export default (function (theme) {\n  return {\n    root: {},\n    spacer: {\n      flexGrow: 1\n    },\n    forgotPassword: {\n      width: '100%',\n      textAlign: 'right'\n    },\n    switch: {},\n    switchButton: {\n      flexGrow: 1,\n      '&:last-child': {\n        borderRadius: 0\n      },\n      '&:first-child': {\n        borderRadius: 0\n      }\n    },\n    phoneNumInner: {\n      marginTop: theme.spacing(1),\n      display: 'flex'\n    },\n    phoneNumDropdown: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    warnText: {\n      marginTop: theme.spacing(2),\n      fontStyle: 'italic'\n    },\n    noSignin: {\n      margin: theme.spacing(2, 0),\n      padding: theme.spacing(1),\n      textAlign: 'left',\n      border: \"1px solid #00000022\",\n      background: \"#0000000F\"\n    }\n  };\n});","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nimport { Typography } from '@material-ui/core';\nvar useStyles = makeStyles(style);\n\nvar SignIn = function SignIn(_ref) {\n  var loading = _ref.loading,\n      handleSignup = _ref.handleSignup,\n      federated = _ref.federated,\n      handleForgotPassword = _ref.handleForgotPassword,\n      handleInputChange = _ref.handleInputChange,\n      handleBeAnonymous = _ref.handleBeAnonymous,\n      handleSignIn = _ref.handleSignIn,\n      props = _objectWithoutProperties(_ref, [\"loading\", \"handleSignup\", \"federated\", \"handleForgotPassword\", \"handleInputChange\", \"handleBeAnonymous\", \"handleSignIn\"]);\n\n  var classes = useStyles();\n  return React.createElement(React.Fragment, null, React.createElement(TextField, {\n    id: \"username\",\n    fullWidth: true,\n    key: \"username\",\n    name: \"username\",\n    label: \"Username\",\n    autoFocus: true,\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), React.createElement(TextField, {\n    fullWidth: true,\n    id: \"password\",\n    label: \"Password\",\n    key: \"password\",\n    name: \"password\",\n    type: \"password\",\n    className: classes.textField,\n    autoComplete: \"current-password\",\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    component: \"button\",\n    color: \"secondary\",\n    variant: \"contained\",\n    disabled: loading,\n    onClick: handleSignup\n  }, \"New Account\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    className: \"enterAction\",\n    component: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    disabled: loading,\n    onClick: handleSignIn\n  }, \"Sign In\")), React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleForgotPassword,\n    size: \"small\"\n  }, \"Forgot Password\"), React.createElement(\"div\", {\n    className: classes.noSignin\n  }, React.createElement(Button, {\n    fullWidth: true,\n    size: \"small\",\n    variant: 'outlined',\n    onClick: handleBeAnonymous,\n    color: \"inherit\"\n  }, \"Continue without logging in\"), React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.warnText,\n    color: \"textSecondary\",\n    component: \"div\"\n  }, \"You will not be able to add content and many features will be unavailable.\")));\n};\n\nSignIn.propTypes = {\n  loading: PropTypes.bool,\n  federated: PropTypes.object,\n  handleSignup: PropTypes.func.isRequired,\n  handleForgotPassword: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n  handleBeAnonymous: PropTypes.func.isRequired,\n  handleSignIn: PropTypes.func.isRequired\n};\nexport default SignIn;","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Chip from '@material-ui/core/Chip';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { green } from '@material-ui/core/colors';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex'\n    },\n    chipContainer: {\n      flex: '1 1'\n    },\n    chip: {\n      height: theme.spacing(2.5)\n    },\n    label: {\n      padding: theme.spacing(0, 1, 0, 1)\n    },\n    ok: {\n      color: 'white',\n      background: green[500],\n      border: \"1px solid \".concat(green[500])\n    },\n    bad: {\n      color: theme.palette.error.main,\n      background: 'transparent',\n      border: \"1px solid \".concat(theme.palette.error.main)\n    }\n  };\n});\n\nvar PasswordHelper = function PasswordHelper(_ref) {\n  var pword = _ref.pword;\n  var classes = useStyles();\n  var hasUpper = pword ? !!pword.match(/[A-Z]/) : false;\n  var hasLower = pword ? !!pword.match(/[a-z]/) : false;\n  var hasNum = pword ? !!pword.match(/[0-9]/) : false;\n  var hasSpecial = pword ? !!pword.match(/[!@#$%^&*(),.?'\":;{}\\[\\]\\-_=+|/\\\\`~<>]/) : false;\n  var enoughChars = pword ? pword.length >= 8 : false;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(SpecialChip, {\n    ok: enoughChars,\n    label: \"8+\"\n  }), React.createElement(SpecialChip, {\n    ok: hasUpper,\n    label: \"A-Z\"\n  }), React.createElement(SpecialChip, {\n    ok: hasLower,\n    label: \"a-z\"\n  }), React.createElement(SpecialChip, {\n    ok: hasNum,\n    label: \"0-9\"\n  }), React.createElement(SpecialChip, {\n    ok: hasSpecial,\n    label: \"!@#$%^&*,.?\"\n  }));\n};\n\nPasswordHelper.propTypes = {\n  pword: PropTypes.string\n};\nexport default PasswordHelper;\n\nvar SpecialChip = function SpecialChip(_ref2) {\n  var ok = _ref2.ok,\n      props = _objectWithoutProperties(_ref2, [\"ok\"]);\n\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.chipContainer\n  }, React.createElement(Chip, _extends({\n    classes: {\n      root: classNames(classes.chip, ok ? classes.ok : classes.bad),\n      label: classes.label\n    }\n  }, props)));\n};\n\nSpecialChip.propTypes = {\n  ok: PropTypes.bool\n};","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport PasswordHelper from './PasswordHelper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nvar useStyles = makeStyles(style);\n\nvar SignUp = function SignUp(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      signUpFields = _ref.signUpFields,\n      signUpFieldLabels = _ref.signUpFieldLabels,\n      signUpFieldPlaceholders = _ref.signUpFieldPlaceholders,\n      handleSignup = _ref.handleSignup,\n      handleBack = _ref.handleBack,\n      countryDialCodes = _ref.countryDialCodes,\n      defaultDialCode = _ref.defaultDialCode,\n      props = _objectWithoutProperties(_ref, [\"handleInputChange\", \"signUpFields\", \"signUpFieldLabels\", \"signUpFieldPlaceholders\", \"handleSignup\", \"handleBack\", \"countryDialCodes\", \"defaultDialCode\"]);\n\n  var _useState = useState(defaultDialCode),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectVal = _useState2[0],\n      setSelectVal = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pword = _useState4[0],\n      setPword = _useState4[1];\n\n  var pwordType = function pwordType(event) {\n    setPword(event.target.value);\n    handleInputChange(event);\n  };\n\n  var classes = useStyles();\n\n  var handleDialCodeChange = function handleDialCodeChange(e) {\n    handleInputChange(e);\n    setSelectVal(e.target.value);\n  };\n\n  return React.createElement(React.Fragment, null, signUpFields.map(function (field, idx) {\n    return field.key !== 'phone_number' ? React.createElement(React.Fragment, {\n      key: field.key\n    }, React.createElement(TextField, {\n      fullWidth: true,\n      autoFocus: signUpFields.findIndex(function (f) {\n        return f.key === field.key;\n      }) === 0,\n      type: field.type,\n      name: field.key,\n      placeholder: signUpFieldPlaceholders[idx],\n      label: signUpFieldLabels[idx],\n      className: classes.textField,\n      margin: \"normal\",\n      onChange: field.key === 'password' ? pwordType : handleInputChange\n    }), field.key === 'password' && React.createElement(PasswordHelper, {\n      pword: pword\n    })) : React.createElement(FormControl, {\n      className: classes.phoneNumDropdown,\n      fullWidth: true,\n      key: \"phonenum\"\n    }, React.createElement(InputLabel, {\n      htmlFor: \"dial_code\",\n      shrink: true\n    }, signUpFieldLabels[idx], field.required ? '*' : ''), React.createElement(\"div\", {\n      className: classes.phoneNumInner\n    }, React.createElement(Select, {\n      value: selectVal,\n      onChange: handleDialCodeChange,\n      inputProps: {\n        name: 'dial_code',\n        id: 'dial_code'\n      }\n    }, countryDialCodes.map(function (dialCode) {\n      return React.createElement(\"option\", {\n        key: dialCode,\n        value: dialCode\n      }, dialCode);\n    })), React.createElement(TextField, {\n      placeholder: signUpFieldPlaceholders[idx],\n      type: \"tel\",\n      fullWidth: true,\n      id: \"phone_line_number\",\n      key: \"phone_line_number\",\n      name: \"phone_line_number\",\n      onChange: handleInputChange\n    })));\n  }), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: handleBack\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    className: \"enterAction\",\n    component: \"button\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleSignup\n  }, \"Create Account\")));\n};\n\nSignUp.propTypes = {\n  handleInputChange: PropTypes.func.isRequired,\n  signUpFields: PropTypes.array.isRequired,\n  signUpFieldLabels: PropTypes.array.isRequired,\n  signUpFieldPlaceholders: PropTypes.array.isRequired,\n  countryDialCodes: PropTypes.array.isRequired,\n  defaultDialCode: PropTypes.string.isRequired,\n  handleSignup: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired\n};\nexport default SignUp;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nvar useStyles = makeStyles(style);\n\nvar ConfirmSignIn = function ConfirmSignIn(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      handleBack = _ref.handleBack,\n      handleConfirm = _ref.handleConfirm;\n  var classes = useStyles();\n  return React.createElement(React.Fragment, null, React.createElement(TextField, {\n    id: \"mfaCode\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"MFA Code\",\n    name: \"code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    onClick: handleBack\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleConfirm\n  }, \"Confirm\")));\n};\n\nConfirmSignIn.propTypes = {\n  handleInputChange: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleConfirm: PropTypes.func.isRequired\n};\nexport default ConfirmSignIn;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Typography from '@material-ui/core/Typography';\nimport EmailIcon from '@material-ui/icons/Email';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main\n    },\n    checkEmailMsgIco: {\n      marginRight: theme.spacing(1)\n    },\n    checkEmailMsgTxt: {\n      textAlign: 'left',\n      flexGrow: 1\n    },\n    checkEmailMsg: {\n      display: 'flex'\n    }\n  };\n});\n\nvar CheckemailMsg = function CheckemailMsg(_ref) {\n  var onResend = _ref.onResend,\n      open = _ref.open;\n  var classes = useStyles();\n  return React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: open\n  }, React.createElement(SnackbarContent, {\n    className: classes.root,\n    message: React.createElement(\"div\", {\n      className: classes.checkEmailMsg\n    }, React.createElement(EmailIcon, {\n      className: classes.checkEmailMsgIco,\n      color: \"inherit\"\n    }), React.createElement(Typography, {\n      className: classes.checkEmailMsgTxt,\n      color: \"inherit\"\n    }, \"Code Sent Check your email\")),\n    action: onResend && [React.createElement(Button, {\n      key: \"undo\",\n      color: \"secondary\",\n      size: \"small\",\n      variant: \"contained\",\n      onClick: onResend\n    }, \"Resend\")]\n  }));\n};\n\nCheckemailMsg.propTypes = {\n  onResend: PropTypes.func,\n  open: PropTypes.bool\n};\nexport default CheckemailMsg;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nimport CheckEmailMsg from './CheckemailMsg';\nvar useStyles = makeStyles(style);\n\nvar ConfirmSignUp = function ConfirmSignUp(_ref) {\n  var handleInputChange = _ref.handleInputChange,\n      handleBack = _ref.handleBack,\n      handleResend = _ref.handleResend,\n      handleConfirm = _ref.handleConfirm;\n  var classes = useStyles();\n  return React.createElement(React.Fragment, null, React.createElement(TextField, {\n    id: \"username\",\n    fullWidth: true,\n    autoFocus: true,\n    name: \"username\",\n    label: \"Username\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), React.createElement(TextField, {\n    id: \"confirmationCode\",\n    fullWidth: true,\n    name: \"code\",\n    label: \"Confirmation Code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), React.createElement(Typography, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"If you can't find it in your inbox be sure to check your spam folder.\"), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: handleBack\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    className: \"enterAction\",\n    onClick: handleConfirm\n  }, \"Confirm\")), React.createElement(CheckEmailMsg, {\n    open: true,\n    onResend: handleResend\n  }));\n};\n\nConfirmSignUp.propTypes = {\n  handleInputChange: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleResend: PropTypes.func.isRequired,\n  handleConfirm: PropTypes.func.isRequired\n};\nexport default ConfirmSignUp;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Link from '@material-ui/core/Link';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nimport CheckEmailMsg from './CheckemailMsg';\nvar useStyles = makeStyles(style);\n\nvar ForgotPassword = function ForgotPassword(_ref) {\n  var handleSubmit = _ref.handleSubmit,\n      handleInputChange = _ref.handleInputChange,\n      handleSendCode = _ref.handleSendCode,\n      handleBack = _ref.handleBack;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sent = _useState2[0],\n      setSent = _useState2[1];\n\n  var classes = useStyles();\n  return React.createElement(React.Fragment, null, React.createElement(Typography, null, \"Forgot Password\"), !sent && React.createElement(TextField, {\n    id: \"username\",\n    autoFocus: true,\n    fullWidth: true,\n    label: \"Username\",\n    name: \"username\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), sent && React.createElement(TextField, {\n    id: \"changecode\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Code\",\n    name: \"code\",\n    className: classes.textField,\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), sent && React.createElement(Typography, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"If you can't find it in your inbox be sure to check your spam folder.\"), sent && React.createElement(TextField, {\n    id: \"newpassword\",\n    fullWidth: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    name: \"password\",\n    autoComplete: \"current-password\",\n    margin: \"normal\",\n    onChange: handleInputChange\n  }), !sent && React.createElement(Typography, {\n    variant: \"caption\",\n    style: {\n      textAlign: 'left'\n    }\n  }, \"Enter your username and you will be sent an email with a code to reset your password.\"), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      sent ? setSent(false) : handleBack();\n    }\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), !sent && React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    className: \"enterAction\",\n    onClick: function onClick() {\n      setSent(true);\n      handleSendCode();\n    }\n  }, \"Send Code\"), sent && React.createElement(Button, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: handleSubmit\n  }, \"Submit\")), React.createElement(CheckEmailMsg, {\n    open: sent,\n    onResend: handleSendCode\n  }));\n};\n\nForgotPassword.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n  handleSendCode: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired\n};\nexport default ForgotPassword;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@material-ui/core';\nimport AuthContainer from './AuthContainer';\n\nvar Loading = function Loading(_ref) {\n  var message = _ref.message;\n  return React.createElement(React.Fragment, null, React.createElement(Typography, {\n    variant: \"h3\"\n  }, \"Loading...\"), message && React.createElement(Typography, {\n    variant: \"overline\"\n  }, message));\n};\n\nLoading.propTypes = {\n  message: PropTypes.string\n};\nexport default Loading;\nexport var LoadingWrapped = function LoadingWrapped(props) {\n  return React.createElement(AuthContainer, {\n    loading: true\n  }, React.createElement(Loading, props));\n};","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nimport PasswordHelper from './PasswordHelper';\nvar useStyles = makeStyles(style);\n\nvar RequireNewPassword = function RequireNewPassword(_ref) {\n  var change = _ref.change,\n      requiredAttributes = _ref.requiredAttributes,\n      placeholders = _ref.placeholders,\n      handleInputChange = _ref.handleInputChange;\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      pword = _useState2[0],\n      setPword = _useState2[1];\n\n  var pwordType = function pwordType(event) {\n    setPword(event.target.value);\n    handleInputChange(event);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Typography, null, \"A new password is required\"), React.createElement(TextField, {\n    id: \"newassword\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    autoComplete: \"new-password\",\n    margin: \"normal\",\n    onChange: pwordType\n  }), React.createElement(PasswordHelper, {\n    pword: pword\n  }), requiredAttributes.map(function (attribute, idx) {\n    return React.createElement(TextField, {\n      fullWidth: true,\n      key: attribute,\n      name: attribute,\n      className: classes.textField,\n      placeholder: placeholders[idx],\n      type: \"text\",\n      margin: \"normal\",\n      onChange: handleInputChange\n    });\n  }), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\"\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: change,\n    className: \"enterAction\"\n  }, \"Change\")));\n};\n\nRequireNewPassword.propTypes = {\n  change: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n  requiredAttributes: PropTypes.array,\n  placeholders: PropTypes.array\n};\nexport default RequireNewPassword;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport EmailIcon from '@material-ui/icons/Email';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './auth.style';\nimport CheckEmailMsg from './CheckemailMsg';\nvar useStyles = makeStyles(style);\nvar RADIO = {\n  EMAIL: 0,\n  PHONE: 1\n};\n\nvar VerifyContact = function VerifyContact(_ref) {\n  var onBack = _ref.onBack,\n      hasEmail = _ref.hasEmail,\n      hasPhone = _ref.hasPhone,\n      handleSkip = _ref.handleSkip,\n      handleVerify = _ref.handleVerify,\n      handleSubmit = _ref.handleSubmit,\n      handleInputChange = _ref.handleInputChange;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sent = _useState2[0],\n      setSent = _useState2[1];\n\n  var _useState3 = useState(RADIO.EMAIL),\n      _useState4 = _slicedToArray(_useState3, 2),\n      radioVal = _useState4[0],\n      setRadioVal = _useState4[1];\n\n  var classes = useStyles();\n  return React.createElement(React.Fragment, null, !sent && React.createElement(React.Fragment, null, React.createElement(Typography, null, \"Verify your Contact\"), React.createElement(Typography, null, \"Account recovery requires verified contact information\"), React.createElement(Tabs, {\n    className: classes.switch,\n    indicatorColor: \"primary\",\n    value: radioVal,\n    onChange: function onChange(e, val) {\n      return setRadioVal(val);\n    },\n    textColor: \"primary\",\n    centered: true\n  }, React.createElement(Tab, {\n    icon: React.createElement(EmailIcon, null),\n    label: \"Email\"\n  }), React.createElement(Tab, {\n    icon: React.createElement(PhoneIcon, null),\n    label: \"Phone\"\n  })), radioVal === RADIO.EMAIL && React.createElement(TextField, {\n    id: \"email\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Email Address\",\n    className: classes.textField,\n    onChange: handleInputChange,\n    margin: \"normal\"\n  }), radioVal === RADIO.PHONE && React.createElement(TextField, {\n    id: \"phonenum\",\n    fullWidth: true,\n    autoFocus: true,\n    label: \"Phone Number\",\n    className: classes.textField,\n    onChange: handleInputChange,\n    margin: \"normal\"\n  })), sent && React.createElement(TextField, {\n    fullWidth: true,\n    label: \"Code\",\n    className: classes.textField,\n    placeholder: \"Code\",\n    key: \"code\",\n    name: \"code\",\n    autoComplete: \"off\",\n    onChange: handleInputChange,\n    margin: \"normal\"\n  }), sent && React.createElement(TextField, {\n    id: \"newpassword\",\n    fullWidth: true,\n    label: \"New Password\",\n    className: classes.textField,\n    type: \"password\",\n    autoComplete: \"current-password\",\n    margin: \"normal\"\n  }), React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      sent ? setSent(false) : onBack();\n    }\n  }, \"Back\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    className: \"enterAction\",\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: function onClick() {\n      return setSent(true);\n    }\n  }, \"Send Code\")), React.createElement(CheckEmailMsg, {\n    open: sent,\n    onResend: function onResend() {\n      return setSent(true);\n    }\n  }));\n};\n\nVerifyContact.defaultProps = {\n  hasEmail: true\n};\nVerifyContact.propTypes = {\n  onBack: PropTypes.func,\n  hasEmail: PropTypes.bool,\n  hasPhone: PropTypes.bool,\n  handleInputChange: PropTypes.func.isRequired,\n  handleSkip: PropTypes.func.isRequired,\n  handleVerify: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired\n};\nexport default VerifyContact;","export var utils = require('./utils');\nexport var CosmosBlackBackground = require('./CosmosBlackBackground').default;\nexport var MaterialUIWrap = require('./MaterialUIWrap').default;\nexport var LoadFakeData = require('./LoadFakeData').default;\nexport var withContext = require('./withContext').default;","import React from 'react';\nimport AuthContainer from './AuthContainer';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport ConfirmSignIn from './ConfirmSignIn';\nimport ConfirmSignUp from './ConfirmSignUp';\nimport ForgotPassword from './ForgotPassword';\nimport Loading, { LoadingWrapped } from './Loading';\nimport RequireNewPassword from './RequireNewPassword';\nimport VerifyContact from './VerifyContact';\nimport { MaterialUIWrap } from '@morphoto/client-mock';\n\nvar wrap = function wrap(Wrapper, props) {\n  return function () {\n    return React.createElement(MaterialUIWrap, {\n      noTheme: true\n    }, React.createElement(AuthContainer, null, Wrapper && React.createElement(Wrapper, props)));\n  };\n};\n\nexport default {\n  'Auth: container': wrap(),\n  'Auth: signIn': wrap(SignIn, {\n    authState: 'signIn',\n    loading: false,\n    federated: {\n      google_client_id: 'garbage'\n    },\n    handleBeAnonymous: function handleBeAnonymous() {\n      return alert('handleBeAnonymous');\n    },\n    handleForgotPassword: function handleForgotPassword() {\n      return alert('Forgot Password');\n    },\n    handleSignup: function handleSignup() {\n      return alert('Goto Signup');\n    },\n    handleInputChange: function handleInputChange() {\n      return console.log('inputchange');\n    },\n    handleSignIn: function handleSignIn() {\n      return alert('Sign In');\n    }\n  }),\n  'Auth: signUp': wrap(SignUp, {\n    handleInputChange: function handleInputChange() {\n      return console.log('inputchange');\n    },\n    signUpFields: [{\n      key: 'keyA',\n      type: 'text',\n      required: true\n    }, {\n      key: 'keyB',\n      type: 'number'\n    }, {\n      key: 'phone_number'\n    }],\n    signUpFieldLabels: ['Label for Text Field A', 'Label for Number Field B', 'Label for Phonenum Field C'],\n    signUpFieldPlaceholders: ['Placeholder for Field A', 'Placeholder for Field B', 'Placeholder for Field C'],\n    handleSignup: function handleSignup() {\n      return alert('Sign Up');\n    },\n    handleBack: function handleBack() {\n      return alert('Back');\n    },\n    countryDialCodes: ['+1', '+999'],\n    defaultDialCode: '+1'\n  }),\n  'Auth: confirmSignIn': wrap(ConfirmSignIn, {\n    handleInputChange: function handleInputChange(data) {\n      return console.log('handleInputChange', data);\n    },\n    handleBack: function handleBack(data) {\n      return console.log('handleBack', data);\n    },\n    handleConfirm: function handleConfirm(data) {\n      return console.log('handleConfirm', data);\n    }\n  }),\n  'Auth: confirmSignUp': wrap(ConfirmSignUp, {\n    handleInputChange: function handleInputChange(data) {\n      return console.log('handleInputChange', data);\n    },\n    handleBack: function handleBack(data) {\n      return console.log('handleBack', data);\n    },\n    handleResend: function handleResend(data) {\n      return console.log('handleResend', data);\n    },\n    handleConfirm: function handleConfirm(data) {\n      return console.log('handleConfirm', data);\n    }\n  }),\n  'Auth: ForgotPassword': wrap(ForgotPassword, {\n    handleSubmit: function handleSubmit(data) {\n      return console.log('handleSubmit', data);\n    },\n    handleInputChange: function handleInputChange(data) {\n      return console.log('handleInputChange', data);\n    },\n    handleSendCode: function handleSendCode(data) {\n      return console.log('handleSendCode', data);\n    },\n    handleBack: function handleBack(data) {\n      return console.log('handleBack', data);\n    }\n  }),\n  'Auth: RequireNewPassword': wrap(RequireNewPassword, {\n    change: function change() {\n      return alert('change');\n    },\n    handleInputChange: function handleInputChange() {\n      return console.log('handleInputChange');\n    },\n    requiredAttributes: ['attribA'],\n    placeholders: ['placeholder for attribA']\n  }),\n  'Auth: Loading': wrap(Loading, {}),\n  'Auth: LoadingWrapped': React.createElement(MaterialUIWrap, {\n    noTheme: true\n  }, React.createElement(LoadingWrapped, {\n    message: \"Something is happening...\"\n  })),\n  'Auth: VerifyContact': wrap(VerifyContact, {\n    hasEmail: true,\n    hasPhone: true\n  })\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Auth from '@aws-amplify/auth';\nimport { I18n } from '@aws-amplify/core';\nimport countryDialCodes from 'aws-amplify-react/lib/Auth/common/country-dial-codes';\nimport { Authenticator, SignIn as SignInOrig, SignUp as SignUpOrig, ConfirmSignIn as ConfirmSignInOrig, ConfirmSignUp as ConfirmSignUpOrig, RequireNewPassword as RequireNewPasswordOrig, Loading as LoadingOrig, VerifyContact as VerifyContactOrig, ForgotPassword as ForgotPasswordOrig } from 'aws-amplify-react';\nimport CompSignIn from './SignIn';\nimport AuthContainer from './AuthContainer';\nimport CompConfirmSignIn from './ConfirmSignIn';\nimport CompRequireNewPassword from './RequireNewPassword';\nimport CompSignUp from './SignUp';\nimport CompLoading from './Loading';\nimport CompConfirmSignUp from './ConfirmSignUp';\nimport CompForgotPassword from './ForgotPassword';\nimport { config } from '@morphoto/client-common';\nAuth.configure(config.aws);\nvar defaultAuthState = {\n  authState: 'init',\n  authData: {},\n  signedIn: null\n};\nvar signUpConfig = {\n  header: 'My Customized Sign Up',\n  hiddenDefaults: ['username', 'email', 'phone_number', 'password'],\n  defaultCountryCode: '1',\n  signUpFields: [{\n    label: 'My user name',\n    key: 'username',\n    required: true,\n    displayOrder: 1,\n    type: 'string'\n  }, {\n    label: 'Password',\n    key: 'password',\n    required: true,\n    displayOrder: 3,\n    type: 'password'\n  }, {\n    label: 'Email',\n    key: 'email',\n    required: true,\n    displayOrder: 2,\n    type: 'string'\n  }]\n};\n\nvar useAuthentication = function useAuthentication() {\n  var _useState = useState(defaultAuthState),\n      _useState2 = _slicedToArray(_useState, 2),\n      _useState2$ = _useState2[0],\n      authState = _useState2$.authState,\n      authData = _useState2$.authData,\n      signedIn = _useState2$.signedIn,\n      setAuth = _useState2[1];\n\n  var handleAuthStateChange = function handleAuthStateChange(state, data) {\n    console.log('handleAuthStateChange', {\n      state: state,\n      data: data\n    });\n    setAuth({\n      authState: state,\n      authData: data,\n      signedIn: !state || state.length === 0 ? null : state === 'signedIn' ? true : signedIn\n    });\n  };\n\n  var getCurrentToken =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var currSession;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Auth.currentSession();\n\n            case 2:\n              currSession = _context.sent;\n              console.log('here', currSession.accessToken);\n              return _context.abrupt(\"return\", currSession && currSession.accessToken ? currSession.accessToken : null);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getCurrentToken() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var signOut = function signOut() {\n    return Auth.signOut().then(function (data) {\n      return console.log(data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var beAnonymous = function beAnonymous() {\n    setAuth({\n      authState: authState,\n      authData: authData,\n      signedIn: false\n    });\n  };\n\n  var authScreen = signedIn ? null : React.createElement(AuthContainer, null, React.createElement(Authenticator, {\n    onStateChange: handleAuthStateChange,\n    hideDefault: true,\n    signUpConfig: signUpConfig\n  }, React.createElement(SignIn, {\n    handleBeAnonymous: beAnonymous\n  }), React.createElement(Loading, {\n    message: \"Logging in\"\n  }), React.createElement(RequireNewPassword, null), React.createElement(ConfirmSignIn, null), React.createElement(ConfirmSignUp, null), React.createElement(VerifyContactOrig, null), React.createElement(ForgotPassword, null), React.createElement(SignUp, {\n    signUpConfig: signUpConfig\n  })));\n  var isGod = false;\n\n  try {\n    isGod = authData.signInUserSession.idToken.payload['cognito:groups'].indexOf('GodUsers') > -1;\n  } catch (e) {}\n\n  return {\n    authState: authState,\n    authData: authData,\n    isGod: isGod,\n    signOut: signOut,\n    getCurrentToken: getCurrentToken,\n    forceSignIn: function forceSignIn() {\n      return setAuth(defaultAuthState);\n    },\n    signedIn: signedIn,\n    authScreen: authScreen\n  };\n};\n\nexport default useAuthentication;\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_SignInOrig) {\n  _inherits(SignIn, _SignInOrig);\n\n  function SignIn() {\n    _classCallCheck(this, SignIn);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignIn).apply(this, arguments));\n  }\n\n  _createClass(SignIn, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this = this;\n\n      var loading = this.state.loading;\n\n      var newProps = _objectSpread({}, this.props, {\n        loading: loading,\n        handleForgotPassword: function handleForgotPassword() {\n          return _this.changeState('forgotPassword');\n        },\n        handleSignup: function handleSignup() {\n          return _this.changeState('signUp');\n        },\n        handleInputChange: this.handleInputChange,\n        handleSignIn: this.signIn\n      });\n\n      return React.createElement(CompSignIn, newProps);\n    }\n  }]);\n\n  return SignIn;\n}(SignInOrig);\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_SignUpOrig) {\n  _inherits(SignUp, _SignUpOrig);\n\n  function SignUp() {\n    _classCallCheck(this, SignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignUp).apply(this, arguments));\n  }\n\n  _createClass(SignUp, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this2 = this;\n\n      var hide = this.props.hide;\n\n      if (hide && hide.includes(SignUp)) {\n        return null;\n      }\n\n      if (this.checkCustomSignUpFields()) {\n        this.signUpFields = this.props.signUpConfig.signUpFields;\n      }\n\n      this.sortFields();\n\n      var newProps = _objectSpread({}, this.props, {\n        countryDialCodes: countryDialCodes,\n        defaultDialCode: this.getDefaultDialCode(),\n        handleInputChange: this.handleInputChange,\n        signUpFields: this.signUpFields,\n        signUpFieldLabels: this.signUpFields.map(function (field) {\n          return I18n.get(field.label);\n        }),\n        signUpFieldPlaceholders: this.signUpFields.map(function (field) {\n          return I18n.get(field.placeholder);\n        }),\n        handleSignup: this.signUp,\n        handleBack: function handleBack() {\n          return _this2.changeState('signIn');\n        }\n      });\n\n      return React.createElement(CompSignUp, newProps);\n    }\n  }]);\n\n  return SignUp;\n}(SignUpOrig);\n\nvar ConfirmSignIn =\n/*#__PURE__*/\nfunction (_ConfirmSignInOrig) {\n  _inherits(ConfirmSignIn, _ConfirmSignInOrig);\n\n  function ConfirmSignIn() {\n    _classCallCheck(this, ConfirmSignIn);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmSignIn).apply(this, arguments));\n  }\n\n  _createClass(ConfirmSignIn, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this3 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this3.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm\n      });\n\n      return React.createElement(CompConfirmSignIn, newProps);\n    }\n  }]);\n\n  return ConfirmSignIn;\n}(ConfirmSignInOrig);\n\nvar ConfirmSignUp =\n/*#__PURE__*/\nfunction (_ConfirmSignUpOrig) {\n  _inherits(ConfirmSignUp, _ConfirmSignUpOrig);\n\n  function ConfirmSignUp() {\n    _classCallCheck(this, ConfirmSignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConfirmSignUp).apply(this, arguments));\n  }\n\n  _createClass(ConfirmSignUp, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this4 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this4.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm,\n        handleResend: this.resend\n      });\n\n      return React.createElement(CompConfirmSignUp, newProps);\n    }\n  }]);\n\n  return ConfirmSignUp;\n}(ConfirmSignUpOrig);\n\nvar RequireNewPassword =\n/*#__PURE__*/\nfunction (_RequireNewPasswordOr) {\n  _inherits(RequireNewPassword, _RequireNewPasswordOr);\n\n  function RequireNewPassword() {\n    _classCallCheck(this, RequireNewPassword);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(RequireNewPassword).apply(this, arguments));\n  }\n\n  _createClass(RequireNewPassword, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var user = this.props.authData;\n      var requiredAttributes = user.challengeParam.requiredAttributes;\n      var placeholders = Array.isArray(requiredAttributes) ? requiredAttributes.map(function (attribute) {\n        return I18n.get(convertToPlaceholder(attribute));\n      }) : [];\n\n      var newProps = _objectSpread({}, this.props, {\n        handleInputChange: this.handleInputChange,\n        requiredAttributes: requiredAttributes,\n        placeholders: placeholders,\n        change: this.change\n      });\n\n      return React.createElement(CompRequireNewPassword, newProps);\n    }\n  }]);\n\n  return RequireNewPassword;\n}(RequireNewPasswordOrig);\n\nvar Loading =\n/*#__PURE__*/\nfunction (_LoadingOrig) {\n  _inherits(Loading, _LoadingOrig);\n\n  function Loading() {\n    _classCallCheck(this, Loading);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Loading).apply(this, arguments));\n  }\n\n  _createClass(Loading, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      return React.createElement(CompLoading, this.props);\n    }\n  }]);\n\n  return Loading;\n}(LoadingOrig);\n\nvar ForgotPassword =\n/*#__PURE__*/\nfunction (_ForgotPasswordOrig) {\n  _inherits(ForgotPassword, _ForgotPasswordOrig);\n\n  function ForgotPassword() {\n    _classCallCheck(this, ForgotPassword);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ForgotPassword).apply(this, arguments));\n  }\n\n  _createClass(ForgotPassword, [{\n    key: \"showComponent\",\n    value: function showComponent() {\n      var _this5 = this;\n\n      var newProps = _objectSpread({}, this.props, {\n        handleBack: function handleBack() {\n          return _this5.changeState('signIn');\n        },\n        handleInputChange: this.handleInputChange,\n        handleConfirm: this.confirm,\n        handleResend: this.send,\n        handleSubmit: this.submit,\n        handleSendCode: this.send\n      });\n\n      return React.createElement(CompForgotPassword, newProps);\n    }\n  }]);\n\n  return ForgotPassword;\n}(ForgotPasswordOrig);\n\nfunction convertToPlaceholder(str) {\n  return str.split('_').map(function (part) {\n    return part.charAt(0).toUpperCase() + part.substr(1).toLowerCase();\n  }).join(' ');\n}","export { default as fixtures } from './auth.fixture';\nexport { default as AuthContainer } from './AuthContainer';\nexport { default as Loading, LoadingWrapped } from './Loading';\nexport { default as SignIn } from './SignIn';\nexport { default as useAuthentication } from './useAuthentication';","import React, { useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { List } from 'react-virtualized';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CircularProgress } from '@material-ui/core';\nimport { useComponentSize, AppContext } from '@morphoto/client-common';\nimport { TopBarWrapper } from '@morphoto/navigation';\nimport FeedEnder from './FeedEnder';\nimport FeedItem from './FeedItem';\nvar ROWHEIGHT = 300;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    container: {\n      padding: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      flexGrow: 1\n    },\n    listContainer: {\n      flexGrow: 1,\n      overflow: 'hidden'\n    },\n    vList: {\n      height: '100%',\n      width: '100%'\n    },\n    feedContainer: {\n      flexGrow: 1,\n      transform: 'translateZ(0)'\n    },\n    grow: {\n      flexGrow: 1\n    }\n  };\n});\n\nvar MyFeed = function MyFeed(_ref) {\n  var events = _ref.events,\n      loading = _ref.loading,\n      actions = _ref.actions,\n      window = _ref.window;\n  var classes = useStyles();\n  var listRef = useRef();\n\n  var _useComponentSize = useComponentSize(listRef),\n      size = _useComponentSize.size;\n\n  var _useContext = useContext(AppContext),\n      online = _useContext.online;\n\n  var rowRenderer = function rowRenderer(_ref2) {\n    var index = _ref2.index,\n        isScrolling = _ref2.isScrolling,\n        isVisible = _ref2.isVisible,\n        key = _ref2.key,\n        parent = _ref2.parent,\n        style = _ref2.style;\n    var row = events[index];\n    var content;\n\n    if (index < events.length && row) {\n      content = React.createElement(FeedItem, {\n        event: events[index],\n        actions: actions\n      });\n    } else if (index === events.length) {\n      var wEnd = window && window[0] === 0;\n      content = React.createElement(FeedEnder, {\n        icon: React.createElement(CircularProgress, {\n          size: 30,\n          thickness: 2,\n          color: \"inherit\"\n        }),\n        text: \"Loading...\"\n      });\n      var almostAtEnd = ROWHEIGHT * 4 + parent.state.scrollTop > style.top;\n\n      if (!online.isOnline) {\n        content = React.createElement(FeedEnder, {\n          icon: React.createElement(ErrorIcon, null),\n          text: \"Cannot Refresh Offline\"\n        });\n      } else if (wEnd) {\n        content = React.createElement(FeedEnder, {\n          text: \"End of feed\"\n        });\n      } else if (!loading && almostAtEnd) {\n        actions.fetchMore();\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: classes.row,\n      key: key,\n      style: style\n    }, content);\n  };\n\n  rowRenderer.propTypes = {\n    index: PropTypes.any,\n    key: PropTypes.any,\n    style: PropTypes.any,\n    isScrolling: PropTypes.any,\n    isVisible: PropTypes.any,\n    parent: PropTypes.any\n  };\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(TopBarWrapper, null, React.createElement(Typography, {\n    className: classes.grow\n  }, \"Home Feed\")), React.createElement(Container, {\n    className: classes.container,\n    maxWidth: \"sm\"\n  }, React.createElement(\"div\", {\n    className: classes.listContainer,\n    ref: listRef\n  }, React.createElement(List, {\n    height: size.height,\n    width: size.width,\n    className: classes.vList,\n    rowCount: events.length + 1,\n    rowHeight: ROWHEIGHT,\n    rowRenderer: rowRenderer\n  }))));\n};\n\nMyFeed.propTypes = {\n  events: PropTypes.array.isRequired,\n  loading: PropTypes.bool,\n  window: PropTypes.arrayOf(PropTypes.number),\n  actions: PropTypes.shape({\n    onImageClick: PropTypes.func.isRequired,\n    onProfileClick: PropTypes.func.isRequired,\n    onMapClick: PropTypes.func.isRequired,\n    fetchNewest: PropTypes.func.isRequired,\n    fetchMore: PropTypes.func.isRequired\n  })\n};\nexport default MyFeed;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    grow: {\n      flexGrow: 1\n    },\n    text: {\n      textAlign: 'center',\n      fontStyle: 'italic',\n      padding: theme.spacing(2, 1)\n    }\n  };\n});\n\nvar FeedEnder = function FeedEnder(_ref) {\n  var style = _ref.style,\n      icon = _ref.icon,\n      text = _ref.text;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"div\", {\n    className: classes.grow\n  }), icon, React.createElement(Typography, {\n    className: classes.text,\n    variant: \"subtitle1\",\n    color: \"textSecondary\",\n    component: \"div\",\n    style: style\n  }, text), React.createElement(\"div\", {\n    className: classes.grow\n  }));\n};\n\nFeedEnder.propTypes = {\n  style: PropTypes.object,\n  icon: PropTypes.any,\n  text: PropTypes.string\n};\nexport default FeedEnder;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useLayoutEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Fab from '@material-ui/core/Fab';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport CameraIcon from '@material-ui/icons/Camera';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { RawImage, PhotoGrid, PhotoFadeSlider } from '@morphoto/photos';\nimport { useCamera } from '@morphoto/client-common';\nimport style from './CameraTool.style';\nvar useStyles = makeStyles(style);\n\nvar CameraTool = function CameraTool(_ref) {\n  var onCancel = _ref.onCancel,\n      onShutter = _ref.onShutter,\n      defaultRefPhotoId = _ref.defaultRefPhotoId,\n      photos = _ref.photos;\n  var classes = useStyles();\n\n  var _useState = useState(50),\n      _useState2 = _slicedToArray(_useState, 2),\n      slider = _useState2[0],\n      setSlider = _useState2[1];\n\n  var refImgRef = useRef();\n\n  var _useState3 = useState([window.innerWidth, window.innerHeight]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  console.log('cameraTool', {\n    defaultRefPhotoId: defaultRefPhotoId,\n    photos: photos\n  });\n  var newRefPhoto = defaultRefPhotoId ? photos.find(function (p) {\n    return p.id === defaultRefPhotoId;\n  }) : photos && photos.length > 0 ? photos[0] : null;\n\n  var _useState5 = useState(newRefPhoto),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refPhoto = _useState6[0],\n      setRefPhoto = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      drawerOpen = _useState8[0],\n      setDrawerOpen = _useState8[1];\n\n  var _useCamera = useCamera(function (data) {\n    return onShutter(data, refPhoto ? refPhoto.id : null);\n  }, size[0], size[1]),\n      cameraError = _useCamera.cameraError,\n      captureImage = _useCamera.captureImage,\n      cameraOnline = _useCamera.cameraOnline;\n\n  var handleTileClick = function handleTileClick(id) {\n    setRefPhoto(photos.find(function (p) {\n      return p.id === id;\n    }));\n    setDrawerOpen(false);\n  };\n\n  var handleResize = function handleResize() {\n    console.log('RESIZE', [window.innerWidth, window.innerHeight]);\n    setSize([window.innerWidth, window.innerHeight]);\n  };\n\n  useLayoutEffect(function () {\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return function () {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), !cameraError && Boolean(refPhoto) && React.createElement(PhotoFadeSlider, {\n    className: classes.slider,\n    defaultValue: slider,\n    onChange: setSlider\n  }), cameraError && React.createElement(\"div\", {\n    className: classes.cameraErrorText\n  }, React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\"\n  }, \"No Camera Access\"), React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"inherit\"\n  }, \"Please enabled access in your settings.\")), Boolean(refPhoto) && React.createElement(\"div\", {\n    className: classes.reference\n  }, React.createElement(RawImage, {\n    imgRef: refImgRef,\n    sizePriority: ['large', 'medium', 'thumb'],\n    style: {\n      opacity: slider / 100\n    },\n    photo: refPhoto\n  })), !cameraError && React.createElement(\"video\", {\n    autoPlay: true,\n    playsInline: true,\n    muted: true,\n    id: \"webcam\",\n    width: window.innerWidth,\n    height: window.innerHeight,\n    className: classes.video\n  }), React.createElement(Fab, {\n    color: \"primary\",\n    \"aria-label\": \"Take Photo\",\n    classes: {\n      disabled: classes.disabledFab\n    },\n    disabled: cameraError || !cameraOnline,\n    className: classNames(classes.cameraFab, classes.buttonFab),\n    onClick: captureImage\n  }, React.createElement(CameraIcon, {\n    className: classes.cameraIcon\n  })), React.createElement(Fab, {\n    color: \"secondary\",\n    \"aria-label\": \"cancel\",\n    onClick: onCancel,\n    classes: {\n      disabled: classes.disabledFab\n    },\n    className: classNames(classes.cancelFab, classes.buttonFab)\n  }, React.createElement(CancelIcon, {\n    className: classes.cancelIcon\n  })), photos && React.createElement(Fab, {\n    \"aria-label\": \"library\",\n    className: classNames(classes.libraryFab, classes.buttonFab),\n    classes: {\n      disabled: classes.disabledFab\n    },\n    disabled: !photos || photos.length === 0,\n    onClick: function onClick() {\n      return setDrawerOpen(true);\n    }\n  }, React.createElement(PhotoLibraryIcon, {\n    className: classes.libraryIcon\n  })), photos && React.createElement(SwipeableDrawer, {\n    anchor: \"left\",\n    open: drawerOpen,\n    classes: {\n      paperAnchorLeft: classes.swipeDrawer\n    },\n    onClose: function onClose() {\n      return setDrawerOpen(false);\n    },\n    onOpen: function onOpen() {\n      return setDrawerOpen(true);\n    }\n  }, React.createElement(\"div\", {\n    tabIndex: 0,\n    className: classes.swipeDrawerContainer,\n    role: \"button\",\n    onClick: function onClick() {\n      return setDrawerOpen(false);\n    },\n    onKeyDown: function onKeyDown() {\n      return setDrawerOpen(false);\n    }\n  }, React.createElement(PhotoGrid, {\n    multiSelect: false,\n    columns: 1,\n    photos: photos,\n    onTileClick: handleTileClick\n  }))));\n};\n\nCameraTool.propTypes = {\n  defaultRefPhotoId: PropTypes.string,\n  onCancel: PropTypes.func.isRequired,\n  onShutter: PropTypes.func.isRequired,\n  photos: PropTypes.array\n};\nexport default CameraTool;","export default (function (theme) {\n  return {\n    root: {\n      background: 'black',\n      height: '100%',\n      width: '100%'\n    },\n    cameraErrorText: {\n      color: 'white',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      width: '90%',\n      transform: 'translateY(-50%) translateX(-50%)',\n      textAlign: 'center'\n    },\n    disabledFab: {\n      color: '#AAAAA!important',\n      background: '#DDDDDD!important',\n      opacity: 0.2\n    },\n    cameraFab: {\n      position: 'absolute',\n      zIndex: 10,\n      '@media (orientation: landscape)': {\n        right: '20px',\n        top: '50%',\n        transform: 'translateY(-50%)',\n        height: '25vh',\n        width: '25vh'\n      },\n      '@media (orientation: portrait)': {\n        bottom: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        height: '25vw',\n        width: '25vw'\n      }\n    },\n    slider: {\n      '@media (orientation: landscape)': {\n        position: 'absolute',\n        left: '0',\n        height: '79%',\n        top: '20%'\n      },\n      '@media (orientation: portrait)': {\n        position: 'absolute',\n        left: '0',\n        transform: 'translateY(-50%)',\n        height: '50%',\n        top: '45%'\n      }\n    },\n    cameraIcon: {\n      height: '100%',\n      width: '100%'\n    },\n    cancelFab: {\n      position: 'absolute',\n      zIndex: 10,\n      '@media (orientation: landscape)': {\n        right: '15px',\n        top: '15px',\n        height: '15vh',\n        width: '15vh'\n      },\n      '@media (orientation: portrait)': {\n        right: '15px',\n        bottom: '15px',\n        height: '15vw',\n        width: '15vw'\n      }\n    },\n    cancelIcon: {\n      height: '100%',\n      width: '100%'\n    },\n    swipeDrawer: {\n      width: '50%'\n    },\n    libraryFab: {\n      position: 'absolute',\n      zIndex: 10,\n      '@media (orientation: landscape)': {\n        left: '15px',\n        top: '15px',\n        height: '15vh',\n        width: '15vh'\n      },\n      '@media (orientation: portrait)': {\n        left: '15px',\n        top: '15px',\n        height: '15vw',\n        width: '15vw'\n      }\n    },\n    myLocationFab: {\n      position: 'absolute',\n      zIndex: 10,\n      '@media (orientation: landscape)': {\n        right: '15px',\n        bottom: '15px',\n        height: '15vh',\n        width: '15vh'\n      },\n      '@media (orientation: portrait)': {\n        left: '15px',\n        bottom: '15px',\n        height: '15vw',\n        width: '15vw'\n      }\n    },\n    myLocationIcon: {\n      height: '80%',\n      width: '80%'\n    },\n    captured: {},\n    reference: {\n      position: 'absolute',\n      zIndex: 2,\n      top: 0,\n      left: 0,\n      height: '100%',\n      width: '100%'\n    },\n    video: {\n      position: 'absolute',\n      zIndex: 1,\n      top: 0,\n      left: 0,\n      height: '100%',\n      width: '100%'\n    }\n  };\n});","import jsQR from 'jsqr';\nexport var jsQRFromBlob = function jsQRFromBlob(_ref) {\n  var data = _ref.data,\n      imageHeight = _ref.imageHeight,\n      imageWidth = _ref.imageWidth;\n  return new Promise(function (resolve, reject) {\n    try {\n      var qrCode = jsQR(data, imageWidth, imageHeight);\n      resolve(qrCode);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { green, red } from '@material-ui/core/colors';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { QRCode as QRcodeIcon } from '@morphoto/icons';\nimport { jsQRFromBlob } from './QRUtil';\nimport { util } from '@morphoto/common';\nimport { useCamera } from '@morphoto/client-common';\nvar CAMERAWIDTH = 400;\nvar CAMERAHEIGHT = 400;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column'\n    },\n    qrIcon: {\n      border: '5px solid red',\n      padding: theme.spacing(2),\n      position: 'absolute',\n      color: 'white',\n      opacity: 0.4,\n      zIndex: 2,\n      width: '70%',\n      height: '70%',\n      top: '50%',\n      left: '50%',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    backupText: {\n      position: 'absolute',\n      color: 'white',\n      textAlign: 'center',\n      zIndex: 2,\n      width: '70%',\n      height: '70%',\n      top: '50%',\n      left: '50%',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    manualImg: {\n      position: 'absolute',\n      zIndex: 1\n    },\n    appBar: {},\n    inner: {\n      padding: theme.spacing(2),\n      height: '100%',\n      flexGrow: 1,\n      overflow: 'hidden'\n    },\n    tipPaper: {\n      padding: theme.spacing(2),\n      margin: theme.spacing(2)\n    },\n    docContainer: {\n      flexGrow: 1,\n      padding: theme.spacing(2)\n    },\n    cameraContainer: {\n      width: '80%',\n      margin: '0 auto',\n      position: 'relative',\n      '&::before': {\n        content: ' ',\n        display: 'block',\n        paddingTop: '100%'\n      }\n    },\n    cameraContainerError: {\n      background: 'black'\n    },\n    snackErr: {\n      background: red[500],\n      color: 'white'\n    },\n    snackSuccess: {\n      background: green[500],\n      color: 'white'\n    },\n    snackMsg: {},\n    video: {\n      height: '100%',\n      width: '100%',\n      verticalAlign: 'top'\n    }\n  };\n});\n\nvar QRReader = function QRReader(_ref) {\n  var onMenuBack = _ref.onMenuBack,\n      onCapture = _ref.onCapture,\n      isIos = _ref.isIos;\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      capturedBlob = _useState2[0],\n      setCapturedBlob = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      err = _useState4[0],\n      setErr = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      code = _useState6[0],\n      setCode = _useState6[1];\n\n  var _useCamera = useCamera(setCapturedBlob, CAMERAWIDTH, CAMERAHEIGHT),\n      cameraError = _useCamera.cameraError,\n      captureRawData = _useCamera.captureRawData,\n      cameraOnline = _useCamera.cameraOnline;\n\n  var captureFunc = useCallback(util.debounce(captureRawData, 100), [cameraOnline, cameraError]);\n  useEffect(function () {\n    var scan =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var scannedCode, find, foundIdx, newData, decodedUrl;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                scannedCode = null;\n                _context.prev = 1;\n                _context.next = 4;\n                return jsQRFromBlob(capturedBlob);\n\n              case 4:\n                scannedCode = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n                console.error(_context.t0);\n\n              case 10:\n                _context.prev = 10;\n\n                if (!(cameraError && !scannedCode)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                throw new Error('Captured Image does not have a QR code');\n\n              case 13:\n                if (!scannedCode) {\n                  _context.next = 24;\n                  break;\n                }\n\n                find = '?fromqr=';\n                foundIdx = scannedCode.data.indexOf(find) + find.length;\n                newData = scannedCode.data.slice(foundIdx);\n                decodedUrl = JSON.parse(decodeURI(newData));\n                console.log('decodedUrl', decodedUrl);\n\n                if (!(!decodedUrl.type || !decodedUrl.s)) {\n                  _context.next = 21;\n                  break;\n                }\n\n                throw new Error('Type or SeriesID missing from QR Code');\n\n              case 21:\n                setCode(decodedUrl);\n                setErr(null);\n                console.log('QRCODE', scannedCode);\n\n              case 24:\n                _context.next = 30;\n                break;\n\n              case 26:\n                _context.prev = 26;\n                _context.t1 = _context[\"catch\"](10);\n                setErr('Not a valid QR Code');\n                console.error(_context.t1);\n\n              case 30:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 7], [10, 26]]);\n      }));\n\n      return function scan() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    if (cameraOnline && !cameraError && !err && !code) {\n      if (!capturedBlob || !capturedBlob.data) captureFunc();else {\n        scan();\n        captureFunc();\n      }\n    }\n  }, [cameraOnline, capturedBlob, err, code]);\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, \"Capture QR Code\"))), React.createElement(\"div\", {\n    className: classes.inner\n  }, React.createElement(Paper, {\n    className: classNames(classes.cameraContainer, cameraError ? classes.cameraContainerError : null)\n  }, React.createElement(QRcodeIcon, {\n    className: classes.qrIcon\n  }), React.createElement(\"video\", {\n    autoPlay: true,\n    playsInline: true,\n    muted: true,\n    id: \"webcam\",\n    className: classes.video\n  })), React.createElement(Paper, {\n    className: classes.tipPaper\n  }, React.createElement(Typography, null, \"TIP: You can find the QR code for a series in the SHARE tab of that series\"))), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: !!err,\n    autoHideDuration: 2000,\n    onClose: function onClose() {\n      setErr(null);\n      setCapturedBlob(null);\n    }\n  }, React.createElement(SnackbarContent, {\n    className: classes.snackErr,\n    message: React.createElement(\"span\", {\n      className: classes.snackMsg\n    }, err)\n  })), !isIos && React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: cameraError\n  }, React.createElement(SnackbarContent, {\n    className: classes.snackErr,\n    message: React.createElement(\"span\", {\n      className: classes.snackMsg\n    }, \"Camera Error. Check your device's permissions\")\n  })), React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: !!code,\n    autoHideDuration: 500,\n    onClose: function onClose() {\n      return onCapture(code.type, code.s, code.p);\n    }\n  }, React.createElement(SnackbarContent, {\n    className: classes.snackSuccess,\n    message: React.createElement(\"span\", {\n      className: classes.snackMsg\n    }, \"Valid QR Code found!\")\n  })));\n};\n\nQRReader.propTypes = {\n  onMenuBack: PropTypes.func.isRequired,\n  isIos: PropTypes.bool.isRequired,\n  onCapture: PropTypes.func.isRequired\n};\nexport default QRReader;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Link } from '@material-ui/core';\nimport QRCode from 'qrcode';\nimport { createShareUrl } from '@morphoto/client-common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    title: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    qrPaper: {\n      textAlign: 'center',\n      padding: theme.spacing(0, 2)\n    },\n    qrCode: {\n      width: '100%',\n      minHeight: 300,\n      maxHeight: 400\n    }\n  };\n});\n\nvar QRDisplay = function QRDisplay(_ref) {\n  var onClose = _ref.onClose,\n      open = _ref.open,\n      series = _ref.series,\n      photoId = _ref.photoId;\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      qrCodeEl = _useState2[0],\n      setQRCodeEl = _useState2[1];\n\n  var _createShareUrl = createShareUrl(series, photoId),\n      url = _createShareUrl.url,\n      ogShare = _createShareUrl.ogShare;\n\n  var canShare = ['OPEN', 'PUBLIC'].indexOf(series.access) > -1;\n  useLayoutEffect(function () {\n    QRCode.toString(url, function (err, svgStr) {\n      if (err) console.error(err);else setQRCodeEl(svgStr);\n    });\n  }, [series]);\n  useLayoutEffect(function () {\n    if (navigator.share && open && canShare) {\n      var text = 'MorPhoto Series';\n      if (series.note) text = series.note.length > 100 ? series.note.slice(100) + '...' : series.note;\n      navigator.share({\n        title: series.name,\n        text: text,\n        url: ogShare\n      }).then(function () {\n        return console.log('Successful share');\n      }).catch(function (error) {\n        return console.log('Error sharing', error);\n      });\n    }\n  }, [open]);\n  return React.createElement(Dialog, {\n    open: open,\n    fullWidth: true,\n    onClose: onClose,\n    className: classes.root\n  }, React.createElement(DialogTitle, {\n    className: classes.title\n  }, series.name), React.createElement(Paper, {\n    className: classes.qrPaper\n  }, canShare ? React.createElement(\"svg\", {\n    className: classes.qrCode,\n    dangerouslySetInnerHTML: {\n      __html: qrCodeEl\n    }\n  }) : React.createElement(Typography, {\n    variant: \"\",\n    color: \"error\"\n  }, \"You cannot share a private series.\"), canShare && React.createElement(Link, {\n    href: url\n  }, \"Share Link\"), series.coords && React.createElement(Typography, {\n    component: \"div\",\n    className: classes.coords,\n    variant: \"overline\"\n  }, \"coords: [ \", series.coords[0], \", \", series.coords[1], \" ]\")));\n};\n\nQRDisplay.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool,\n  series: PropTypes.object.isRequired,\n  photoId: PropTypes.string\n};\nexport default QRDisplay;","export { default as CameraTool } from './CameraTool';\nexport { default as QRReader } from './QRReader';\nexport { default as QRDisplay } from './QRDisplay';","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport default {\n  s3Upload: require('./s3Upload').default,\n  graphql: {\n    APOLLOSTATES: require('./graphql/useGraphQL').APOLLOSTATES,\n    useGraphQL: require('./graphql/useGraphQL').default,\n    queries: require('./graphql/queries'),\n    mutations: _objectSpread({}, require('./graphql/mutations'), {\n      createPhoto: require('./graphql/mutations/createPhoto').default,\n      createSeries: require('./graphql/mutations/createSeries').default,\n      deletePhoto: require('./graphql/mutations/deletePhoto').default,\n      deleteSeries: require('./graphql/mutations/deleteSeries').default,\n      unwatch: require('./graphql/mutations/unwatch').default,\n      updatePhoto: require('./graphql/mutations/updatePhoto').default,\n      updateSeries: require('./graphql/mutations/updateSeries').default,\n      watch: require('./graphql/mutations/watch').default,\n      updateQueries: require('./graphql/mutations/updateQueries')\n    }),\n    offline: require('./graphql/offline')\n  },\n  redux: {\n    withReduxProvider: require('./redux/withReduxProvider').default,\n    actions: require('./redux/actions').default\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { AppLogo } from '@morphoto/icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    content: {},\n    messageWrapper: {\n      display: 'flex'\n    },\n    logo: {\n      height: 50,\n      width: 50\n    },\n    paper: {\n      background: theme.palette.text.primary,\n      color: theme.palette.primary.contrastText,\n      border: \"2px solid \".concat(theme.palette.primary.contrastText),\n      boxShadow: \"0 0 0 0 \".concat(theme.palette.primary.main),\n      animation: '$installPulse 2s infinite',\n      padding: theme.spacing(2, 3),\n      width: '100%'\n    },\n    '@keyframes installPulse': {\n      '0%': {\n        boxShadow: \"0 0 0 0px \".concat(theme.palette.primary.main)\n      },\n      '50%': {\n        boxShadow: \"0 0 0 0px \".concat(theme.palette.primary.main)\n      },\n      '100%': {\n        boxShadow: \"0 0 0 20px transparent\"\n      }\n    },\n    textWrapper: {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(1)\n    },\n    buttons: {\n      display: 'flex'\n    },\n    spacer: {\n      flexGrow: 1\n    }\n  };\n});\n\nvar InstallPrompt = function InstallPrompt(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      onInstall = _ref.onInstall;\n  var classes = useStyles();\n  return React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: open,\n    onClose: onClose\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 24\n  }, React.createElement(\"div\", {\n    id: \"client-snackbar\",\n    className: classes.messageWrapper\n  }, React.createElement(AppLogo, {\n    className: classes.logo\n  }), React.createElement(\"div\", {\n    className: classes.textWrapper\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"inherit\"\n  }, \"Install MorPhoto\"), React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"inherit\",\n    paragraph: true\n  }, \"This app can be installed and used on your device natively and offline if you would like.\"), React.createElement(\"div\", {\n    className: classes.buttons\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    onClick: onClose\n  }, \"No thanks\"), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: onInstall\n  }, \"Install\"))))));\n};\n\nInstallPrompt.propTypes = {\n  open: PropTypes.bool,\n  actions: PropTypes.shape({\n    onClose: PropTypes.func.isRequired,\n    onInstall: PropTypes.func.isRequired\n  })\n};\nexport default InstallPrompt;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { device } from '@morphoto/client-common';\nimport InstallPrompt from './InstallPrompt';\n\nvar isInStandaloneMode = function isInStandaloneMode() {\n  return 'standalone' in window.navigator && window.navigator.standalone;\n};\n\nvar ios = device.ios,\n    phone = device.phone;\n\nvar useShowAddToHome = function useShowAddToHome(showInstall, dismissInstall) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      deferredPrompt = _useState2[0],\n      setPrompt = _useState2[1];\n\n  var handleBeforePrompt = function handleBeforePrompt(e) {\n    e.preventDefault();\n    setPrompt(e);\n  };\n\n  var installPrompt = useMemo(function () {\n    if (!showInstall || !deferredPrompt) return null;\n    return React.createElement(InstallPrompt, {\n      open: true,\n      onClose: dismissInstall,\n      onInstall: addToHomeScreen\n    });\n  }, [showInstall, deferredPrompt]);\n  useEffect(function () {\n    if (ios && !isInStandaloneMode()) {\n      console.log('I AM on IOS and I am NOT in standalone mode.');\n    }\n\n    window.addEventListener('beforeinstallprompt', handleBeforePrompt);\n    return function () {\n      window.removeEventListener('beforeinstallprompt', handleBeforePrompt);\n    };\n  }, []);\n\n  function addToHomeScreen() {\n    deferredPrompt.prompt();\n    deferredPrompt.userChoice.then(function (choiceResult) {\n      if (choiceResult.outcome === 'accepted') {\n        console.log('User accepted the A2HS prompt');\n        dismissInstall();\n      } else {\n        console.log('User dismissed the A2HS prompt');\n        dismissInstall();\n      }\n\n      setPrompt(null);\n    });\n  }\n\n  return {\n    installPrompt: installPrompt,\n    addToHomeScreen: installPrompt ? addToHomeScreen : null\n  };\n};\n\nexport default useShowAddToHome;","import React, { useMemo, useContext, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { graphql, compose } from 'react-apollo'\nimport datastore from '@morphoto/datastore'\nimport { AppContext } from '@morphoto/client-common'\n\nconst withUploadConnect = Wrapped => {\n  const Inner = ({ activeUpload, uploading, uploadOnline, updateUploadProgress, setUploaderOnline }) => {\n    const { online: { isOnline } } = useContext(AppContext)\n    console.log('withUploadConnect::: RENDER', { isOnline, uploadOnline })\n\n    useEffect(() => {\n      console.log('withUploadConnect:::', { uploadOnline, isOnline })\n      if (uploadOnline !== isOnline) setUploaderOnline(isOnline)\n    }, [isOnline, setUploaderOnline, uploadOnline])\n\n    // This lurker waits for the s3 credentials to expire then it goes to get new ones.\n    const newS3Creds = useMemo(() => <NewS3Credentials onDone={updateUploadProgress} activeUpload={activeUpload} />,\n      [updateUploadProgress, activeUpload])\n\n    if (!activeUpload || !uploading) return newS3Creds\n    return (\n      <React.Fragment>\n        {newS3Creds}\n        <Wrapped text={'Uploading image'} progress={activeUpload.progress || 0} />\n      </React.Fragment>\n    )\n  }\n  Inner.propTypes = {\n  // All from redux\n    activeUpload: PropTypes.object,\n    uploading: PropTypes.bool,\n    uploadOnline: PropTypes.bool,\n    updateUploadProgress: PropTypes.func.isRequired,\n    setUploaderOnline: PropTypes.func.isRequired\n  }\n  return Inner\n}\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const { activeUpload, uploading, online: uploadOnline } = state.uploader\n  return { activeUpload, uploading, uploadOnline }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateUploadProgress: (newProgress) => {\n    dispatch(datastore.redux.actions.updateUploadProgress(newProgress))\n  },\n  setUploaderOnline: (bOnline) => {\n    dispatch(datastore.redux.actions.setUploaderOnline(bOnline))\n  }\n})\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withUploadConnect\n)\n\n/**\n * Here's the graphql HOC that gets an individual series\n */\nconst withGetNewS3Credentials = graphql(datastore.graphql.queries.getNewS3Credentials, {\n  skip: ({ online, activeUpload }) => !online || !activeUpload || (activeUpload.expires > Date.now()),\n  props: ({ data, ownProps }) => {\n    if (data.error) console.error(data.error)\n    console.log('withGetNewS3Credentials:: ', { data })\n\n    // If we get backa  valid auth code then create a new queue object\n    // and send it back\n    if (!data.loading) {\n      ownProps.onDone({\n        ...ownProps.qItem,\n        retry: ownProps.qItem.retry + 1,\n        preAuth: JSON.parse(data.s3Credentials)\n      })\n    }\n    return {\n      data\n    }\n  },\n  options: ({ qItem }) => ({\n    variables: { seriesId: qItem.seriesId, photoId: qItem.id, ext: qItem.ext }\n  })\n})\nconst NewS3Credentials = withGetNewS3Credentials(() => null)\n","import React, { useContext, useMemo, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql, compose } from 'react-apollo'\nimport { connect } from 'react-redux'\nimport ReactGA from 'react-ga'\n\nimport { NEW_PHOTO_MODES, SERIES_MODES } from '@morphoto/photoseries'\nimport { config, AppContext } from '@morphoto/client-common'\nimport datastore from '@morphoto/datastore'\n\nconst STATES = config.home.AppStateTypes\n\nconst withSeriesConnect = WrappedSeries => {\n  const InnerSeries = ({\n    series, loading, domain, activeSeries, initialPhoto,\n    onAfterSeriesDelete, queueUpload,\n    updateSeriesMutation, updatePhotoMutation,\n    deleteSeriesMutation, deletePhotoMutation,\n    createSeriesMutation, createPhotoMutation,\n    watchSeriesMutation, unWatchSeriesMutation,\n    onFindOnMap\n  }) => {\n    const { role, currentUser, signedIn, globalActions } = useContext(AppContext)\n\n    const inputMethod = domain === STATES.NEW_SERIES_CAMERA\n      ? NEW_PHOTO_MODES.CAMERA\n      : NEW_PHOTO_MODES.FILEPICKER\n\n    // console.log('SeriesConnect', { series, loading, currentState, activeSeries, role, currentUser })\n    let modeName = SERIES_MODES.SERIES_VIEW\n    if (domain !== STATES.SERIES) modeName = SERIES_MODES.NEWSERIES\n\n    // A little mutation here.\n    useMemo(() => {\n      if (series && series.photos) {\n        series.photos.sort((a, b) => parseInt(a.takenOn, 10) - parseInt(b.takenOn, 10))\n      }\n    }, [series])\n\n    useEffect(() => {\n      if (series && series.id) {\n        ReactGA.event({\n          category: `Series`,\n          action: 'View',\n          label: series.id\n        })\n      }\n    }, [series])\n\n    let owned = false\n    try {\n      owned = currentUser.id === series.createdUser.id\n    }\n    catch (e) {}\n\n    return (\n      <WrappedSeries\n        modeName={modeName}\n        inputMethod={inputMethod}\n\n        owned={owned}\n        watching={signedIn && currentUser && currentUser.watching && currentUser.watching.indexOf(activeSeries) > -1}\n\n        // Everything we need to determine access\n        currentUserId={signedIn ? currentUser.id : null}\n        currentUserRole={role}\n        loading={loading}\n        series={series}\n        initialPhoto={initialPhoto}\n\n        actions={{\n          // Now some functions to handle actions we might take\n          onNewPhoto: async (newPhoto, newPhotoData) => {\n            console.log('onNewPhoto::', { series, newPhoto, newPhotoData })\n            // Write this blob to the imgStore so we can use it later\n            await datastore.graphql.offline.imgStore.setItem(newPhoto.uploadToken, newPhotoData)\n            return createPhotoMutation(series, newPhoto, newPhotoData.ext)\n              .then(({ data }) => {\n                // Now we can add this photo to the upload queue\n                const photo = data.createPhoto.photo\n                if (data.createPhoto.preAuth) {\n                  const preAuth = JSON.parse(data.createPhoto.preAuth)\n\n                  queueUpload({\n                    id: photo.id,\n                    uploadToken: photo.uploadToken,\n                    seriesId: photo.seriesId,\n                    expires: Date.now() + (3300 * 1000),\n                    preAuth,\n                    ext: newPhotoData.ext,\n                    retry: 0\n                  })\n                }\n              })\n              .catch(err => {\n                console.log('onNewPhoto:: Graphql Error', err.stack)\n                console.error(err)\n              })\n          },\n\n          onChangePhoto: (photo, photoDelta) => updatePhotoMutation(series, photo, photoDelta)\n            .catch(err => {\n              console.log('onChangePhoto:: Graphql Error', err.stack)\n              console.error(err)\n            }),\n\n          onDeletePhoto: (photo) => deletePhotoMutation(photo.id)\n            .then((...data) => {\n              console.log('onDeletePhoto:: photo deleted', data)\n            })\n            .catch(err => {\n              console.log('onDeletePhoto:: Graphql Error', err.stack)\n              console.error(err)\n            }),\n\n          onChange: (series, seriesDelta) => updateSeriesMutation(series, seriesDelta)\n            .catch(err => {\n              console.log('onChange:: Graphql Error', err.stack)\n              console.error(err)\n            }),\n\n          onNewSeries: async (newSeries, newPhoto, newPhotoData) => {\n            console.log('Series.connect:: onNewSeries starting', { newSeries, newPhoto, newPhotoData })\n            await datastore.graphql.offline.imgStore.setItem(newPhoto.uploadToken, newPhotoData)\n            return createSeriesMutation(newSeries, newPhoto, newPhotoData.ext)\n              .then(async ({ data }) => {\n                console.log('Series.connect::', data)\n                if (data.createSeries.preAuth) {\n                  // Now we can add this photo to the upload queue\n                  const photo = data.createSeries.series.photos[0]\n                  const preAuth = JSON.parse(data.createSeries.preAuth)\n\n                  queueUpload({\n                    id: photo.id,\n                    uploadToken: photo.uploadToken,\n                    seriesId: photo.seriesId,\n                    expires: Date.now() + (3300 * 1000),\n                    preAuth,\n                    ext: newPhotoData.ext,\n                    retry: 0\n                  })\n                }\n              })\n              .catch(err => {\n                console.log('onNewSeries:: Graphql Error', err.stack)\n                console.error(err)\n              })\n          },\n          onDelete: () => {\n            onAfterSeriesDelete() // UI Stuff, just bring us back to the feed\n            return deleteSeriesMutation()\n              .catch(err => {\n                console.log('onDelete:: Graphql Error', err.stack)\n                console.error(err)\n              })\n          },\n          onClose: globalActions.onMenuBack,\n          onFindOnMap: onFindOnMap,\n          onWatch: signedIn ? watchSeriesMutation : null,\n          onUnWatch: signedIn ? unWatchSeriesMutation : null\n        }}\n\n      />\n    )\n  }\n  InnerSeries.propTypes = {\n    domain: PropTypes.string,\n    activeSeries: PropTypes.string,\n    initialPhoto: PropTypes.string,\n\n    // From Redux\n    onAfterSeriesDelete: PropTypes.func,\n    queueUpload: PropTypes.func,\n\n    // Data from apollo\n    series: PropTypes.object,\n\n    // Functions From Apollo\n    loading: PropTypes.bool,\n\n    updateSeriesMutation: PropTypes.func,\n    updatePhotoMutation: PropTypes.func,\n    deleteSeriesMutation: PropTypes.func,\n    deletePhotoMutation: PropTypes.func,\n    createSeriesMutation: PropTypes.func,\n    createPhotoMutation: PropTypes.func,\n    watchSeriesMutation: PropTypes.func,\n    unWatchSeriesMutation: PropTypes.func,\n    onFindOnMap: PropTypes.func\n  }\n  return InnerSeries\n}\n\n/**\n * Here's the graphql HOC that gets an individual series\n */\nconst withGetSelectedQuery = graphql(datastore.graphql.queries.getWholeSeries, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    console.log('getWholeSeries:: ', { data })\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.log('getWholeSeries:: error', { data, e })\n      console.error(e)\n    }\n    return {\n      data,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ activeSeries, isNewSeries }) => !activeSeries || isNewSeries,\n  options: ({ activeSeries }) => ({\n    variables: {\n      id: activeSeries\n    }\n  })\n})\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const { current: { activeSeries, initialPhoto, domain } } = state.home\n  return { activeSeries, initialPhoto, domain, ...props }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onAfterSeriesDelete: () => {\n    console.log('onAfterSeriesDelete')\n    dispatch(datastore.redux.actions.setHomeState(STATES.FEED, { activeSeries: null }))\n  },\n  queueUpload: (uploadObj) => {\n    dispatch(datastore.redux.actions.queueUpload(uploadObj))\n  },\n  // activeSeries is an id\n  doneCreatingSeries: (activeSeries) => {\n    console.log('doneCreatingSeries', activeSeries)\n    dispatch(datastore.redux.actions.setHomeState(STATES.SERIES, { activeSeries }))\n  },\n  // We need to swap out the L-dfgsdfgsdfg id on photos\n  doneCreatingPhoto: (initialPhoto) => {\n    console.log('doneCreatingPhoto', initialPhoto)\n    dispatch(datastore.redux.actions.setHomeState(STATES.SERIES, { initialPhoto }))\n  },\n  onFindOnMap: () => {\n    dispatch(datastore.redux.actions.setHomeState(STATES.MAP))\n  }\n})\n\n/**\n * Compose all our queries together. This is a bit of a mess but kind of necessary for now\n */\nexport default compose(\n  // connect first so that we can retrieve our seriesId\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  ),\n  withGetSelectedQuery,\n  datastore.graphql.mutations.createSeries.withMutation,\n  datastore.graphql.mutations.createPhoto.withMutation,\n  datastore.graphql.mutations.updateSeries.withMutation,\n  datastore.graphql.mutations.updatePhoto.withMutation,\n  datastore.graphql.mutations.deleteSeries.withMutation,\n  datastore.graphql.mutations.deletePhoto.withMutation,\n  datastore.graphql.mutations.watch.withMutation,\n  datastore.graphql.mutations.unwatch.withMutation,\n  withSeriesConnect\n)\n","import React, { useEffect, useState, useRef, useMemo } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { connect } from 'react-redux'\nimport { graphql, compose } from 'react-apollo'\n\nimport datastore from '@morphoto/datastore'\nimport { config } from '@morphoto/client-common'\n\nconst POLL_INTERVAL = 20 // (seconds)\n\n/**\n * The outer component handles the lastCheck variable which, when changed will\n * cause the poll event\n */\nconst withHomeMap = Wrapped => {\n  const InnerHomeMap = ({\n    onSeriesNavigate,\n    onSeriesMapSelect,\n    onSearchClick,\n    popMapHistory,\n    pushMapHistory,\n    clearMapHistory,\n    initialActiveSeries,\n    initViewport\n  }) => {\n    const [seriesProps, setSeriesProps] = useState()\n    const [queryVersion, setVersion] = useState(0)\n    const timerRef = useRef()\n    const queryVersionRef = useRef()\n    const [lastCheck, setLastCheck] = useState(0)\n    queryVersionRef.current = queryVersion\n\n    // These are expensive queries so we render them memoized to prevent erroneous re-renders\n    const allSeriesQUERY = useMemo(() => <AllSeriesConnect setSeriesProps={setSeriesProps} />, [])\n    const pollSeriesQUERY = useMemo(\n      () => <PollQueryConnect lastCheck={lastCheck} seriesProps={seriesProps} updateIncrement={() => setVersion(queryVersionRef.current + 1)} />,\n      [lastCheck, seriesProps]\n    )\n    // console.log('withPollQuery (PARENT)', { lastCheck, seriesProps })\n    // Initiate the polling process. We simply update the timestamp every N seconds\n    useEffect(() => {\n      if (!seriesProps) return\n      function ping () {\n        if (timerRef.current) setLastCheck(String(Date.now() - POLL_INTERVAL * 1000))\n      }\n      if (!timerRef.current && seriesProps.readyForPolling) timerRef.current = setInterval(ping, POLL_INTERVAL * 1000)\n      return () => {\n        if (timerRef.current) {\n          console.log('clear poll timer')\n          clearInterval(timerRef.current)\n          timerRef.current = null\n        }\n      }\n    }, [seriesProps])\n    // console.log('withHomeMap', { seriesProps, queryVersion })\n\n    return (\n      <React.Fragment>\n        {allSeriesQUERY}\n        {pollSeriesQUERY}\n        <Wrapped\n          initialActiveSeries={initialActiveSeries}\n          initViewport={initViewport}\n          actions={{\n            onSeriesNavigate,\n            onSeriesMapSelect,\n            onSearchClick,\n            popMapHistory,\n            pushMapHistory,\n            clearMapHistory\n          }}\n          queryVersion={queryVersion}\n          seriesList={seriesProps && seriesProps.allSeries ? seriesProps.allSeries.seriesSummaries : []}\n          loading={!seriesProps || seriesProps.loading}\n        />\n      </React.Fragment>\n    )\n  }\n  InnerHomeMap.propTypes = {\n    onSeriesNavigate: PropTypes.func.isRequired,\n    onSeriesMapSelect: PropTypes.func.isRequired,\n    onSearchClick: PropTypes.func.isRequired,\n    popMapHistory: PropTypes.func.isRequired,\n    pushMapHistory: PropTypes.func.isRequired,\n    clearMapHistory: PropTypes.func.isRequired,\n    initialActiveSeries: PropTypes.string,\n    initViewport: PropTypes.object\n  }\n  // InnerHomeMap.whyDidYouRender = true\n  return InnerHomeMap\n}\n\nconst withAllSeries = graphql(datastore.graphql.queries.allSeries, {\n  props: ({ data, ownProps }) => {\n    // console.log('withAllSeries', { data, ownProps })\n    // If there's more data to load we should go get another batch\n    if (!data.loading && !data.error && data.allSeries && data.allSeries.seriesSummaries.length > 0 && data.allSeries.nextToken) {\n      data.fetchMore({\n        variables: { ...data.variables, nextToken: data.allSeries.nextToken },\n        // How do we mush the new query with the old one\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return {\n            allSeries: {\n              ...fetchMoreResult.allSeries,\n              seriesSummaries: [ ...prev.allSeries.seriesSummaries, ...fetchMoreResult.allSeries.seriesSummaries ]\n            }\n          }\n        }\n      })\n    }\n    else if (data.loading || data.error) {\n      ownProps.setSeriesProps(data)\n    }\n    else {\n      // console.log('withAllSeries polling done')\n      ownProps.setSeriesProps({ ...data, readyForPolling: true })\n    }\n    return null\n  },\n  options: {\n    variables: { limit: 100 }\n  }\n})\n\n/**\n * Here's the graphql HOC that gets an individual series\n */\nconst withPollQuery = graphql(datastore.graphql.queries.pollQuery, {\n  skip: ({ lastCheck, online }) => !lastCheck || !online,\n  props: ({ data, ownProps: { seriesProps, updateIncrement } }) => {\n    if (data.error) {\n      console.log('POLL FAIL', data.error, data)\n      console.error(data.error)\n    }\n    else {\n      // console.log('withPollQuery', { data, seriesProps, updateIncrement })\n    }\n    if (!data.loading && data.changedSeries && data.changedSeries.seriesSummaries) {\n      // console.log('POLLING', { data, seriesProps })\n      const newData = data.changedSeries.seriesSummaries\n      const oldList = seriesProps.allSeries.seriesSummaries\n\n      // If the polling has begun and we have some good polling data back then\n      // Process it and decide if we need to incorporate it\n      if (data.changedSeries) {\n        let newSeriesSummaries = seriesProps.allSeries.seriesSummaries\n        newData.forEach(({ seriesStatus, ...polledSeries }) => {\n          if (seriesStatus === 'deleted') {\n            console.log('Polling found a series to delete: ', polledSeries.id)\n            newSeriesSummaries = oldList.filter(s => s.id !== polledSeries.id)\n          }\n          else {\n            const idx = oldList.findIndex(ds => ds.id === polledSeries.id)\n            if (idx >= 0) {\n              console.log('Polling found a series to Update: ', polledSeries.id)\n              newSeriesSummaries = oldList.map((oldSeries, oldId) => oldId === idx ? polledSeries : oldSeries)\n            }\n            else {\n              console.log('Polling found a series to add: ', polledSeries.id)\n              newSeriesSummaries = [...oldList, polledSeries]\n            }\n          }\n          seriesProps.updateQuery((data, options) => {\n            try {\n              const newData = { ...data }\n              newData.allSeries.seriesSummaries = newSeriesSummaries\n              updateIncrement()\n              return data\n            }\n            catch (e) {\n              console.error(e)\n              return data\n            }\n          })\n        })\n      }\n    }\n    return null\n  },\n  options: ({ lastCheck }) => ({\n    variables: {\n      limit: 100,\n      lastCheck\n    }\n  })\n})\n\n// We're using graphql() HOC because it's convenient but it doesn't need to render anything\nconst AllSeriesConnect = withAllSeries(() => null)\nconst PollQueryConnect = withPollQuery(() => null)\n\n// The only part of the state the main view caes about is teh window\nconst mapStateToProps = (state, props) => {\n  const { current: { activeSeries } } = state.home\n  const initViewport = state.map.slice(-1).pop()\n  return { initialActiveSeries: activeSeries, initViewport, ...props }\n}\n\nconst STATES = config.home.AppStateTypes\n\n// There are a few presentational actions the main window can use\nconst mapDispatchToProps = {\n  onSeriesNavigate: activeSeries => datastore.redux.actions.setHomeState(STATES.SERIES, { activeSeries }),\n  onSeriesMapSelect: datastore.redux.actions.setActiveSeries,\n  onSearchClick: () => datastore.redux.actions.setHomeState(STATES.SEARCH, { search: { tab: config.home.SEARCH_TABS.LOCATION, text: '' } }),\n  popMapHistory: datastore.redux.actions.popMapHistory,\n  pushMapHistory: datastore.redux.actions.pushMapHistory,\n  clearMapHistory: datastore.redux.actions.clearMapHistory\n}\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  ),\n  withHomeMap\n)\n","import React, { useState, useMemo, useContext, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql, compose } from 'react-apollo'\nimport ReactGA from 'react-ga'\n\nimport { connect } from 'react-redux'\n\nimport { config, AppContext } from '@morphoto/client-common'\nimport datastore from '@morphoto/datastore'\n\nimport { dates } from '@morphoto/common'\n\nconst TABS = config.home.SEARCH_TABS\n\nconst withSearchConnect = Wrapped => {\n  const Inner = ({ defaultTab, defaultText, fetchMore }) => {\n    console.log('withSearchConnect', { Wrapped, defaultTab, defaultText, fetchMore })\n    const [currentTab, setCurrentTab] = useState(defaultTab || TABS.TAG)\n    const { globalActions } = useContext(AppContext)\n    // We separate these because one of them needs to be immediate and the\n    const [searchText, setSearchText] = useState(defaultText || '')\n    const [contextChoice, setContextChoice] = useState(null)\n\n    useEffect(() => {\n      ReactGA.pageview('search')\n    }, [])\n\n    useEffect(() => {\n      if (contextChoice || searchText.length > 3) {\n        ReactGA.event({\n          category: `Search:${currentTab}`,\n          action: contextChoice ? 'Search Context Select' : 'Search Text Change',\n          label: contextChoice ? contextChoice.name : searchText\n        })\n      }\n    }, [searchText, currentTab, contextChoice])\n\n    const handleTabChange = (newTab) => {\n      setContextChoice(null)\n      setCurrentTab(newTab)\n    }\n    const handleContextChoiceChange = (newContextChoice) => {\n      setContextChoice(newContextChoice)\n    }\n    const handleSearchTextChange = (text) => {\n      setSearchText(text)\n      setContextChoice(null)\n    }\n\n    let withContextQuery = null\n    let withSearchQuery = null\n\n    switch (currentTab) {\n      case TABS.KEYWORD:\n        withContextQuery = (Wrapped) => Wrapped\n        withSearchQuery = withKeywordSearch\n        break\n      case TABS.TAG:\n        withContextQuery = withTagSearch\n        withSearchQuery = withTagSeries\n        break\n      case TABS.LOCATION:\n        withContextQuery = withGeoCode\n        // withSearchQuery = withGeoSearch\n        break\n      case TABS.USER:\n        withContextQuery = withUserSearch\n        withSearchQuery = withUserSeries\n        break\n      default:\n        break\n    }\n\n    const ComposedSearch = useMemo(() => withSearchQuery\n      ? compose(\n        withContextQuery,\n        withSearchQuery\n      )(Wrapped)\n      : withContextQuery(Wrapped), [withContextQuery, withSearchQuery])\n\n    return <ComposedSearch {...{ currentTab, searchText, contextChoice }}\n      actions={{\n        onMapClick: globalActions.jumpToMap,\n        onResultClick: globalActions.jumpToSeriesView,\n        setContextChoice: handleContextChoiceChange,\n        fetchMore: fetchMore,\n        setCurrentTab: handleTabChange,\n        setSearchText: handleSearchTextChange\n      }}\n    />\n  }\n  Inner.propTypes = {\n    searchResults: PropTypes.array,\n    contextResults: PropTypes.array,\n    defaultTab: PropTypes.any,\n    defaultText: PropTypes.string,\n    loading: PropTypes.bool,\n    fetchMore: PropTypes.func\n  }\n  return Inner\n}\n/*****************************************************************\n *  PART 1: SEARCH QUERIES\n *****************************************************************/\n\n/**\n * Here's the graphql HOC that gets an individual series\n */\nconst withTagSearch = graphql(datastore.graphql.queries.tagSearch, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withTagSearch', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n    const contextResults = data.tags ? data.tags.map(({ name, count }) => ({\n      name,\n      description: `~ ${count < 10 ? count : Math.ceil(count / 10) * 10} Photo series tagged`\n    })) : []\n\n    return {\n      contextResults,\n      loading: data.loading,\n      series\n    }\n  },\n  // skip: ({ searchText }) => !searchText || searchText.length < 3,\n  options: ({ searchText }) => ({\n    variables: {\n      tag: !searchText || searchText.length < 3 ? '' : searchText,\n      limit: 10\n    }\n  })\n})\n\nconst withUserSearch = graphql(datastore.graphql.queries.userSearch, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withUserSearch', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n\n    const contextResults = data.userSearch ? data.userSearch.map(({ username, gravatar, createdOn, id }) => ({\n      name: username,\n      id,\n      description: `Joined ${dates.formatDateAgo(createdOn)}`,\n      gravatar\n    })) : []\n\n    return {\n      contextResults,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ searchText }) => !searchText || searchText.length < 3,\n  options: ({ searchText }) => ({\n    variables: {\n      searchStr: searchText,\n      limit: 10\n    }\n  })\n})\n\nconst withGeoCode = graphql(datastore.graphql.queries.geocode, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withGeoCode', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n\n    const contextResults = data.geocoder ? data.geocoder.map(({ relevance, text, placeName, bbox, center }) => ({\n      name: text,\n      description: placeName,\n      bbox,\n      center,\n      relevance\n    })) : []\n\n    return {\n      contextResults,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ searchText }) => !searchText || searchText.length < 3,\n  options: ({ searchText }) => ({\n    variables: {\n      search: searchText\n      // limit: 10\n    }\n  })\n})\n\n/*****************************************************************\n * PART 2: SERIES SEARCH QUERIES\n *****************************************************************/\n\nconst withTagSeries = graphql(datastore.graphql.queries.seriesWithTag, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withTagSeries', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n\n    // A second Thunk function designed to get more elements in the feed history\n    const fetchMore = data.loading || !data.tagSeries || !data.tagSeries.nextToken ? null : () => {\n      console.log('fetchMore', data)\n      data.fetchMore({\n        variables: { ...data.variables, nextToken: data.tagSeries.nextToken },\n        // How do we mush the new query with the old one\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return {\n            tagSeries: {\n              ...fetchMoreResult.tagSeries,\n              seriesSummaries: [ ...prev.tagSeries.seriesSummaries, ...fetchMoreResult.tagSeries.seriesSummaries ]\n                .filter(s => s.seriesStatus !== 'deleted')\n            }\n          }\n        }\n      })\n    }\n\n    const searchResults = data.tagSeries && data.tagSeries.seriesSummaries\n      ? data.tagSeries.seriesSummaries\n      : []\n\n    return {\n      searchResults,\n      fetchMore,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ contextChoice }) => !contextChoice,\n  options: ({ contextChoice }) => ({\n    variables: {\n      tag: contextChoice.name,\n      limit: 10\n    }\n  })\n})\n\nconst withUserSeries = graphql(datastore.graphql.queries.userSeries, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withUserSeries', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n\n    // A second Thunk function designed to get more elements in the feed history\n    const fetchMore = data.loading || !data.userSeries || !data.userSeries.nextToken ? null : () => {\n      console.log('fetchMore', data)\n      data.fetchMore({\n        variables: { ...data.variables, nextToken: data.userSeries.nextToken },\n        // How do we mush the new query with the old one\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return {\n            userSeries: {\n              ...fetchMoreResult.userSeries,\n              seriesSummaries: [ ...prev.userSeries.seriesSummaries, ...fetchMoreResult.userSeries.seriesSummaries ]\n                .filter(s => s.seriesStatus !== 'deleted')\n            }\n          }\n        }\n      })\n    }\n\n    const searchResults = data.userSeries && data.userSeries.seriesSummaries\n      ? data.userSeries.seriesSummaries\n      : []\n\n    return {\n      searchResults,\n      fetchMore,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ contextChoice }) => !contextChoice,\n  options: ({ contextChoice }) => ({\n    variables: {\n      createdBy: contextChoice.id,\n      limit: 10\n    }\n  })\n})\n\nconst withKeywordSearch = graphql(datastore.graphql.queries.keywordSearch, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n    // console.log('withUserSeries', data)\n    let series = null\n    try {\n      if (!data.loading && !data.error) series = data.series\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n\n    // A second Thunk function designed to get more elements in the feed history\n    const fetchMore = data.loading || !data.keywordSearch || !data.keywordSearch.nextToken ? null : () => {\n      console.log('fetchMore', data)\n      data.fetchMore({\n        variables: { ...data.variables, nextToken: data.keywordSearch.nextToken },\n        // How do we mush the new query with the old one\n        updateQuery: (prev, { fetchMoreResult }) => {\n          return {\n            keywordSearch: {\n              ...fetchMoreResult.keywordSearch,\n              seriesSummaries: [ ...prev.keywordSearch.seriesSummaries, ...fetchMoreResult.keywordSearch.seriesSummaries ]\n                .filter(s => s.seriesStatus !== 'deleted')\n            }\n          }\n        }\n      })\n    }\n\n    const searchResults = data.keywordSearch && data.keywordSearch.seriesSummaries\n      ? data.keywordSearch.seriesSummaries\n      : []\n\n    return {\n      searchResults,\n      fetchMore,\n      loading: data.loading,\n      series\n    }\n  },\n  skip: ({ searchText }) => !searchText || searchText.length < 3,\n  options: ({ searchText }) => ({\n    variables: {\n      searchStr: searchText,\n      limit: 10\n    }\n  })\n})\n\n// const withGeoSearch = graphql(geoSeries, {\n//   props: ({ data }) => {\n//     if (data.error) console.error(data.error)\n//     // console.log('HERE', data)\n//     let series = null\n//     try {\n//       if (!data.loading && !data.error) series = data.series\n//     }\n//     catch (e) {\n//       console.error(data)\n//       console.error(e)\n//     }\n//     return {\n//       data,\n//       loading: data.loading,\n//       series\n//     }\n//   },\n//   skip: ({ contextChoice }) => !contextChoice,\n//   options: ({ contextChoice }) => ({\n//     variables: {\n//       bounds: contextChoice.bbox\n//       // limit: 10\n//       // nextToken\n//     }\n//   })\n// })\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const { current: { search, activeSeries } } = state.home\n  return {\n    defaultTab: search ? search.tab : null,\n    defaultText: search ? search.text : null,\n    activeSeries\n  }\n}\n\nexport default compose(\n  connect(\n    mapStateToProps\n  ),\n  withSearchConnect\n)\n","import React, { useContext, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactGA from 'react-ga'\n\nimport { graphql, compose } from 'react-apollo'\n// import { print } from 'graphql/language/printer'\n\nimport { AppContext } from '@morphoto/client-common'\nimport datastore from '@morphoto/datastore'\n\nconst withProfileConnect = Wrapped => {\n  const Inner = ({ data }) => {\n    const { seriesQ, watchedSeriesQ } = data\n    const { currentUser, globalActions } = useContext(AppContext)\n\n    const mySeries = seriesQ && seriesQ.userSeries && seriesQ.userSeries.seriesSummaries\n      ? seriesQ.userSeries.seriesSummaries.filter(s => s.seriesStatus !== 'deleted') || []\n      : []\n    const watchingSeries = watchedSeriesQ && watchedSeriesQ.arraySeries ? watchedSeriesQ.arraySeries : []\n    // console.log('ProfileConnect', { mySeries, watchedSeriesQ, watchingSeries })\n\n    const loading = Boolean(\n      (seriesQ && seriesQ.loading) ||\n    (watchedSeriesQ && watchedSeriesQ.loading)\n    )\n\n    useEffect(() => {\n      ReactGA.pageview('profile')\n    }, [])\n\n    return <Wrapped user={currentUser} {...{\n      loading,\n      mySeries,\n      watchingSeries,\n      actions: {\n        jumpToSeries: globalActions.jumpToSeriesView,\n        jumpToMap: globalActions.jumpToSeriesMap\n      }\n    }} />\n  }\n\n  Inner.propTypes = {\n    data: PropTypes.object, // from graphql\n    jumpToSeries: PropTypes.func, // from redux\n    jumpToMap: PropTypes.func // from redux\n  }\n  return Inner\n}\n\nconst withuserSeriesQuery = graphql(datastore.graphql.queries.userSeries, {\n  props: ({ data, ownProps }) => {\n    // print(datastore.graphql.queries.userSeries)\n    console.log('ProfileConnect withuserSeriesQuery', { data, ownProps })\n    return { data: { ...ownProps.data, seriesQ: data } }\n  }\n})\n\nconst withMyWatchedSeriesQuery = graphql(datastore.graphql.queries.seriesFromList, {\n  props: ({ data, ownProps }) => {\n    console.log('ProfileConnect withMyWatchedSeriesQuery', datastore.graphql.queries.seriesFromList, { data, ownProps })\n    return { data: { ...ownProps.data, watchedSeriesQ: data } }\n  },\n  skip: ({ data, user }) => {\n    try {\n      return user.watching.length < 1\n    }\n    catch (e) {\n      return true\n    }\n  },\n  options: ({ data, user }) => {\n    return {\n      variables: { seriesList: user.watching }\n    }\n  }\n})\n\nexport default compose(\n  withuserSeriesQuery,\n  // withMyPhotosQuery,\n  withMyWatchedSeriesQuery,\n  withProfileConnect\n)\n","import React, { useRef, useState, useEffect, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql, compose } from 'react-apollo'\nimport { AppContext } from '@morphoto/client-common'\nimport ReactGA from 'react-ga'\n\nimport datastore from '@morphoto/datastore'\n\nconst POLL_INTERVAL = 20 // (seconds)\nconst FEED_LIMIT = 5 // (items to load)\n\nconst withFeedConnect = Wrapped => {\n  const Component = ({ data, loading, loadingNewest, loadingMore, gqlActions }) => {\n    const timerRef = useRef()\n    const lastCheckRef = useRef()\n    const [lastCheck, setLastCheck] = useState(null)\n    const { online, globalActions } = useContext(AppContext)\n    lastCheckRef.current = lastCheck\n\n    // Initiate the polling process. We simply update the timestamp every N seconds\n    useEffect(() => {\n      function ping () {\n        if (timerRef.current) {\n          // console.log('FeedConnect timerRef.current', timerRef.current, POLL_INTERVAL)\n          if (online.isOnline) gqlActions.fetchNewest()\n          setLastCheck(String(Date.now() - POLL_INTERVAL * 1000))\n        }\n      }\n      if (!timerRef.current) timerRef.current = setInterval(ping, POLL_INTERVAL * 1000)\n      return () => {\n        if (timerRef.current) {\n          // console.log('FeedConnect clear poll timer')\n          clearInterval(timerRef.current)\n          timerRef.current = null\n        }\n      }\n    }, [gqlActions, online.isOnline])\n\n    useEffect(() => {\n      ReactGA.pageview('feed')\n    }, [])\n\n    const events = data.myFeed ? data.myFeed.feed.filter(s => s.seriesStatus !== 'deleted') || [] : []\n    const window = data.myFeed ? data.myFeed.window.map(v => parseInt(v, 10)) || [null, null] : [null, null]\n\n    return (\n      <Wrapped {...{ events, loading, window }}\n        actions={{\n          onImageClick: globalActions.jumpToSeriesView,\n          onProfileClick: globalActions.jumpToUser,\n          onMapClick: globalActions.jumpToSeriesMap,\n          fetchMore: gqlActions.fetchMore,\n          fetchNewest: gqlActions.fetchNewest\n        }}\n      />\n    )\n  }\n  Component.propTypes = {\n    data: PropTypes.object, // from graphql\n    loading: PropTypes.bool, // from graphql\n    loadingNewest: PropTypes.bool, // from graphql\n    loadingMore: PropTypes.bool, // from graphql\n    gqlActions: PropTypes.shape({\n      fetchMore: PropTypes.func,\n      fetchNewest: PropTypes.func\n    })\n  }\n  return Component\n}\nconst withFeedQuery = graphql(datastore.graphql.queries.getMyFeed, {\n  props: ({ data }) => {\n    if (data.error) console.error(data.error)\n\n    // TODO: Not sure this will propagate correctly. Test it.\n    let loadingNewest = false\n    let loadingMore = false\n\n    // console.log('withFeedQuery', data)\n\n    // One Thunk function designed for getting everything since the last check\n    const fetchNewest = () => {\n      loadingNewest = true\n      // console.log('fetchNewest', data)\n      if (data.myFeed && !data.loading) {\n        // console.log('DEBUG fetchNewest1', { ...data.variables, start: data.myFeed.window[1] })\n        data.fetchMore({\n          variables: { ...data.variables, start: data.myFeed.window[1] },\n          // How do we mush the new query with the old one\n          updateQuery: (prev, { fetchMoreResult }) => {\n            // console.log('DEBUG fetchNewest2', { prev, fetchMoreResult })\n            loadingNewest = false\n            return {\n              myFeed: {\n                ...fetchMoreResult.myFeed,\n                // put the newest stuff first\n                feed: [ ...fetchMoreResult.myFeed.feed, ...prev.myFeed.feed ],\n                window: [prev.myFeed.window[0], fetchMoreResult.myFeed.window[1]]\n              }\n            }\n          }\n        })\n      }\n    }\n\n    // A second Thunk function designed to get more elements in the feed history\n    const fetchMore = () => {\n      loadingMore = true\n      // console.log('fetchMore', data)\n      if (data.myFeed) {\n        data.fetchMore({\n          variables: { ...data.variables, end: data.myFeed.window[0] },\n          // How do we mush the new query with the old one\n          updateQuery: (prev, { fetchMoreResult }) => {\n            loadingMore = false\n            return {\n              myFeed: {\n                ...fetchMoreResult.myFeed,\n                feed: [ ...prev.myFeed.feed, ...fetchMoreResult.myFeed.feed ],\n                window: [fetchMoreResult.myFeed.window[0], prev.myFeed.window[1]]\n              }\n            }\n          }\n        })\n      }\n    }\n\n    return {\n      data,\n      loading: data.loading,\n      loadingMore,\n      loadingNewest,\n      gqlActions: {\n        fetchNewest, // This is the poll we do every n seconds\n        fetchMore // This is when we scroll to the bottom of the list\n      }\n    }\n  },\n  // skip: ({ activeSeries, isNewSeries }) => !activeSeries || isNewSeries,\n  options: ({ activeSeries }) => ({\n    variables: {\n      limit: FEED_LIMIT\n    }\n  })\n})\n\nexport default compose(\n  withFeedQuery,\n  withFeedConnect\n)\n","import React, { useState, useContext, useMemo, useRef, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport Bottleneck from 'bottleneck'\nimport { graphql, compose } from 'react-apollo'\n\nimport { long2tile, lat2tile } from 'geotilehash'\n\nimport { config, AppContext } from '@morphoto/client-common'\nimport datastore from '@morphoto/datastore'\nimport { OFFLINE_STATES } from '@morphoto/maps'\n\nconst withOfflineData = Wrapped => {\n  const Inner = ({\n    lastMapViewport, completedDownload, viewport, setOfflineCompleted, setOfflineViewport\n  }) => {\n    const [toolState, setToolState] = useState(viewport && completedDownload ? OFFLINE_STATES.LOCKED : OFFLINE_STATES.NAVIGATING)\n    const limiterRef = useRef()\n    const { online, globalActions } = useContext(AppContext)\n\n    // Setting the bounds is what kicks off the whole process\n    const [bounds, setBounds] = useState(null)\n    // Series ids only get set when the geoQuery finishes\n    const [seriesIds, setSeriesIds] = useState(null)\n    // This is the current Series object we are putting through the query\n    const [activeSeriesId, setActiveSeriesId] = useState(null)\n    const [seriesPhotos, setSeriesPhotos] = useState([])\n\n    const [tileTick, setTileTick] = useState([0, 0])\n    const [seriesTick, setSeriesTick] = useState([0, 0])\n    const [seriesPhotoTick, setSeriesPhotoTick] = useState([0, 0])\n\n    // We're dealing in asynchronous so we need a ref to make sure we're usign the current values\n    const tileTickRef = useRef()\n    tileTickRef.current = { tileTick, seriesTick, seriesPhotoTick, seriesIds, seriesPhotos }\n\n    const onTileTick = () => setTileTick([tileTickRef.current.tileTick[0] + 1, tileTickRef.current.tileTick[1]])\n    const onTileAdd = (num) => setTileTick([tileTickRef.current.tileTick[0], tileTickRef.current.tileTick[1] + num])\n    const onSeriesPhotoTick = () => {\n      setSeriesPhotoTick([tileTickRef.current.seriesPhotoTick[0] + 1, tileTickRef.current.seriesPhotoTick[1]])\n    }\n    const onSeriesPhotoAdd = (num) => setSeriesPhotoTick([tileTickRef.current.seriesPhotoTick[0], tileTickRef.current.seriesPhotoTick[1] + num])\n\n    const onSeriesTick = useCallback((urls) => {\n      const theTick = tileTickRef.current.seriesTick\n      const theIds = tileTickRef.current.seriesIds.ids\n      const thePhotos = tileTickRef.current.seriesPhotos\n      if (urls) {\n        let addCount = 0\n        urls.forEach(url => {\n          if (thePhotos.indexOf(url) === -1) {\n            addCount++\n            setSeriesPhotos([...thePhotos, url])\n            limiterRef.current.schedule(() => makeRequest('GET', url))\n              .then(onSeriesPhotoTick)\n            // Maybe we should do something different on errors (but what?)\n              .catch(onSeriesPhotoTick)\n          }\n        })\n        onSeriesPhotoAdd(addCount)\n      }\n      // now kick off the next series\n      if (theTick && theIds[theTick[0]]) {\n        setActiveSeriesId(theIds[theTick[0] + 1])\n        setSeriesTick([theTick[0] + 1, theTick[1]])\n      }\n      else {\n      // We are done the series\n      }\n    }, [])\n\n    const finalState = useMemo(() => online.isOnline ? toolState : OFFLINE_STATES.OFFLINE, [online.isOnline, toolState])\n\n    const geoSeriesQuery = useMemo(() => <GeoQuery bounds={bounds} setSeriesIds={setSeriesIds} />, [bounds])\n    const wholeSeriesQuery = useMemo(() => <WholeSeriesConnect id={activeSeriesId} onDone={onSeriesTick} />, [activeSeriesId, onSeriesTick])\n\n    const onStart = (bounds, viewport) => {\n      setToolState(OFFLINE_STATES.DOWNLOADING)\n      setBounds(bounds)\n      setOfflineViewport(viewport)\n    }\n\n    const onDone = useCallback(() => {\n      setToolState(OFFLINE_STATES.LOCKED)\n      setOfflineCompleted(true)\n    }, [setOfflineCompleted])\n\n    const onCancel = () => {\n      setToolState(OFFLINE_STATES.CANCELED)\n      setBounds(null)\n      setSeriesIds(null)\n      setTileTick([0, 0])\n      setSeriesTick([0, 0])\n      setSeriesPhotoTick([0, 0])\n      setSeriesPhotos([])\n      limiterRef.current.stop({ dropWaitingJobs: true })\n      limiterRef.current = null\n      limiterRef.current = new Bottleneck({ maxConcurrent: 5 })\n    }\n\n    // Initialize the bottleNeck\n    useEffect(() => {\n      limiterRef.current = new Bottleneck({ maxConcurrent: 5 })\n    }, [])\n\n    // This is a little taxing so we keep it async\n    useEffect(() => {\n      if (bounds) {\n        const tiles = getTiles(bounds, [0, config.home.Offline.highestOfflineTileZoom])\n        const length = tiles.length\n        if (length === 0) return\n        onTileAdd(length)\n        tiles.forEach(tile => {\n          limiterRef.current.schedule(() => makeRequest('GET', tile))\n            .then(onTileTick)\n          // Maybe we should do something different on errors (but what?)\n            .catch(onTileTick)\n        })\n      }\n    }, [bounds])\n\n    // If we see series then kick off that cascade\n    useEffect(() => {\n    // console.log('OfflineMap:: kicking off the series loading', { seriesTick, seriesIds })\n      if (seriesIds && seriesIds.ids) {\n      // Kick off the series loading\n        if (seriesIds.ids.length > 0) setActiveSeriesId(seriesIds.ids[0])\n        setSeriesTick([0, seriesIds.ids.length])\n        setSeriesPhotoTick([0, 0])\n      }\n    }, [seriesIds])\n\n    useEffect(() => {\n      const newTotal = [tileTick[0] + seriesTick[0] + seriesPhotoTick[0], tileTick[1] + seriesTick[1] + seriesPhotoTick[1]]\n      if (newTotal[1] > 0 && newTotal[0] === newTotal[1]) onDone()\n    }, [tileTick, seriesTick, seriesPhotoTick, onDone])\n\n    return (\n      <React.Fragment>\n        {wholeSeriesQuery}\n        {geoSeriesQuery}\n        <Wrapped\n          initViewport={viewport || lastMapViewport}\n          progress={{ tileTick, seriesTick, seriesPhotoTick }}\n          toolState={finalState}\n          actions={{\n            onMenuBack: () => {\n              onCancel()\n              globalActions.onMenuBack()\n            },\n            onStartDownload: onStart,\n            onCancel: onCancel,\n            onCancelComplete: () => {\n              setToolState(OFFLINE_STATES.NAVIGATING)\n            },\n            onUnlock: () => {\n              setToolState(OFFLINE_STATES.NAVIGATING)\n              setOfflineCompleted(false)\n            }\n          }}\n        />\n      </React.Fragment>\n    )\n  }\n  Inner.propTypes = {\n  // All from redux\n    lastMapViewport: PropTypes.object,\n    completedDownload: PropTypes.bool,\n    viewport: PropTypes.object,\n    setOfflineCompleted: PropTypes.func.isRequired,\n    setOfflineViewport: PropTypes.func.isRequired\n  }\n  return Inner\n}\n\nconst withGeoSearch = graphql(datastore.graphql.queries.geoSeriesIdOnly, {\n  props: ({ data, ownProps }) => {\n    if (data.error) console.error(data.error)\n    console.log('OfflineMap::withGeoSearch:: ', { data, ownProps })\n    try {\n      // Fetch until we have everything\n      if (!data.loading && !data.error && data.seriesInGeoBounds && data.seriesInGeoBounds.seriesSummaries.length > 0 && data.seriesInGeoBounds.nextToken) {\n        ownProps.setSeriesIds({ ids: [], loading: true })\n        // console.log('OfflineMap::withGeoSearch::fetchMore', { ...data.variables, nextToken: data.seriesInGeoBounds.nextToken })\n        data.fetchMore({\n          variables: { ...data.variables, nextToken: data.seriesInGeoBounds.nextToken },\n          // How do we mush the new query with the old one\n          updateQuery: (prev, { fetchMoreResult }) => {\n            // console.log('OfflineMap::withGeoSearch::updateQuery', { prev, fetchMoreResult })\n            return {\n              seriesInGeoBounds: {\n                ...fetchMoreResult.seriesInGeoBounds,\n                seriesSummaries: [ ...prev.seriesInGeoBounds.seriesSummaries, ...fetchMoreResult.seriesInGeoBounds.seriesSummaries ]\n              }\n            }\n          }\n        })\n      }\n      else if (data.loading || data.error) {\n        // console.log('OfflineMap::withGeoSearch::loading or errir')\n        ownProps.setSeriesIds({ ids: [], loading: true })\n      }\n      else {\n        console.log('OfflineMap::withGeoSearch::DONE')\n        if (data && data.seriesInGeoBounds) {\n          ownProps.setSeriesIds({ ids: data.seriesInGeoBounds.seriesSummaries.map(s => s.id), loading: false })\n        }\n      }\n    }\n    catch (e) {\n      console.error(data)\n      console.error(e)\n    }\n    return {\n      data,\n      loading: data.loading\n    }\n  },\n  skip: ({ bounds }) => !bounds,\n  options: ({ bounds }) => ({\n    variables: {\n      bounds,\n      limit: 100\n      // nextToken\n    }\n  })\n})\n\n/**\n * Here's the graphql HOC that gets an individual series\n */\nconst withGetSelectedQuery = graphql(datastore.graphql.queries.getWholeSeries, {\n  skip: ({ id }) => !id,\n  props: ({ data, ownProps }) => {\n    if (data.error) console.error(data.error)\n    // console.log('OfflineMap::withGetSelectedQuery:: ', { data })\n    let series = null\n    try {\n      if (!data.loading && !data.error) {\n        series = data.series\n        // console.log('OfflineMap::withGetSelectedQuery::series', series)\n        const urls = []\n        urls.push(series.createdUser.gravatar)\n        urls.push(series.updatedUser.gravatar)\n        series.photos.forEach(ph => {\n          urls.push(ph.createdUser.gravatar)\n          urls.push(ph.updatedUser.gravatar)\n          // Skip medium for size sake\n          config.home.Offline.seriesImgsToCache\n            .map(size => urls.push(`${ph.paths.base}${ph.paths[size]}`))\n        })\n        // Remove duplicates and send it back\n        ownProps.onDone([...new Set(urls)])\n      }\n    }\n    catch (e) {\n      console.log('OfflineMap::withGetSelectedQuery:: error', { data, e })\n      console.error(e)\n    }\n    return {\n      data,\n      loading: data.loading,\n      series\n    }\n  },\n  options: ({ id }) => ({\n    variables: {\n      id\n    }\n  })\n})\n// We're using graphql() HOC because it's convenient but it doesn't need to render anything\nconst WholeSeriesConnect = withGetSelectedQuery(() => null)\nconst GeoQuery = withGeoSearch(() => null)\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const lastMapViewport = state.map.slice(-1).pop()\n  const { completedDownload, viewport } = state.offline\n  return { lastMapViewport, completedDownload, viewport }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setOfflineCompleted: (bVal) => {\n    dispatch(datastore.redux.actions.setOfflineCompleted(bVal))\n  },\n  setOfflineViewport: (viewport) => {\n    dispatch(datastore.redux.actions.setOfflineViewport(viewport))\n  }\n})\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  ),\n  withOfflineData\n)\n\n/**\n * Promisify our XMLHttpRequests\n * @param {*} method\n * @param {*} url\n */\nfunction makeRequest (method, url) {\n  return new Promise((resolve, reject) => {\n    var xhr = new XMLHttpRequest()\n    xhr.open(method, url)\n    xhr.onload = () => {\n      if (xhr.status >= 200 && xhr.status < 300) resolve(xhr.response)\n      else reject(new Error(xhr.statusText))\n    }\n    xhr.onerror = () => {\n      reject(new Error(xhr.statusText))\n    }\n    xhr.send()\n  })\n}\n\nexport const getTileURL = (url, zoom, x, y) => {\n  const newUrl = url + `?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n  return newUrl.replace('{z}/{x}/{y}', `${zoom}/${x}/${y}`)\n}\n\n/**\n * Loop over all the tiles and zoom levels and build\n * us an array of URLs\n * @param {*} bounds\n * @param {*} right\n */\nexport function getTiles (bounds, zoomRange) {\n  const tiles = []\n\n  for (let zoom = zoomRange[0]; zoom <= zoomRange[1]; zoom++) {\n    const xtileLeft = long2tile(bounds[0], zoom)\n    const xtileRight = long2tile(bounds[2], zoom)\n\n    const ytileTop = lat2tile(bounds[1], zoom)\n    const ytileBottom = lat2tile(bounds[3], zoom)\n\n    for (let x = xtileLeft; x <= xtileRight; x++) {\n      for (let y = ytileTop; y <= ytileBottom; y++) {\n        // Push both tiles\n        tiles.push(getTileURL(process.env.REACT_APP_TILEURL_SAT, zoom, x, y))\n        tiles.push(getTileURL(process.env.REACT_APP_TILEURL_TOPO, zoom, x, y))\n      }\n    }\n  }\n  return tiles\n  // console.log('Starting Coords', { tiles, top, left, bottom, right })\n}\n","export default require('./MyFeed').default;\nexport { default as FeedItem } from './FeedItem';\nexport { default as FeedEnder } from './FeedEnder';","export default require('./MyProfile').default;","import React, { useState } from 'react'\n// import PropTypes from 'prop-types'\nimport { graphql } from 'react-apollo'\nimport { connect } from 'react-redux'\n\nimport { ErrorScreen, ERROR_SEND_STATES } from '@morphoto/ui'\n// import { config } from '@morphoto/client-common'\n\nimport datastore from '@morphoto/datastore'\n\nconst ErrorConnect = (props) => {\n  const [state, setState] = useState(ERROR_SEND_STATES.UNSENT)\n  const Wrapped = withReportBugMutation(ErrorScreen)\n  return <Wrapped {...props} setState={setState} sendState={state} />\n}\n\nconst withReportBugMutation = graphql(datastore.graphql.mutations.reportBug, {\n  props: ({ mutate, ownProps: { reduxState, error, setState } }) => {\n    console.log('withReportBugMutation props', { mutate, reduxState, error })\n    if (mutate.error) setState(ERROR_SEND_STATES.ERROR)\n    return {\n      reportError: (note) => {\n        setState(ERROR_SEND_STATES.SENDING)\n        let reportJSON = ''\n        // attempt to get some userAgent info\n        let extra = {}\n        try {\n          const { userAgent, appVersion, languages, language, platform, onLine } = window.navigator\n          extra = {\n            userAgent,\n            appVersion,\n            languages,\n            language,\n            platform,\n            onLine,\n            window: {\n              innerHeight: window.innerHeight,\n              innerWidth: window.innerWidth\n            }\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n        let errSubset = {}\n        try {\n          errSubset = {\n            message: error.message,\n            stack: error.stack\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n\n        const errObj = { note, reduxState, error: errSubset, env: process.env, ...extra }\n        console.log('withReportBugMutation StartingError', errObj)\n        try {\n          reportJSON = JSON.stringify(errObj)\n        }\n        catch (e) {\n          reportJSON = error.toString()\n        }\n        console.log('withReportBugMutation got through it', reportJSON)\n        return mutate({\n          variables: { reportJSON },\n          update: (store, { data }) => {\n            console.log('withReportBugMutation update', data)\n            setState(ERROR_SEND_STATES.SENT)\n          }\n        })\n      }\n    }\n  }\n})\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const { map, home, uploader, ...other } = state\n  const newMap = map.slice(-5) // only the last 5 map states come through\n\n  return {\n    reduxState: {\n      ...other,\n      map: newMap,\n      home\n    }\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(ErrorConnect)\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { AppSettings } from '@morphoto/ui';\nimport { BottomBar, OfflineBar } from '@morphoto/navigation';\nimport { QRReader } from '@morphoto/camera';\nimport { AppContext, config } from '@morphoto/client-common';\nimport themes from '@morphoto/themes';\nvar STATES = config.home.AppStateTypes;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    outerRoot: {\n      height: '100%',\n      overflow: 'hidden'\n    },\n    root: {\n      height: '100%',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    offlineBar: {\n      flex: '0 0'\n    },\n    activeWrapper: {\n      overflow: 'hidden',\n      flexGrow: 1,\n      flexShrink: 1,\n      height: '100%'\n    },\n    uploaderContainer: {\n      zIndex: 100,\n      flex: '0 0'\n    }\n  };\n});\n\nvar Home = function Home(_ref) {\n  var components = _ref.components,\n      domain = _ref.domain;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      signedIn = _useContext.signedIn,\n      responsive = _useContext.responsive,\n      globalActions = _useContext.globalActions,\n      device = _useContext.device,\n      currentUser = _useContext.currentUser,\n      installPrompt = _useContext.installPrompt;\n\n  var Upload = components.upload;\n  useEffect(function () {\n    if (!signedIn && [STATES.MAP, STATES.SEARCH, STATES.SERIES, STATES.QRCAPTURE, STATES.SETTINGS, STATES.OFFLINE_DOWNLOAD].indexOf(domain) < 0) globalActions.setHomeState(STATES.MAP);\n  }, [domain, globalActions.setHomeState, signedIn]);\n  var showBottomBar = true;\n  var activeProps = {};\n  var ActiveComponent = components.feed;\n  var theme = themes.home;\n\n  switch (domain) {\n    case STATES.FEED:\n      ActiveComponent = components.feed;\n      break;\n\n    case STATES.MAP:\n      ActiveComponent = components.map;\n      break;\n\n    case STATES.PROFILE:\n      ActiveComponent = components.profile;\n      break;\n\n    case STATES.SEARCH:\n      ActiveComponent = components.search;\n      break;\n\n    case STATES.SERIES:\n      theme = themes.series;\n      ActiveComponent = components.series;\n      activeProps = {\n        currentUser: currentUser\n      };\n      showBottomBar = false;\n      break;\n\n    case STATES.NEW_SERIES_CAMERA:\n      theme = themes.series;\n      ActiveComponent = components.series;\n      activeProps = {\n        currentUser: currentUser\n      };\n      showBottomBar = false;\n      break;\n\n    case STATES.OFFLINE_DOWNLOAD:\n      ActiveComponent = components.offline;\n      showBottomBar = false;\n      break;\n\n    case STATES.NEW_SERIES_LIBRARY:\n      theme = themes.series;\n      ActiveComponent = components.series;\n      activeProps = {\n        currentUser: currentUser\n      };\n      showBottomBar = false;\n      break;\n\n    case STATES.QRCAPTURE:\n      ActiveComponent = QRReader;\n      showBottomBar = false;\n      activeProps = {\n        onCapture: globalActions.onQRCapture,\n        onMenuBack: globalActions.onMenuBack,\n        isIos: device.ios\n      };\n      break;\n\n    case STATES.SETTINGS:\n      ActiveComponent = AppSettings;\n      showBottomBar = false;\n      activeProps = {\n        onMenuBack: globalActions.onMenuBack\n      };\n      break;\n\n    default:\n      break;\n  }\n\n  return React.createElement(ThemeProvider, {\n    theme: themes.home\n  }, React.createElement(\"div\", {\n    className: classes.outerRoot\n  }, React.createElement(\"div\", {\n    className: classes.root,\n    style: {\n      width: responsive.windowSize.width,\n      height: responsive.windowSize.height\n    }\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(OfflineBar, {\n    className: classes.offlineBar\n  }), React.createElement(\"div\", {\n    className: classes.activeWrapper\n  }, React.createElement(ThemeProvider, {\n    theme: theme\n  }, React.createElement(ActiveComponent, activeProps))), showBottomBar && React.createElement(BottomBar, {\n    domain: domain\n  }), React.createElement(Upload, {\n    className: classes.uploaderContainer\n  }), installPrompt)));\n};\n\nHome.propTypes = {\n  domain: PropTypes.oneOf(STATES),\n  components: PropTypes.shape({\n    upload: PropTypes.any.isRequired,\n    series: PropTypes.any.isRequired,\n    map: PropTypes.any.isRequired,\n    search: PropTypes.any.isRequired,\n    profile: PropTypes.any.isRequired,\n    feed: PropTypes.any.isRequired,\n    offline: PropTypes.any.isRequired\n  })\n};\nexport default Home;","import Home from './Home';\nexport default Home;","import React, { useEffect, useRef, useMemo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { point, bbox as bboxFunc, buffer } from '@turf/turf'\nimport { Query, ApolloProvider, compose } from 'react-apollo'\nimport { connect } from 'react-redux'\n\n// import Analytics from '@aws-amplify/analytics'\nimport ReactGA from 'react-ga'\n\nimport datastore from '@morphoto/datastore'\nimport { useAuthentication, LoadingWrapped as Loading } from '@morphoto/client-auth'\nimport { useShowAddToHome } from '@morphoto/pwainstall'\nimport { AppContextProvider, decodeShareUrl, ErrorBoundary, config } from '@morphoto/client-common'\n\nimport withUploadConnect from './withUploadConnect'\nimport withSeriesConnect from './withSeriesConnect'\nimport withHomeMap from './withHomeMap'\nimport withSearchConnect from './withSearchConnect'\nimport withProfileConnect from './withProfileConnect'\nimport withFeedConnect from './withFeedConnect'\nimport withOfflineData from './withOfflineData'\n\nimport MyFeed from '@morphoto/feed'\nimport { UploadControl } from '@morphoto/ui'\nimport Search from '@morphoto/search'\nimport MyProfile from '@morphoto/profile'\nimport { HomeMap, OfflineMap } from '@morphoto/maps'\nimport PhotoSeries from '@morphoto/photoseries'\n\nimport ErrorConnect from './Error.connect'\n// import { IntlWrapper } from '../translations'\nimport Home from '@morphoto/home'\n\nconst { home: homeConfig, tagColors } = config\n\n// Analytics.configure(config.aws)\n// Analytics.record('some-event-name')\n\n// Set up our google analytics\nconst gac = {}\nif (process.env.NODE_ENV !== 'production') {\n  gac.debug = false\n  gac.gaOptions = {\n    cookieDomain: 'none',\n    siteSpeedSampleRate: 100\n  }\n}\n// console.log('ReactGA.initialize', gac)\nReactGA.initialize(config.analytics.token, gac)\n\nconst components = {\n  upload: withUploadConnect(UploadControl),\n  series: withSeriesConnect(PhotoSeries),\n  map: withHomeMap(HomeMap),\n  search: withSearchConnect(Search),\n  profile: withProfileConnect(MyProfile),\n  feed: withFeedConnect(MyFeed),\n  offline: withOfflineData(OfflineMap)\n}\n\n/**\n * HOC for AppContext and ApolloProvider\n */\nexport const withApolloAuthProvider = Wrapped => {\n  const AuthProvider = ({ reduxProps, ...reduxActions }) => {\n    const flags = reduxProps.flags\n    // console.log('withApolloAuthProvider', props)\n    const { isGod, signedIn, authData, signOut, authScreen, forceSignIn } = useAuthentication(flags.useLoggedOut, reduxActions.setUseOffline)\n    const { client: apolloClient, done: apolloDone, currState: apolloState } = datastore.graphql.useGraphQL()\n\n    // This triggers all the PWA Goodness\n    const { installPrompt, addToHomeScreen } = useShowAddToHome(flags.install, reduxActions.dismissInstall)\n\n    // A little tracking goodness\n    useEffect(() => {\n      ReactGA.pageview('initial render')\n    }, [])\n\n    // If the user hasn't decided to be anonymous or sign in yet show them the login screen\n    // console.log('Rendering AppConnect', { flags, responsive, props, signedIn, isGod, authData })\n    useEffect(() => {\n      if (signedIn === true && flags.useLoggedOut) reduxActions.setUseOffline(false)\n      else if (signedIn === false && !flags.useLoggedOut) reduxActions.setUseOffline(true)\n    }, [flags.useLoggedOut, reduxActions, signedIn])\n\n    const retryRef = useRef()\n\n    // We need to hijack the browser's history object so that hitting the back button on android\n    // doesn't close the window\n    useEffect(() => {\n      function handleBackClick () {\n        window.history.pushState({}, '')\n        reduxActions.onMenuBack()\n      }\n      window.addEventListener('popstate', handleBackClick)\n      return () => window.removeEventListener('popstate', handleBackClick)\n    }, [reduxActions])\n\n    // One time only query param parse so we can redirect them to a shared url if necessary\n    useEffect(() => {\n      try {\n        const decodedObj = decodeShareUrl(window.location.search)\n        if (decodedObj && decodedObj.type && decodedObj.s) {\n          const { type, s, p } = decodedObj\n          console.log('REDIRECTING', { type, s, p })\n          ReactGA.event({\n            category: 'user',\n            action: 'share',\n            label: window.location.search\n          })\n          switch (type) {\n            case 'series':\n              const queryVars = { activeSeries: s, initialPhoto: p }\n              if (!signedIn) reduxActions.setUseOffline(true)\n              reduxActions.setHomeState(homeConfig.AppStateTypes.SERIES, queryVars)\n              break\n            default:\n              break\n          }\n        // TODO : I think this breaks the maifest file\n        // window.history.replaceState({}, 'MorPhoto', '/')\n        }\n      }\n      catch (e) {\n        console.log('HERE IS AN ERROR', e)\n        console.error(e)\n      }\n\n      //  clean up our retry ref\n      if (retryRef.current) {\n        clearTimeout(retryRef.current)\n        retryRef.current = null\n      }\n    }, [reduxActions, signedIn])\n\n    const forceSignInWrapped = useCallback(() => {\n      // Analytics.record('FORCE_SIGNIN')\n      ReactGA.event({\n        category: 'User',\n        action: 'FORCE_SIGNIN'\n      })\n      reduxActions.setUseOffline(false)\n      forceSignIn()\n    }, [reduxActions, forceSignIn])\n\n    const resetApp = useCallback(() => {\n      // Analytics.record('RESET_APP')\n      console.log('APP RESET STARTING')\n      ReactGA.event({\n        category: 'User',\n        action: 'RESET_APP'\n      })\n      datastore.graphql.offline.imgStore.clear()\n      apolloClient.resetStore()\n      datastore.graphql.offline.stateStore.clear()\n      reduxActions.resetAllState()\n      signOut()\n      console.log('APP RESET FINISHED')\n    }, [apolloClient, signOut, reduxActions])\n\n    const staticContext = useMemo(() => ({\n      metaConfig: {},\n      tagConfig: [\n        {\n          id: 'freeBothType',\n          label: '',\n          color: tagColors[0],\n          allowXY: true,\n          allowNonXY: true,\n          allowAdditions: true,\n          values: getTags()\n        }\n      ]\n    }), [])\n\n    // These are the things the rest of the app needs to find:\n    const appContext = {\n      getPhotoUrls,\n      signedIn: Boolean(signedIn),\n      role: !signedIn\n        ? 'nonuser'\n        : isGod\n          ? 'admin'\n          : 'user',\n      installPrompt,\n      cognitoUser: authData, // TODO: Need this supported by a graphql query\n      globalActions: {\n        ...reduxActions,\n        addToHomeScreen,\n        signOut,\n        forceSignIn: forceSignInWrapped,\n        resetApp\n      },\n      ...staticContext\n    }\n\n    /**\n     * NO HOOKS BELOW HERE\n     *\n     *\n     *\n     */\n\n    if (!apolloDone) return <Loading message={datastore.graphql.APOLLOSTATES[apolloState]} />\n\n    if (signedIn === null && !flags.useLoggedOut) {\n      ReactGA.event({\n        category: 'User',\n        action: 'LOGIN_PROMPT'\n      })\n      return authScreen\n    }\n\n    return (\n    // We wrap the outside in an error handler\n      <ApolloProvider client={apolloClient}>\n        <Query query={datastore.graphql.queries.getUser} skip={!signedIn}>\n          {({ loading, error, data, refetch }) => {\n            if (loading) return <Loading message='UserData' />\n            if (error) {\n              console.error(error)\n            }\n            // If there's no record for this user in the DB there's nothing left to do\n            if (signedIn && (!data || !data.user)) {\n              console.log('NO USER DATA YET', { loading, error, data })\n              if (!retryRef.current) {\n                retryRef.current = setTimeout(() => {\n                  console.log('Retrying user query')\n                  refetch()\n                }, 5000)\n              }\n              return (\n                <Loading message='UserData' />\n              )\n            }\n            // If we've changed users then wipe the old user's stuff\n            else if (signedIn && authData.attributes.sub !== data.user.id) {\n              console.log('USER CHANGE')\n              datastore.graphql.offline.imgStore.clear()\n              apolloClient.resetStore()\n              datastore.graphql.offline.stateStore.clear()\n              reduxActions.resetAllState()\n            }\n            else if (signedIn) appContext.currentUser = data.user\n            return (\n              <AppContextProvider value={appContext}>\n                <Wrapped domain={reduxProps.domain} components={components} />\n              </AppContextProvider>\n            )\n          }}\n        </Query>\n      </ApolloProvider>\n    )\n  }\n  AuthProvider.propTypes = {\n    reduxProps: PropTypes.object,\n    reduxActions: PropTypes.object\n  }\n  return AuthProvider\n}\n\n/**\n * Map our redux state and functions\n */\nconst mapStateToProps = (state, props) => {\n  const { domain } = state.home.current\n  return {\n    reduxProps: {\n      domain,\n      flags: state.flags\n    }\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setHomeState: (newDomain, newParams) => {\n    dispatch(datastore.redux.actions.setHomeState(newDomain, newParams))\n  },\n  onCameraClick: () => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.NEW_SERIES_CAMERA, { activeSeries: null }))\n  },\n  onLibraryClick: () => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.NEW_SERIES_LIBRARY, { activeSeries: null }))\n  },\n  onOfflineMenuClick: () => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.OFFLINE_DOWNLOAD))\n  },\n  onSettingsClick: () => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.SETTINGS))\n  },\n  jumpToSeriesView: (seriesId, photoId) => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.SERIES, { activeSeries: seriesId, initialPhoto: photoId }))\n  },\n  jumpToUser: (username) => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.SEARCH, { search: { tab: config.home.SEARCH_TABS.USER, text: username } }))\n  },\n  jumpToMap: ({ bbox, center }) => {\n    let bounds = bbox\n    if (!bounds && center) {\n      const bufferPts = buffer(point(center), 500, { units: 'meters' })\n      bounds = bboxFunc(bufferPts)\n    }\n\n    if (bounds) {\n      dispatch(datastore.redux.actions.pushMapHistory({\n        mode: config.home.MapModeTypes.FREE,\n        bounds: bounds\n      }))\n      dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.MAP, { activeSeries: null, initialPhoto: null }))\n    }\n  },\n  jumpToSeriesMap: (seriesId, photoId) => {\n    dispatch(datastore.redux.actions.pushMapHistory({\n      mode: config.home.MapModeTypes.FREE\n    }))\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.MAP, { activeSeries: seriesId, initialPhoto: photoId }))\n  },\n  resetAllState: () => {\n    dispatch(datastore.redux.actions.resetAllState())\n  },\n  dismissInstall: () => {\n    dispatch(datastore.redux.actions.setFlag('install', false))\n  },\n  setUseOffline: (bVal) => {\n    dispatch(datastore.redux.actions.setFlag('useLoggedOut', bVal))\n  },\n  onQRButtonClick: () => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.QRCAPTURE))\n  },\n  onMenuBack: () => {\n    dispatch(datastore.redux.actions.homeStateBack())\n  },\n  onAvatarClick: (username) => {\n    dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.SEARCH, {\n      search: { tab: homeConfig.SEARCH_TABS.USER, text: username }\n    }))\n  },\n  onQRCapture: (type, activeSeries, initialPhoto) => {\n    switch (type) {\n      case 'series':\n        dispatch(datastore.redux.actions.setHomeState(homeConfig.AppStateTypes.SERIES, { activeSeries, initialPhoto }))\n        break\n      default:\n        break\n    }\n  }\n})\n\nconst withErrorBoundary = (Wrapped) => (props) => (\n  <ErrorBoundary fallback={ErrorConnect}>\n    <Wrapped {...props} />\n  </ErrorBoundary>\n)\n\n// const withContext = Wrapped => {\n//   const InnerContext = ({ appContext }) => (\n//       <IntlWrapper>\n//         <Wrapped />\n//       </IntlWrapper>\n//   )\n//   InnerContext.propTypes = {\n//     appContext: PropTypes.object\n//   }\n//   InnerContext.whyDidYouRender = true\n//   return InnerContext\n// }\n\n/**\n * Nearly everything we do depends on who you are as a user so we commit this to state\n */\n\n// The order we compose things here matters a lot\nconst AppConnect = compose(\n  // ORDER IS CRITICAL HERE\n  withErrorBoundary,\n  datastore.redux.withReduxProvider,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  ),\n  withApolloAuthProvider\n  // withContext\n)(Home)\n\nexport default AppConnect\n\n// Series config is the object that series needs to know how to process things outside itself (like lookup urls etc.)\nconst getTags = (series) => {\n  const tags = {}\n  if (series && series.photos) {\n    series.photos.forEach(ph => {\n      ph.tags.forEach(tag => {\n        tags[tag.label] = tag\n      })\n    })\n  }\n  return Object.keys(tags)\n}\n\nconst getPhotoUrls = async (photo, sizePriority) => {\n  // console.log('getPhotoUrls::', { photo, size })\n  try {\n    if (photo.uploadToken) {\n      const dbKeys = await datastore.graphql.offline.imgStore.keys()\n      if (dbKeys.indexOf(photo.uploadToken) > -1) {\n        const data = await datastore.graphql.offline.imgStore.getItem(photo.uploadToken)\n        // console.log('getPhotoUrls:: Found DB Entry. using dataUrl', data)\n        return [data.dataUrl]\n      }\n    }\n    return sizePriority.map(sp => `${photo.paths.base}${photo.paths[sp]}`)\n  }\n  catch (e) {\n    return null\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      }\n      else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            }\n            else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      }\n      else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport AppConnect from './connectors/App.connect'\nimport * as serviceWorker from './serviceWorker'\n\n// Here's our global overrides css\nimport '@morphoto/themes/baseline.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n// This is the font we need\nrequire('typeface-roboto')\n\nif (process.env.NODE_ENV !== 'production') {\n  const whyDidYouRender = require('@welldone-software/why-did-you-render')\n  whyDidYouRender(React)\n}\n\nReactDOM.render(<AppConnect />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register()\n\n// On android this will trick the back button into not closing the app\nwindow.addEventListener('load', () => {\n  window.history.pushState({}, '')\n})\n\n// This is our image worker to offline cache maptiles AND series photos\nnavigator.serviceWorker.register('imgCacheWorker.js')\n","import _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Actions } from '../actions';\nimport { config } from '@morphoto/client-common';\nvar mapInit = [{\n  mode: config.home.MapModeTypes.FREE,\n  viewport: {\n    latitude: 36.80191008366581,\n    longitude: -111.63999999999784,\n    zoom: 11\n  }\n}];\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : mapInit;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var type = action.type,\n      data = action.data;\n\n  switch (type) {\n    case Actions.MAP_HISTORY_CLEAR:\n      var newClearerHistory = state.length > 0 ? [[state.length - 1]] : [];\n      return newClearerHistory;\n\n    case Actions.MAP_HISTORY_POP:\n      return state.slice(0, -1);\n\n    case Actions.MAP_HISTORY_PUSH:\n      return [].concat(_toConsumableArray(state), [data]).slice(-10);\n\n    default:\n      return state;\n  }\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Actions } from '../actions';\nimport { config } from '@morphoto/client-common';\nvar homeInit = {\n  history: [],\n  current: {\n    domain: config.home.AppStateTypes.FEED\n  }\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : homeInit;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var type = action.type,\n      data = action.data;\n  var history = state.history,\n      current = state.current;\n\n  switch (type) {\n    case Actions.HOME_STATE_BACK:\n      var newStateHistory = _toConsumableArray(history);\n\n      var newCurrentState = newStateHistory.length > 0 ? newStateHistory.pop() : homeInit.current;\n      return _objectSpread({}, state, {\n        current: newCurrentState,\n        history: newStateHistory\n      });\n\n    case Actions.HOME_CHANGE_ACTIVE_SERIES:\n      var activeSeries = data.activeSeries,\n          initialPhoto = data.initialPhoto;\n      return _objectSpread({}, state, {\n        history: history,\n        current: _objectSpread({}, current, {\n          activeSeries: activeSeries || null,\n          initialPhoto: activeSeries && initialPhoto ? initialPhoto : null\n        })\n      });\n\n    case Actions.HOME_CHANGE_STATE:\n      var newDomain = data.newDomain,\n          params = data.params;\n      var newParams = params || {};\n      var skipSave = [config.home.AppStateTypes.QRCAPTURE, config.home.AppStateTypes.SETTINGS, config.home.AppStateTypes.OFFLINE_DOWNLOAD, config.home.AppStateTypes.NEW_SERIES_CAMERA, config.home.AppStateTypes.NEW_SERIES_LIBRARY].indexOf(current.domain) > -1;\n      var replaceState = current.domain === newDomain;\n      var newHistory = !skipSave && !replaceState ? [].concat(_toConsumableArray(history), [current]).slice(-10) : history;\n      return _objectSpread({}, state, {\n        history: newHistory,\n        current: _objectSpread({}, current, {\n          domain: newDomain\n        }, newParams)\n      });\n\n    default:\n      return state;\n  }\n});","import _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Actions } from '../actions';\nexport var initState = {\n  store: [],\n  online: false,\n  uploading: false,\n  activeUpload: null\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var type = action.type,\n      data = action.data;\n  var store = state.store,\n      activeUpload = state.activeUpload,\n      uploading = state.uploading;\n\n  switch (type) {\n    case Actions.UPLOADER_QUEUE:\n      if (!activeUpload) {\n        return _objectSpread({}, state, {\n          activeUpload: data\n        });\n      } else {\n        return _objectSpread({}, state, {\n          store: [].concat(_toConsumableArray(store), [data])\n        });\n      }\n\n    case Actions.UPLOADER_SET_ONLINE:\n      return _objectSpread({}, state, {\n        online: data\n      });\n\n    case Actions.UPLOADER_SET_UPLOADING:\n      if (uploading !== data) {\n        return _objectSpread({}, state, {\n          uploading: data\n        });\n      } else {\n        return state;\n      }\n\n    case Actions.UPLOADER_COMPLETE:\n      if (store.length === 0) {\n        return _objectSpread({}, state, {\n          activeUpload: null,\n          uploading: false\n        });\n      } else {\n        var newStore = _toConsumableArray(store);\n\n        var newActive = newStore.pop();\n        return _objectSpread({}, state, {\n          store: newStore,\n          activeUpload: newActive,\n          uploading: false\n        });\n      }\n\n    case Actions.UPLOADER_UPDATE_PROGRESS:\n      return _objectSpread({}, state, {\n        activeUpload: _objectSpread({}, activeUpload, {}, data)\n      });\n\n    default:\n      return state;\n  }\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Actions } from '../actions';\nimport { isIos } from '@morphoto/client-common';\nvar defaultFlags = {\n  iOSWarning: isIos(),\n  install: true,\n  useLoggedOut: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultFlags;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  if (!action) return state;\n  var type = action.type,\n      data = action.data;\n\n  switch (type) {\n    case Actions.SETFLAG:\n      var flagName = data.flagName,\n          flagVal = data.flagVal;\n\n      if (Boolean(flagVal) !== flagVal) {\n        console.warning(\"flag: '\".concat(flagName, \"' must be a boolean\"));\n        return state;\n      }\n\n      return _objectSpread({}, state, _defineProperty({}, flagName, flagVal));\n\n    default:\n      return state;\n  }\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Actions } from '../actions';\nvar offlineInit = {\n  completedDownload: false,\n  viewport: null\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : offlineInit;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  if (!action) return state;\n  var type = action.type,\n      data = action.data;\n\n  switch (type) {\n    case Actions.OFFLINE_VIEWPORT_SAVE:\n      return _objectSpread({}, state, {\n        viewport: data\n      });\n\n    case Actions.OFFLINE_SET_STATUS:\n      return _objectSpread({}, state, {\n        completedDownload: data\n      });\n\n    default:\n      return state;\n  }\n});","import { combineReducers } from 'redux';\nimport map from './map';\nimport home from './home';\nimport uploader from './uploader';\nimport flags from './flags';\nimport offline from './offline';\nvar appReducer = combineReducers({\n  map: map,\n  home: home,\n  uploader: uploader,\n  flags: flags,\n  offline: offline\n});\n\nvar rootReducer = function rootReducer(state, action) {\n  if (action.type === 'RESET_ALL_STATE') {\n    state = undefined;\n  }\n\n  return appReducer(state, action);\n};\n\nexport default rootReducer;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Actions } from './actions';\nimport { initState } from './reducers/uploader';\nimport s3Upload from '../s3Upload';\nexport default (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      var _getUploadState = getUploadState(getState),\n          store = _getUploadState.store,\n          online = _getUploadState.online,\n          uploading = _getUploadState.uploading,\n          activeUpload = _getUploadState.activeUpload;\n\n      if (action.type.indexOf('persist/REHYDRATE') === 0) {\n        try {\n          var newAction = _objectSpread({}, action);\n\n          action.payload.uploader.uploading = false;\n          return next(newAction);\n        } catch (_unused) {\n          return next(action);\n        }\n      }\n\n      function kickoff(uploadObj) {\n        var updateUploadProgress = function updateUploadProgress(newProgress) {\n          console.log('MIDDLEWARE Update', newProgress);\n          dispatch({\n            type: Actions.UPLOADER_UPDATE_PROGRESS,\n            data: newProgress\n          });\n        };\n\n        var completeActiveUpload = function completeActiveUpload() {\n          dispatch({\n            type: Actions.UPLOADER_COMPLETE\n          });\n        };\n\n        var failRetry = function failRetry() {\n          var newState = getUploadState(getState);\n\n          if (newState.activeUpload) {\n            dispatch({\n              type: Actions.UPLOADER_COMPLETE\n            });\n            updateUploadProgress({\n              progress: 0,\n              retry: newState.activeUpload.retry > -1 ? newState.activeUpload.retry + 1 : 1\n            });\n          }\n        };\n\n        dispatch({\n          type: Actions.UPLOADER_SET_UPLOADING,\n          data: true\n        });\n        s3Upload(uploadObj, updateUploadProgress, completeActiveUpload, failRetry);\n      }\n\n      if (online && !uploading && action.type !== Actions.UPLOADER_SET_UPLOADING) {\n        if (activeUpload && Date.now() < activeUpload.expires) {\n          kickoff(activeUpload);\n        } else if (action.type === Actions.UPLOADER_QUEUE && !activeUpload) {\n          kickoff(action.data);\n        }\n      }\n\n      return next(action);\n    };\n  };\n});\n\nfunction getUploadState(getState) {\n  try {\n    var currState = getState();\n    var uploadState = currState['uploader'];\n    return uploadState || initState;\n  } catch (_unused2) {\n    return initState;\n  }\n}","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { stateStore } from '../graphql/offline';\nimport queueMiddleware from './queueMiddleware';\nvar persistConfig = {\n  key: 'root',\n  storage: stateStore\n};\nvar persistedReducer = persistReducer(persistConfig, rootReducer);\n\nvar configureStoreDev = function configureStoreDev(preloadedState) {\n  var _require = require('redux-devtools-extension'),\n      devToolsEnhancer = _require.devToolsEnhancer;\n\n  var _require2 = require('redux-logger'),\n      createLogger = _require2.createLogger;\n\n  var store = createStore(persistedReducer, preloadedState, compose(applyMiddleware(thunk, queueMiddleware, createLogger()), devToolsEnhancer()));\n\n  if (module.hot) {\n    module.hot.accept('./reducers', function () {\n      store.replaceReducer(rootReducer);\n    });\n  }\n\n  return store;\n};\n\nvar configureStoreProd = function configureStoreProd(preloadedState) {\n  var store = createStore(persistedReducer, preloadedState, compose(applyMiddleware(thunk, queueMiddleware)));\n  return store;\n};\n\nexport default (function () {\n  var store = process.env.NODE_ENV === 'production' ? configureStoreProd() : configureStoreDev();\n  return {\n    store: store,\n    persistor: persistStore(store)\n  };\n});","import React from 'react';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { Provider } from 'react-redux';\nimport storeConfig from './storeConfig';\nimport { LoadingWrapped as Loading } from '@morphoto/client-auth';\n\nvar withReduxProvider = function withReduxProvider(BaseComponent) {\n  return function (props) {\n    var _storeConfig = storeConfig(),\n        store = _storeConfig.store,\n        persistor = _storeConfig.persistor;\n\n    return React.createElement(Provider, {\n      store: store\n    }, React.createElement(PersistGate, {\n      loading: React.createElement(Loading, null),\n      persistor: persistor\n    }, React.createElement(BaseComponent, props)));\n  };\n};\n\nexport default withReduxProvider;","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LabelIcon from '@material-ui/icons/Label';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      minHeight: 60\n    },\n    chosenItem: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.dark\n    },\n    avatar: {\n      background: theme.palette.primary.main\n    },\n    closeIcon: {\n      color: theme.palette.primary.contrastText,\n      paddingRight: 0\n    },\n    avatarImg: {\n      height: '100%',\n      width: '100%',\n      objectFit: 'cover'\n    }\n  };\n});\n\nvar SearchContextItem = function SearchContextItem(_ref) {\n  var className = _ref.className,\n      variant = _ref.variant,\n      name = _ref.name,\n      description = _ref.description,\n      gravatar = _ref.gravatar,\n      onClick = _ref.onClick,\n      onCancel = _ref.onCancel;\n  var classes = useStyles();\n  var TheIcon = PlaceIcon;\n\n  var getAvatar = function getAvatar(src) {\n    return function () {\n      return React.createElement(Avatar, {\n        className: classes.avatar\n      }, React.createElement(\"img\", {\n        className: classes.avatarImg,\n        alt: \"profile\",\n        src: src\n      }));\n    };\n  };\n\n  switch (variant) {\n    case 'tag':\n      TheIcon = LabelIcon;\n      break;\n\n    case 'location':\n      TheIcon = PlaceIcon;\n      break;\n\n    case 'user':\n      TheIcon = gravatar ? getAvatar(gravatar) : PersonIcon;\n      break;\n\n    default:\n      break;\n  }\n\n  return React.createElement(ListItem, {\n    className: classNames(className, classes.root, onCancel ? classes.chosenItem : null),\n    button: !!onClick,\n    onClick: onClick\n  }, React.createElement(ListItemAvatar, null, React.createElement(Avatar, {\n    className: classes.avatar\n  }, React.createElement(TheIcon, {\n    color: \"inherit\"\n  }))), React.createElement(ListItemText, {\n    disableTypography: true\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"inherit\"\n  }, name), React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"inherit\"\n  }, description)), onCancel && React.createElement(ListItemIcon, null, React.createElement(IconButton, {\n    onClick: onCancel,\n    className: classes.closeIcon\n  }, React.createElement(CancelIcon, {\n    color: \"inherit\"\n  }))));\n};\n\nSearchContextItem.propTypes = {\n  variant: PropTypes.oneOf(['tag', 'location', 'user']),\n  onClick: PropTypes.func,\n  gravatar: PropTypes.string,\n  className: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  onCancel: PropTypes.func\n};\nexport default SearchContextItem;\nexport var SearchContexItemCosmos = function SearchContexItemCosmos() {\n  return React.createElement(List, null, React.createElement(SearchContextItem, {\n    variant: \"tag\",\n    name: \"SomeTag\",\n    description: \"Some description of what I am\"\n  }), React.createElement(SearchContextItem, {\n    variant: \"location\",\n    name: \"Some Location\",\n    description: \"Some description of what I am\"\n  }), React.createElement(SearchContextItem, {\n    variant: \"user\",\n    name: \"User McUserSon\",\n    description: \"Some description of what I am\"\n  }));\n};","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport SearchContextItem from './SearchContextItem';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      backgroundColor: theme.palette.background.paper,\n      position: 'relative',\n      overflowX: 'hidden',\n      overflowY: 'scroll',\n      flexGrow: 1\n    },\n    listSection: {\n      backgroundColor: 'inherit'\n    },\n    placeholderText: {\n      textAlign: 'center',\n      padding: theme.spacing(3, 1),\n      color: theme.palette.grey[400]\n    },\n    ul: {\n      backgroundColor: 'inherit',\n      padding: 0\n    }\n  };\n});\n\nvar SearchContextResults = function SearchContextResults(_ref) {\n  var variant = _ref.variant,\n      loading = _ref.loading,\n      contextResults = _ref.contextResults,\n      setContextChoice = _ref.setContextChoice;\n  var classes = useStyles();\n\n  if (loading) {\n    return React.createElement(Typography, {\n      className: classes.placeholderText,\n      variant: \"h3\"\n    }, \"Searching...\");\n  } else if (!contextResults || contextResults.length === 0) {\n    return React.createElement(Typography, {\n      className: classes.placeholderText,\n      variant: \"h4\"\n    }, \"No \", variant, \" results\");\n  }\n\n  return React.createElement(List, {\n    className: classes.root\n  }, contextResults.map(function (cr, idx) {\n    return React.createElement(SearchContextItem, _extends({\n      key: \"scr-\".concat(idx),\n      variant: variant,\n      onClick: function onClick() {\n        return setContextChoice(cr);\n      }\n    }, cr));\n  }));\n};\n\nSearchContextResults.propTypes = {\n  variant: PropTypes.oneOf(['keyword', 'tag', 'location', 'user']),\n  loading: PropTypes.bool,\n  contextResults: PropTypes.array.isRequired,\n  setContextChoice: PropTypes.func.isRequired\n};\nexport default SearchContextResults;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      textAlign: 'center',\n      fontStyle: 'italic',\n      padding: theme.spacing(2, 1)\n    }\n  };\n});\n\nvar SearchEnder = function SearchEnder(_ref) {\n  var style = _ref.style,\n      icon = _ref.icon,\n      text = _ref.text;\n  var classes = useStyles();\n  return React.createElement(Typography, {\n    className: classes.root,\n    variant: \"subtitle1\",\n    color: \"textSecondary\",\n    component: \"div\",\n    style: style\n  }, icon, text);\n};\n\nSearchEnder.propTypes = {\n  style: PropTypes.object,\n  icon: PropTypes.any,\n  text: PropTypes.string\n};\nexport default SearchEnder;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport SearchContextItem from './SearchContextItem';\nimport SearchEnder from './SearchEnder';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SeriesListItem } from '@morphoto/photoseries';\nimport { util } from '@morphoto/common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      flexGrow: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    ctxItem: {\n      flexGrow: 0\n    },\n    list: {\n      flexGrow: 1,\n      backgroundColor: theme.palette.background.paper,\n      position: 'relative',\n      overflowX: 'hidden',\n      overflowY: 'scroll'\n    },\n    placeholderText: {\n      textAlign: 'center',\n      padding: theme.spacing(3, 1),\n      color: theme.palette.grey[400]\n    },\n    listSection: {\n      backgroundColor: 'inherit'\n    },\n    ul: {\n      backgroundColor: 'inherit',\n      padding: 0\n    }\n  };\n});\n\nvar SearchResults = function SearchResults(_ref) {\n  var variant = _ref.variant,\n      loading = _ref.loading,\n      seriesList = _ref.seriesList,\n      contextChoice = _ref.contextChoice,\n      onCancel = _ref.onCancel,\n      onResultClick = _ref.onResultClick,\n      fetchMore = _ref.fetchMore;\n  var classes = useStyles();\n  var listRef = useRef();\n  var enderRef = useRef();\n  var handleScroll = util.debounce(function () {\n    if (!loading && fetchMore && enderRef.current && listRef.current) {\n      var offsetTop = enderRef.current.offsetTop;\n      var _listRef$current = listRef.current,\n          scrollTop = _listRef$current.scrollTop,\n          offsetHeight = _listRef$current.offsetHeight;\n      var scrollBottom = offsetHeight + scrollTop;\n\n      if (offsetTop < scrollBottom * 2) {\n        console.log('SCROLL', {\n          offsetHeight: offsetHeight,\n          scrollTop: scrollTop,\n          offsetTop: offsetTop\n        });\n        fetchMore();\n      }\n    }\n  }, 500);\n  useEffect(handleScroll, [seriesList]);\n  var content = null;\n\n  if (loading) {\n    content = React.createElement(Typography, {\n      className: classes.placeholderText,\n      variant: \"h3\"\n    }, \"Searching...\");\n  } else if (seriesList && seriesList.length > 0) {\n    content = seriesList.map(function (series, idx) {\n      return React.createElement(SeriesListItem, {\n        key: \"series-\".concat(idx),\n        series: series,\n        onClick: function onClick() {\n          return onResultClick(series.id);\n        },\n        showCreatedOn: true,\n        showLastPhoto: true\n      });\n    });\n    content.push(React.createElement(\"div\", {\n      key: \"ender\",\n      ref: enderRef\n    }, React.createElement(SearchEnder, {\n      text: fetchMore ? 'Loading...' : 'No More Results'\n    })));\n  } else {\n    content = React.createElement(Typography, {\n      className: classes.placeholderText,\n      variant: \"h4\"\n    }, \"No series found\");\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, contextChoice && React.createElement(SearchContextItem, _extends({\n    className: classes.ctxItem\n  }, contextChoice, {\n    variant: variant,\n    onCancel: onCancel\n  })), React.createElement(List, {\n    className: classes.list,\n    subheader: React.createElement(\"li\", null),\n    onScroll: handleScroll,\n    innerRef: listRef\n  }, content));\n};\n\nSearchResults.propTypes = {\n  variant: PropTypes.oneOf(['keyword', 'tag', 'location', 'user']),\n  seriesList: PropTypes.array.isRequired,\n  loading: PropTypes.bool,\n  contextChoice: PropTypes.object,\n  onResultClick: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  fetchMore: PropTypes.func\n};\nexport default SearchResults;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      padding: '10%',\n      display: 'flex',\n      flexDirection: 'column',\n      opacity: 0.3,\n      textAlign: 'center'\n    },\n    icon: {\n      width: '100%',\n      flex: '1 1 40%',\n      color: theme.palette.primary.light,\n      opacity: 0.5\n    },\n    primary: {\n      flex: '1 1 30%',\n      width: '100%'\n    },\n    secondary: {\n      flex: '1 1 30%',\n      width: '100%'\n    }\n  };\n});\n\nvar SearchPlaceholder = function SearchPlaceholder(_ref) {\n  var icon = _ref.icon,\n      primary = _ref.primary,\n      secondary = _ref.secondary;\n  var classes = useStyles();\n  var PlaceholderIcon = icon;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(PlaceholderIcon, {\n    className: classes.icon\n  }), primary && React.createElement(Typography, {\n    className: classes.primary,\n    variant: \"h3\"\n  }, primary), secondary && React.createElement(Typography, {\n    className: classes.secondary,\n    variant: \"h4\"\n  }, secondary));\n};\n\nSearchPlaceholder.propTypes = {\n  icon: PropTypes.object,\n  primary: PropTypes.string,\n  secondary: PropTypes.string\n};\nexport default SearchPlaceholder;","import React, { useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Container from '@material-ui/core/Container';\nimport PortableWifiOffIcon from '@material-ui/icons/PortableWifiOff';\nimport LabelIcon from '@material-ui/icons/Label';\nimport SearchIcon from '@material-ui/icons/Search';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchContextResults from './SearchContextResults';\nimport SearchResults from './SearchResults';\nimport SearchPlaceholder from './SearchPlaceholder';\nimport SearchInput from './SearchInput';\nimport { TopBarWrapper } from '@morphoto/navigation';\nimport { config, AppContext } from '@morphoto/client-common';\nvar TABS = config.home.SEARCH_TABS;\n\nvar style = function style(theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      overflow: 'hidden',\n      flexDirection: 'column'\n    },\n    container: {\n      display: 'flex',\n      overflow: 'hidden',\n      flexDirection: 'column',\n      padding: 0,\n      flexGrow: 1\n    },\n    tabs: {},\n    ListWrapper: {\n      flexGrow: 1,\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    tab: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar Search = function Search(_ref) {\n  var currentTab = _ref.currentTab,\n      defaultText = _ref.defaultText,\n      searchText = _ref.searchText,\n      contextResults = _ref.contextResults,\n      searchResults = _ref.searchResults,\n      contextChoice = _ref.contextChoice,\n      loading = _ref.loading,\n      actions = _ref.actions;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      online = _useContext.online;\n\n  useEffect(function () {\n    if (contextResults && !searchResults && contextResults.length === 1) {\n      actions.setContextChoice(contextResults[0]);\n    }\n  }, [contextResults]);\n  var placeholder = {};\n\n  switch (currentTab) {\n    case TABS.KEYWORD:\n      placeholder = {\n        primary: 'Keyword search',\n        secondary: 'example: \\'beaver...\\'',\n        icon: SearchIcon\n      };\n      break;\n\n    case TABS.TAG:\n      placeholder = {\n        primary: 'Tag search',\n        secondary: 'example: \\'beaver...\\'',\n        icon: LabelIcon\n      };\n      break;\n\n    case TABS.USER:\n      placeholder = {\n        primary: 'User search',\n        secondary: 'example: \\'SuperGreg123...\\'',\n        icon: PersonIcon\n      };\n      break;\n\n    case TABS.LOCATION:\n      placeholder = {\n        primary: 'Location Search',\n        secondary: 'example: \\'Vancouver...\\'',\n        icon: PlaceIcon\n      };\n      break;\n\n    default:\n      break;\n  }\n\n  var content = null;\n\n  if (!online.isOnline) {\n    content = React.createElement(SearchPlaceholder, {\n      primary: \"Search Disabled\",\n      secondary: \"(Offline)\",\n      icon: PortableWifiOffIcon\n    });\n  } else if ((contextChoice || currentTab === TABS.KEYWORD) && searchResults) {\n    content = React.createElement(SearchResults, {\n      variant: currentTab,\n      loading: loading,\n      onResultClick: actions.onResultClick,\n      fetchMore: actions.fetchMore,\n      seriesList: searchResults,\n      contextChoice: contextChoice,\n      onCancel: function onCancel() {\n        return actions.setContextChoice(null);\n      }\n    });\n  } else if (contextResults) {\n    content = React.createElement(SearchContextResults, {\n      loading: loading,\n      variant: currentTab,\n      contextResults: contextResults,\n      setContextChoice: currentTab === TABS.LOCATION ? actions.onMapClick : actions.setContextChoice\n    });\n  } else if (defaultText.length > 0) {\n    content = React.createElement(Typography, null, \"Searching for \", \"'\".concat(searchText, \"'\") || '...');\n  } else {\n    content = React.createElement(SearchPlaceholder, placeholder);\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(TopBarWrapper, null, React.createElement(SearchInput, {\n    disabled: !online.isOnline,\n    onChange: actions.setSearchText,\n    defaultValue: searchText\n  })), React.createElement(Container, {\n    className: classes.container,\n    maxWidth: \"sm\"\n  }, online.isOnline && React.createElement(Tabs, {\n    value: currentTab,\n    disabled: !online.isOnline,\n    onChange: function onChange(e, val) {\n      return actions.setCurrentTab(val);\n    },\n    indicatorColor: \"primary\",\n    classes: {\n      flexContainer: classes.tabs\n    },\n    centered: true\n  }, React.createElement(Tab, {\n    className: classes.tab,\n    value: TABS.TAG,\n    label: \"Tags\"\n  }), React.createElement(Tab, {\n    className: classes.tab,\n    value: TABS.KEYWORD,\n    label: \"Keywords\"\n  }), React.createElement(Tab, {\n    className: classes.tab,\n    value: TABS.LOCATION,\n    label: \"Places\"\n  }), React.createElement(Tab, {\n    className: classes.tab,\n    value: TABS.USER,\n    label: \"Users\"\n  })), React.createElement(\"div\", {\n    className: classes.ListWrapper\n  }, content)));\n};\n\nSearch.propTypes = {\n  loading: PropTypes.bool,\n  currentTab: PropTypes.string.isRequired,\n  contextChoice: PropTypes.object,\n  defaultText: PropTypes.string.isRequired,\n  searchText: PropTypes.string.isRequired,\n  contextResults: PropTypes.array,\n  searchResults: PropTypes.array,\n  actions: PropTypes.shape({\n    setCurrentTab: PropTypes.func.isRequired,\n    setSearchText: PropTypes.func.isRequired,\n    setContextChoice: PropTypes.func.isRequired,\n    fetchMore: PropTypes.func,\n    onMapClick: PropTypes.func.isRequired,\n    onResultClick: PropTypes.func.isRequired\n  })\n};\nSearch.defaultProps = {\n  currentTab: TABS.TAGS,\n  defaultText: ''\n};\nexport default Search;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Badge from '@material-ui/core/Badge';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Button from '@material-ui/core/Button';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport LabelIcon from '@material-ui/icons/Label';\nimport PauseIcon from '@material-ui/icons/PauseCircleFilled';\nimport PlayIcon from '@material-ui/icons/PlayCircleFilled';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Photo } from '@morphoto/photos';\nimport { dates } from '@morphoto/common';\nimport { useComponentSize } from '@morphoto/client-common';\nimport style from './Slideshow.style';\nvar useStyles = makeStyles(style);\n\nvar Slideshow = function Slideshow(_ref) {\n  var onCancel = _ref.onCancel,\n      photos = _ref.photos,\n      transition = _ref.transition;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useStepper = useStepper(photos.length, transition),\n      activeStep = _useStepper.activeStep,\n      lastStep = _useStepper.lastStep,\n      handleForward = _useStepper.handleForward,\n      handleBack = _useStepper.handleBack,\n      paused = _useStepper.paused,\n      pause = _useStepper.pause,\n      play = _useStepper.play;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showXYTags = _useState2[0],\n      setShowXYTags = _useState2[1];\n\n  var refImgWrap = useRef(null);\n\n  var _useComponentSize = useComponentSize(refImgWrap),\n      _useComponentSize$siz = _useComponentSize.size,\n      height = _useComponentSize$siz.height,\n      width = _useComponentSize$siz.width;\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(\"div\", {\n    ref: refImgWrap,\n    className: classes.slideContainer\n  }, photos.map(function (slide, idx) {\n    return React.createElement(GridListTile, {\n      key: \"slide-\".concat(idx),\n      className: classNames(classes.slide, activeStep === idx && classes.active, lastStep === idx && classes.last),\n      onClick: function onClick() {\n        return setShowXYTags(!showXYTags);\n      },\n      style: {\n        height: height,\n        width: width,\n        transition: theme.transitions.create(['opacity'], {\n          duration: 1 / 4 * transition\n        })\n      }\n    }, React.createElement(Photo, {\n      photo: slide,\n      className: classes.photo,\n      showTags: showXYTags\n    }), React.createElement(Typography, {\n      className: classes.labelBadge\n    }, \"Tags: \", showXYTags ? 'On ' : 'Off ', React.createElement(Badge, {\n      color: \"secondary\",\n      badgeContent: photos[activeStep].tags.filter(function (tag) {\n        return tag.coords;\n      }).length\n    }, React.createElement(LabelIcon, {\n      color: \"inherit\"\n    }))), React.createElement(GridListTileBar, {\n      className: classes.titleBar,\n      titlePosition: \"top\",\n      title: React.createElement(Typography, {\n        color: \"inherit\",\n        variant: \"caption\"\n      }, React.createElement(IconButton, {\n        className: classes.iconButton,\n        onClick: function onClick(e) {\n          return onCancel();\n        }\n      }, React.createElement(ArrowBackIcon, null)), dates.formatDate(slide.takenOn)),\n      subtitle: React.createElement(\"em\", null, paused ? 'Paused' : '    '),\n      actionIcon: paused ? React.createElement(IconButton, {\n        className: classes.iconButton,\n        onClick: function onClick(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          play();\n        }\n      }, React.createElement(PlayIcon, null)) : React.createElement(IconButton, {\n        className: classes.iconButton,\n        onClick: function onClick(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          pause();\n        }\n      }, React.createElement(PauseIcon, null))\n    }));\n  }), React.createElement(IconButton, {\n    size: \"small\",\n    className: classes.manualBack,\n    onClick: handleBack,\n    color: \"inherit\"\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowRight, null) : React.createElement(KeyboardArrowLeft, null)), React.createElement(IconButton, {\n    size: \"small\",\n    className: classes.manualForward,\n    onClick: handleForward,\n    color: \"inherit\"\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowLeft, null) : React.createElement(KeyboardArrowRight, null))), React.createElement(MobileStepper, {\n    steps: photos.length,\n    position: \"static\",\n    activeStep: activeStep,\n    classes: {\n      root: classes.mobileStepper,\n      dotActive: classes.dotActive\n    },\n    nextButton: React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleForward,\n      disabled: activeStep === photos.length - 1\n    }, \"Next\", theme.direction === 'rtl' ? React.createElement(KeyboardArrowLeft, null) : React.createElement(KeyboardArrowRight, null)),\n    backButton: React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleBack,\n      disabled: activeStep === 0\n    }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowRight, null) : React.createElement(KeyboardArrowLeft, null), \"Back\")\n  }));\n};\n\nSlideshow.propTypes = {\n  isFullScreen: PropTypes.bool,\n  photos: PropTypes.array.isRequired,\n  transition: PropTypes.number,\n  onCancel: PropTypes.func.isRequired\n};\nSlideshow.defaultProps = {\n  transition: 5000,\n  isFullScreen: false,\n  slides: []\n};\nexport default Slideshow;\n\nvar useStepper = function useStepper(num, interval) {\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeStep = _useState4[0],\n      setActiveStep = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      paused = _useState6[0],\n      setPaused = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastStep = _useState8[0],\n      setLastStep = _useState8[1];\n\n  var timerRef = useRef();\n\n  var handleForward = function handleForward() {\n    setLastStep(activeStep);\n    if (activeStep + 1 >= num) setActiveStep(0);else setActiveStep(activeStep + 1);\n\n    if (!paused) {\n      destroyTimer();\n      createTimer();\n    }\n  };\n\n  var handleBack = function handleBack() {\n    setLastStep(activeStep);\n    if (activeStep - 1 < 0) setActiveStep(num - 1);else setActiveStep(activeStep - 1);\n\n    if (!paused) {\n      destroyTimer();\n      createTimer();\n    }\n  };\n\n  var pause = function pause() {\n    destroyTimer();\n    setPaused(true);\n  };\n\n  var play = function play() {\n    setPaused(false);\n    destroyTimer();\n    createTimer();\n  };\n\n  var createTimer = function createTimer() {\n    timerRef.current = window.setInterval(function () {\n      return setActiveStep(function (oldStep) {\n        setLastStep(oldStep);\n        return oldStep + 1 >= num ? 0 : oldStep + 1;\n      });\n    }, interval);\n  };\n\n  var destroyTimer = function destroyTimer() {\n    if (timerRef.current) window.clearInterval(timerRef.current);\n  };\n\n  useEffect(function () {\n    createTimer();\n    return function () {\n      destroyTimer();\n    };\n  }, []);\n  return {\n    activeStep: activeStep,\n    lastStep: lastStep,\n    handleForward: handleForward,\n    handleBack: handleBack,\n    setActiveStep: setActiveStep,\n    paused: paused,\n    pause: pause,\n    play: play\n  };\n};","export default (function (theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    swipeAble: {\n      height: '100%'\n    },\n    slideContainer: {\n      flexGrow: 1\n    },\n    titleBar: {\n      padding: theme.spacing(0, 1),\n      height: '35px!important'\n    },\n    mobileStepper: {\n      flexGrow: 0,\n      background: theme.palette.grey[800],\n      color: theme.palette.getContrastText(theme.palette.grey[800])\n    },\n    slide: {\n      top: 0,\n      zIndex: 0,\n      opacity: 0,\n      position: 'absolute',\n      display: 'block',\n      overflow: 'hidden',\n      width: '100%',\n      height: '100%',\n      minHeight: 300\n    },\n    dotActive: {\n      background: 'white'\n    },\n    iconButton: {\n      color: 'white'\n    },\n    active: {\n      zIndex: 5,\n      opacity: 1\n    },\n    last: {\n      opacity: 1,\n      zIndex: 4\n    },\n    tagContainer: {},\n    labelBadge: {\n      color: 'white',\n      zIndex: 10,\n      position: 'absolute',\n      right: theme.spacing(2),\n      bottom: theme.spacing(1),\n      opacity: 0.8\n    },\n    tagChip: {\n      marginRight: theme.spacing(1),\n      fontSize: 10,\n      height: theme.spacing(2),\n      padding: theme.spacing(0.5)\n    },\n    xyTagChip: {\n      position: 'absolute',\n      fontSize: theme.spacing(1),\n      height: theme.spacing(2)\n    },\n    manualBack: {\n      color: 'white',\n      zIndex: 10,\n      position: 'absolute',\n      transform: 'translateY(-50%)',\n      left: 0,\n      top: '50%'\n    },\n    manualForward: {\n      color: 'white',\n      zIndex: 10,\n      position: 'absolute',\n      transform: 'translateY(-50%)',\n      right: 0,\n      top: '50%'\n    }\n  };\n});","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { dates } from '@morphoto/common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    imgContainer: {\n      flex: '0 0 100px',\n      margin: theme.spacing(1, 1, 0, 2)\n    },\n    gravatarImg: {\n      verticalAlign: 'top'\n    }\n  };\n});\n\nvar MeCard = function MeCard(_ref) {\n  var user = _ref.user,\n      loading = _ref.loading,\n      onAvatarClick = _ref.onAvatarClick;\n  var classes = useStyles();\n  if (loading || !user) return 'LOADING...';\n  return React.createElement(ListItem, {\n    className: classes.root,\n    onClick: onAvatarClick,\n    disableGutters: true\n  }, React.createElement(ListItemIcon, {\n    className: classes.imgContainer\n  }, React.createElement(\"img\", {\n    alt: \"profile\",\n    className: classes.gravatarImg,\n    src: user.gravatar\n  })), React.createElement(ListItemText, {\n    primary: user.username,\n    secondary: \"Member since: \".concat(dates.formatDate(user.createdOn, 'LL'))\n  }));\n};\n\nMeCard.propTypes = {\n  user: PropTypes.object,\n  loading: PropTypes.bool,\n  onAvatarClick: PropTypes.func\n};\nexport default MeCard;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Divider from '@material-ui/core/Divider';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nimport { SeriesListItem } from '@morphoto/photoseries';\nimport { TopBarWrapper } from '@morphoto/navigation';\nimport MeCard from './MeCard';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      background: theme.palette.background.paper,\n      height: '100%'\n    },\n    filterContainer: {\n      color: theme.palette.primary.secondary,\n      background: theme.palette.background.default,\n      textAlign: 'center',\n      padding: theme.spacing(1, 1)\n    },\n    container: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      padding: 0\n    },\n    filterChip: {},\n    seriesListItemWrap: {\n      margin: theme.spacing(1, 0.5)\n    },\n    seriesList: {\n      overflowX: 'hidden',\n      overflowY: 'scroll'\n    },\n    tabs: {},\n    noneFound: {\n      color: theme.palette.text.secondary,\n      textAlign: 'center',\n      padding: theme.spacing(2)\n    }\n  };\n});\nvar SORT = {\n  ACTIVITY: 'Last Photo',\n  CREATED: 'Created',\n  NAME: 'Name'\n};\n\nvar MyProfile = function MyProfile(_ref) {\n  var mySeries = _ref.mySeries,\n      user = _ref.user,\n      watchingSeries = _ref.watchingSeries,\n      loading = _ref.loading,\n      actions = _ref.actions;\n  var classes = useStyles();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentTab = _useState2[0],\n      setCurrentTab = _useState2[1];\n\n  var _useState3 = useState(SORT.ACTIVITY),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sortVal = _useState4[0],\n      setSort = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortAsc = _useState6[0],\n      setSortAsc = _useState6[1];\n\n  var sortSetter = function sortSetter(newSort) {\n    if (newSort === sortVal) setSortAsc(!sortAsc);else setSort(newSort);\n  };\n\n  var tabFeed = currentTab === 0 ? mySeries : watchingSeries;\n  if (!tabFeed) tabFeed = [];\n\n  switch (sortVal) {\n    case SORT.ACTIVITY:\n      if (sortAsc) tabFeed.sort(function (a, b) {\n        return a.latest.takenOn - b.latest.takenOn;\n      });else tabFeed.sort(function (a, b) {\n        return b.latest.takenOn - a.latest.takenOn;\n      });\n      break;\n\n    case SORT.CREATED:\n      if (sortAsc) tabFeed.sort(function (a, b) {\n        return a.createdOn - b.createdOn;\n      });else tabFeed.sort(function (a, b) {\n        return b.createdOn - a.createdOn;\n      });\n      break;\n\n    case SORT.NAME:\n      if (sortAsc) {\n        tabFeed.sort(function (a, b) {\n          if (a.name < b.name) {\n            return -1;\n          }\n\n          if (a.name > b.firstname) {\n            return 1;\n          }\n\n          return 0;\n        });\n      } else {\n        tabFeed.sort(function (a, b) {\n          if (b.name < a.name) {\n            return -1;\n          }\n\n          if (b.name > a.name) {\n            return 1;\n          }\n\n          return 0;\n        });\n      }\n\n      break;\n\n    default:\n      break;\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(TopBarWrapper, null, React.createElement(Typography, null, \"My Profile\")), React.createElement(Container, {\n    className: classes.container,\n    maxWidth: \"sm\"\n  }, React.createElement(MeCard, {\n    user: user\n  }), React.createElement(Tabs, {\n    value: currentTab,\n    onChange: function onChange(e, val) {\n      return setCurrentTab(val);\n    },\n    indicatorColor: \"primary\",\n    centered: true,\n    classes: {\n      flexContainer: classes.tabs\n    }\n  }, React.createElement(Tab, {\n    className: classes.tab,\n    value: 0,\n    label: \"My Series\"\n  }), React.createElement(Tab, {\n    className: classes.tab,\n    value: 1,\n    label: \"Watching\"\n  })), React.createElement(Divider, null), React.createElement(\"div\", {\n    className: classes.filterContainer\n  }, React.createElement(FilterSortItem, {\n    asc: sortAsc,\n    active: sortVal === SORT.NAME,\n    onClick: function onClick() {\n      return sortSetter(SORT.NAME);\n    },\n    label: SORT.NAME\n  }), \"|\", React.createElement(FilterSortItem, {\n    asc: sortAsc,\n    active: sortVal === SORT.ACTIVITY,\n    onClick: function onClick() {\n      return sortSetter(SORT.ACTIVITY);\n    },\n    label: SORT.ACTIVITY\n  }), \"|\", React.createElement(FilterSortItem, {\n    asc: sortAsc,\n    active: sortVal === SORT.CREATED,\n    onClick: function onClick() {\n      return sortSetter(SORT.CREATED);\n    },\n    label: SORT.CREATED\n  })), React.createElement(Divider, null), React.createElement(\"div\", {\n    className: classes.seriesList\n  }, !loading && (!tabFeed || tabFeed.length === 0) && React.createElement(Typography, {\n    className: classes.noneFound,\n    component: \"div\"\n  }, \"No Series Found\"), loading && React.createElement(Typography, {\n    className: classes.noneFound,\n    component: \"div\"\n  }, \"Loading...\"), tabFeed.map(function (series, idx) {\n    return React.createElement(SeriesListItem, {\n      key: \"seriesListItem\".concat(idx),\n      series: series,\n      showCreatedOn: true,\n      showLastPhoto: true,\n      onClick: function onClick() {\n        return actions.jumpToSeries(series.id);\n      }\n    });\n  }))));\n};\n\nMyProfile.propTypes = {\n  loading: PropTypes.bool,\n  user: PropTypes.object.isRequired,\n  mySeries: PropTypes.array.isRequired,\n  watchingSeries: PropTypes.array.isRequired,\n  actions: PropTypes.shape({\n    jumpToSeries: PropTypes.func.isRequired,\n    jumpToMap: PropTypes.func.isRequired\n  })\n};\nexport default MyProfile;\nvar useFilterStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(0, 1, 0, 1)\n    }\n  };\n});\n\nvar FilterSortItem = function FilterSortItem(_ref2) {\n  var active = _ref2.active,\n      asc = _ref2.asc,\n      onClick = _ref2.onClick,\n      label = _ref2.label;\n  var classes = useFilterStyles();\n  var arrow = asc === true ? '▲' : '▼';\n  return React.createElement(Button, {\n    size: \"small\",\n    className: classes.root,\n    onClick: onClick,\n    color: active ? 'secondary' : 'inherit'\n  }, label, React.createElement(\"span\", {\n    style: {\n      opacity: active ? 1 : 0\n    }\n  }, arrow));\n};\n\nFilterSortItem.propTypes = {\n  active: PropTypes.bool,\n  asc: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  label: PropTypes.string.isRequired\n};","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport IconButton from '@material-ui/core/IconButton';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport Badge from '@material-ui/core/Badge';\nimport LabelIcon from '@material-ui/icons/Label';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport { Photo } from '@morphoto/photos';\nimport { dates } from '@morphoto/common';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport style from './SwipeShow.style';\nvar useStyles = makeStyles(style);\n\nvar SwipeShow = function SwipeShow(_ref) {\n  var photos = _ref.photos,\n      onImageSelect = _ref.onImageSelect,\n      activePhoto = _ref.activePhoto,\n      setActivePhoto = _ref.setActivePhoto;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showTags = _useState2[0],\n      setShowTags = _useState2[1];\n\n  var singular = photos.length < 2;\n\n  var handleForward = function handleForward() {\n    return setActivePhoto(activePhoto >= photos.length ? 0 : activePhoto + 1);\n  };\n\n  var handleBack = function handleBack() {\n    return setActivePhoto(activePhoto <= 0 ? photos.length - 1 : activePhoto - 1);\n  };\n\n  var activePhotoObj = photos[activePhoto] || {};\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"div\", {\n    className: classes.inner\n  }, React.createElement(SwipeableViews, {\n    axis: theme.direction === 'rtl' ? 'x-reverse' : 'x',\n    index: activePhoto,\n    onChangeIndex: function onChangeIndex(val) {\n      return setActivePhoto(val);\n    },\n    enableMouseEvents: true\n  }, photos.map(function (photo, idx) {\n    return React.createElement(\"div\", {\n      className: classes.photoWrapper,\n      key: \"swipeshowpic-\".concat(idx),\n      onClick: function onClick() {\n        return activePhotoObj.id && onImageSelect(activePhotoObj.id);\n      }\n    }, React.createElement(Photo, {\n      photo: photo,\n      className: classes.photo,\n      showTags: showTags\n    }));\n  })), React.createElement(IconButton, {\n    size: \"small\",\n    className: classes.manualBack,\n    onClick: handleBack,\n    color: \"inherit\",\n    disabled: activePhoto === 0\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowRight, null) : React.createElement(KeyboardArrowLeft, null)), React.createElement(IconButton, {\n    size: \"small\",\n    className: classes.manualForward,\n    onClick: handleForward,\n    color: \"inherit\",\n    disabled: activePhoto === photos.length - 1\n  }, theme.direction === 'rtl' ? React.createElement(KeyboardArrowLeft, null) : React.createElement(KeyboardArrowRight, null)), React.createElement(GridListTileBar, {\n    title: singular ? 'Photo' : \"Photo (\".concat(activePhoto + 1, \"/\").concat(photos.length, \")\"),\n    subtitle: activePhotoObj.takenOn && React.createElement(\"span\", null, dates.formatDate(activePhotoObj.takenOn)),\n    actionIcon: React.createElement(React.Fragment, null, React.createElement(IconButton, {\n      className: classes.tagButton,\n      onClick: function onClick() {\n        return setShowTags(!showTags);\n      }\n    }, React.createElement(Badge, {\n      color: showTags ? 'primary' : 'secondary',\n      badgeContent: activePhotoObj.tags ? activePhotoObj.tags.filter(function (tag) {\n        return tag.coords;\n      }).length : null\n    }, React.createElement(LabelIcon, null))))\n  })), !singular && React.createElement(MobileStepper, {\n    steps: photos.length,\n    position: \"static\",\n    activeStep: activePhoto,\n    classes: {\n      root: classes.mobileStepper,\n      dots: classes.dots\n    }\n  }));\n};\n\nSwipeShow.propTypes = {\n  photos: PropTypes.array,\n  transition: PropTypes.number,\n  activePhoto: PropTypes.number,\n  setActivePhoto: PropTypes.func.isRequired,\n  onImageSelect: PropTypes.func.isRequired\n};\nSwipeShow.defaultProps = {\n  activePhoto: 0,\n  transition: 5000,\n  isFullScreen: false,\n  slides: []\n};\nexport default SwipeShow;","export default (function (theme) {\n  return {\n    root: {\n      position: 'relative'\n    },\n    inner: {\n      position: 'relative'\n    },\n    photoWrapper: {\n      minHeight: 250,\n      height: 250\n    },\n    dateCaption: {\n      padding: theme.spacing(1),\n      background: theme.palette.primary.dark,\n      color: theme.palette.primary.contrastText,\n      textAlign: 'center'\n    },\n    mobileStepper: {},\n    manualBack: {\n      color: 'white',\n      zIndex: 10,\n      position: 'absolute',\n      transform: 'translateY(-50%)',\n      left: 0,\n      top: '50%'\n    },\n    manualForward: {\n      color: 'white',\n      zIndex: 10,\n      position: 'absolute',\n      transform: 'translateY(-50%)',\n      right: 0,\n      top: '50%'\n    },\n    tagButton: {\n      color: 'rgba(255, 255, 255, 0.54)'\n    },\n    slideshowButton: {\n      color: 'rgba(255, 255, 255, 0.54)'\n    },\n    dots: {\n      margin: '0 auto'\n    }\n  };\n});","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Tags\", {\n  enumerable: true,\n  get: function get() {\n    return _Tags[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"getExif\", {\n  enumerable: true,\n  get: function get() {\n    return _exif.getExif;\n  }\n});\nObject.defineProperty(exports, \"Series\", {\n  enumerable: true,\n  get: function get() {\n    return _Series[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"Photo\", {\n  enumerable: true,\n  get: function get() {\n    return _Photo[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"AccessHelper\", {\n  enumerable: true,\n  get: function get() {\n    return _AccessHelper[\"default\"];\n  }\n});\nexports.permissions = exports.util = exports.dates = exports.accessControl = void 0;\n\nvar _accesscontrol = _interopRequireDefault(require(\"accesscontrol\"));\n\nvar _permissions = _interopRequireDefault(require(\"./accesscontrol/permissions\"));\n\nvar datesLib = _interopRequireWildcard(require(\"./dates\"));\n\nvar utilLib = _interopRequireWildcard(require(\"./util\"));\n\nvar _Tags = _interopRequireDefault(require(\"./Tags\"));\n\nvar _exif = require(\"./exif\");\n\nvar _Series = _interopRequireDefault(require(\"./Series\"));\n\nvar _Photo = _interopRequireDefault(require(\"./Photo\"));\n\nvar _AccessHelper = _interopRequireDefault(require(\"./accesscontrol/AccessHelper\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar accessControl = new _accesscontrol[\"default\"](_permissions[\"default\"]);\nexports.accessControl = accessControl;\nvar dates = datesLib;\nexports.dates = dates;\nvar util = utilLib;\nexports.util = util;\nvar permissions = _permissions[\"default\"];\nexports.permissions = permissions;","import React from 'react';\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon';\nexport var RawSVG = React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M13.685,2.797c-0.44,1.273 0.852,3.525 -1.082,4.966c-1.247,0.93 -2.133,2.247 -2.743,4.167c-3.78,-7.611 2.788,-8.409 3.682,-10.699c0.64,1.255 5.18,2.608 2.89,4.873c1.28,-2.034 -2.359,-1.862 -2.747,-3.307Z\"\n}), React.createElement(\"path\", {\n  d: \"M4.921,5.953c0.883,1.017 3.479,1.024 3.76,3.42c0.181,1.545 0.879,2.971 2.238,4.459c-8.482,-0.532 -5.889,-6.619 -7.425,-8.538c1.407,0.073 4.848,-3.183 5.665,-0.066c-1.121,-2.126 -2.792,1.111 -4.238,0.725Z\"\n}), React.createElement(\"path\", {\n  d: \"M3.236,15.092c1.323,-0.256 2.627,-2.5 4.842,-1.546c1.428,0.615 3.013,0.724 4.98,0.292c-4.701,7.079 -8.676,1.79 -11.106,2.161c0.766,-1.183 -0.332,-5.791 2.775,-4.94c-2.402,-0.091 -0.433,2.974 -1.491,4.033Z\"\n}), React.createElement(\"path\", {\n  d: \"M10.309,21.121c0.439,-1.274 -0.852,-3.525 1.081,-4.967c1.247,-0.929 2.133,-2.246 2.743,-4.167c3.781,7.611 -2.788,8.409 -3.681,10.699c-0.641,-1.255 -5.181,-2.607 -2.891,-4.873c-1.28,2.034 2.359,1.863 2.748,3.308Z\"\n}), React.createElement(\"path\", {\n  d: \"M19.066,18.01c-0.883,-1.017 -3.479,-1.024 -3.76,-3.42c-0.182,-1.544 -0.88,-2.971 -2.238,-4.459c8.482,0.532 5.889,6.619 7.425,8.538c-1.407,-0.072 -4.849,3.183 -5.665,0.067c1.121,2.125 2.792,-1.112 4.238,-0.726Z\"\n}), React.createElement(\"path\", {\n  d: \"M20.751,8.871c-1.323,0.256 -2.627,2.501 -4.842,1.546c-1.429,-0.615 -3.013,-0.723 -4.98,-0.291c4.701,-7.08 8.676,-1.791 11.106,-2.162c-0.767,1.183 0.332,5.791 -2.775,4.94c2.401,0.092 0.433,-2.974 1.491,-4.033Z\"\n}));\nexport default createSvgIcon(RawSVG, 'AppLogo');","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React, { useRef, useLayoutEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { util } from '@morphoto/common';\nvar useSearchBarStyles = makeStyles(function (theme) {\n  return {\n    root: _defineProperty({\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.3),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.5)\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%'\n    }, theme.breakpoints.up('sm'), {\n      marginLeft: theme.spacing(3),\n      width: 'auto'\n    }),\n    transparent: {\n      backgroundColor: fade(theme.palette.common.white, 0.7),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.9)\n      }\n    },\n    inputRoot: {\n      color: 'inherit',\n      width: '100%'\n    },\n    inputInput: _defineProperty({\n      padding: theme.spacing(1, 1, 1, 4),\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }, theme.breakpoints.up('md'), {\n      width: 200\n    }),\n    searchIcon: {\n      width: theme.spacing(4),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  };\n});\nexport var SearchInput = function SearchInput(_ref) {\n  var autoFocus = _ref.autoFocus,\n      disabled = _ref.disabled,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      defaultValue = _ref.defaultValue,\n      isTransparent = _ref.isTransparent;\n  var inputRef = useRef();\n  var classes = useSearchBarStyles();\n  var debounceSearchText = useCallback(util.debounce(onChange, 500), [onChange]);\n  useLayoutEffect(function () {\n    if (inputRef.current && !autoFocus) {\n      console.log('Setting blur');\n      inputRef.current.blur();\n    }\n  }, [autoFocus]);\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, isTransparent ? classes.transparent : null),\n    onClick: onClick\n  }, React.createElement(\"div\", {\n    className: classes.searchIcon\n  }, React.createElement(SearchIcon, null)), React.createElement(InputBase, {\n    autoFocus: !disabled && autoFocus,\n    inputProps: {\n      onBlur: function onBlur() {}\n    },\n    onChange: function onChange(e) {\n      debounceSearchText(e.target.value);\n    },\n    placeholder: \"Search\\u2026\",\n    disabled: disabled,\n    defaultValue: defaultValue,\n    inputRef: inputRef,\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    }\n  }));\n};\nSearchInput.propTypes = {\n  autoFocus: PropTypes.bool,\n  isTransparent: PropTypes.bool,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  defaultValue: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport default SearchInput;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FindOnMapButton } from '@morphoto/ui';\nimport { RawImage } from '@morphoto/photos';\nimport { Avatar } from '@material-ui/core';\nimport { dates } from '@morphoto/common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      padding: theme.spacing(0)\n    },\n    imgContainer: {\n      overflow: 'hidden',\n      height: '100%',\n      position: 'relative',\n      borderRadius: 0\n    },\n    findOnMapButtonContainer: {\n      position: 'absolute',\n      opacity: 0.8,\n      bottom: theme.spacing(1),\n      right: theme.spacing(1)\n    },\n    titleContainer: {\n      borderTop: '2px solid #FFFFFF99',\n      background: '#444444AA',\n      textShadow: '1px 1px 10px black',\n      color: 'white',\n      position: 'absolute',\n      alignItems: 'center',\n      display: 'flex',\n      top: 0,\n      width: '100%',\n      paddingRight: theme.spacing(1)\n    },\n    avatar: {\n      border: '1px solid white',\n      margin: theme.spacing(0, 1)\n    },\n    title: {\n      flex: '1 1 50%',\n      overflow: 'hidden'\n    },\n    seriesName: {\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden'\n    },\n    img: {},\n    gravatarImg: {\n      width: '100%'\n    }\n  };\n});\nvar EVENT_VERBS = {\n  DELETE: 'Deleted',\n  ADD: 'Added'\n};\n\nvar FeedItem = function FeedItem(_ref) {\n  var event = _ref.event,\n      actions = _ref.actions;\n  var series = event.series,\n      photo = event.photo;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(Paper, {\n    className: classes.imgContainer\n  }, React.createElement(RawImage, {\n    photo: photo,\n    sizePriority: ['medium', 'large', 'thumb'],\n    cover: true,\n    className: classes.img,\n    onClick: function onClick() {\n      return actions.onImageClick(series.id, photo.id);\n    }\n  }), React.createElement(\"div\", {\n    className: classes.titleContainer\n  }, React.createElement(Avatar, {\n    onClick: function onClick() {\n      return actions.onProfileClick(photo.createdUser.username);\n    },\n    className: classes.avatar\n  }, React.createElement(\"img\", {\n    alt: \"profile\",\n    className: classes.gravatarImg,\n    src: photo.createdUser.gravatar\n  })), React.createElement(\"div\", {\n    className: classes.title\n  }, React.createElement(Typography, {\n    className: classes.seriesName,\n    variant: \"body1\",\n    color: \"inherit\"\n  }, series.name), React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"inherit\"\n  }, photo.createdUser.username, \" \", EVENT_VERBS.ADD, \" a photo\"), React.createElement(Typography, {\n    variant: \"caption\",\n    color: \"inherit\"\n  }, dates.formatDate(photo.updatedOn))), React.createElement(FindOnMapButton, {\n    onClick: function onClick() {\n      return actions.onMapClick(series.id, photo.id);\n    }\n  }))));\n};\n\nFeedItem.propTypes = {\n  event: PropTypes.object.isRequired,\n  actions: PropTypes.shape({\n    onImageClick: PropTypes.func.isRequired,\n    onProfileClick: PropTypes.func.isRequired,\n    onMapClick: PropTypes.func.isRequired\n  })\n};\nexport default FeedItem;\nexport var FeedItemCosmos = function FeedItemCosmos(props) {\n  return React.createElement(\"div\", null, React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props), React.createElement(FeedItem, props));\n};\nFeedItemCosmos.propTypes = {\n  event: PropTypes.object.isRequired\n};","export default require('./Search').default;\nexport { default as SearchInput } from './SearchInput';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomObjectElement = exports.randomArrayEl = exports.filledArray = exports.randomMap = exports.randomChance = exports.randomFloat = exports.randomInt = void 0;\n\nvar _random = _interopRequireDefault(require(\"lodash/random\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar randomInt = function randomInt(min, max) {\n  return (0, _random[\"default\"])(min, max);\n};\n\nexports.randomInt = randomInt;\n\nvar randomFloat = function randomFloat(min, max) {\n  return (0, _random[\"default\"])(min, max, true);\n};\n\nexports.randomFloat = randomFloat;\n\nvar randomChance = function randomChance(chance, inTimes) {\n  return (0, _random[\"default\"])(0, inTimes) <= chance;\n};\n\nexports.randomChance = randomChance;\n\nvar randomMap = function randomMap(low, high, func) {\n  return filledArray((0, _random[\"default\"])(low, high), null).map(func);\n};\n\nexports.randomMap = randomMap;\n\nvar filledArray = function filledArray(num) {\n  var fillval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return _toConsumableArray(Array(num).keys()).map(function () {\n    return fillval;\n  });\n};\n\nexports.filledArray = filledArray;\n\nvar randomArrayEl = function randomArrayEl(arr) {\n  return !arr || arr.length === 0 ? null : arr[(0, _random[\"default\"])(0, arr.length - 1)];\n};\n\nexports.randomArrayEl = randomArrayEl;\n\nvar randomObjectElement = function randomObjectElement(obj) {\n  var key = randomArrayEl(Object.keys(obj));\n  return [key, obj[key]];\n};\n\nexports.randomObjectElement = randomObjectElement;","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport FormData from 'form-data';\nimport { imgStore } from './graphql/offline';\naxios.interceptors.request.use(function (request) {\n  console.log('AXIOS:::: Starting Request', request);\n  return request;\n}, function (err) {\n  console.log('AXIOS:::: Starting Request ERROR', err);\n  return Promise.reject(err);\n});\naxios.interceptors.response.use(function (response) {\n  console.log('AXIOS:::: Response', response);\n  return response;\n}, function (err) {\n  console.log('AXIOS:::: Starting Response ERROR', err);\n  return Promise.reject(err);\n});\nexport default function s3Upload(_x, _x2, _x3, _x4) {\n  return _s3Upload.apply(this, arguments);\n}\n\nfunction _s3Upload() {\n  _s3Upload = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(activeUpload, updateUploadProgress, completeActiveUpload, failRetry) {\n    var formData, data, file, onUploadProgress, config;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log('s3Upload::STARTING', {\n              activeUpload: activeUpload\n            });\n            formData = new FormData();\n            Object.keys(activeUpload.preAuth.fields).forEach(function (fieldkey) {\n              formData.append(fieldkey, activeUpload.preAuth.fields[fieldkey]);\n            });\n            _context2.next = 5;\n            return imgStore.getItem(activeUpload.uploadToken);\n\n          case 5:\n            data = _context2.sent;\n            file = dataURLtoFile(data.dataUrl, data.name);\n            formData.append('file', file);\n\n            onUploadProgress = function onUploadProgress(progressEvent) {\n              console.log('s3Upload::PROGRESSEVENT', progressEvent);\n              var loaded = progressEvent.loaded,\n                  total = progressEvent.total;\n              updateUploadProgress({\n                progress: Math.floor(100 * loaded / total)\n              });\n            };\n\n            config = {\n              headers: {\n                'Content-Type': 'multipart/form-data'\n              },\n              onUploadProgress: onUploadProgress\n            };\n            _context2.next = 12;\n            return axios.post(activeUpload.preAuth.url, formData, config).then(\n            /*#__PURE__*/\n            function () {\n              var _ref = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee(result) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.t0 = console;\n                        _context.next = 3;\n                        return imgStore.keys();\n\n                      case 3:\n                        _context.t1 = _context.sent;\n\n                        _context.t0.log.call(_context.t0, 's3Upload:: upload done. cleaning up imgStore', _context.t1);\n\n                        _context.next = 7;\n                        return imgStore.removeItem(activeUpload.uploadToken);\n\n                      case 7:\n                        _context.t2 = console;\n                        _context.next = 10;\n                        return imgStore.keys();\n\n                      case 10:\n                        _context.t3 = _context.sent;\n\n                        _context.t2.log.call(_context.t2, 's3Upload:: Cleaned up img store', _context.t3);\n\n                        completeActiveUpload();\n\n                      case 13:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x5) {\n                return _ref.apply(this, arguments);\n              };\n            }()).catch(function (err) {\n              console.error('s3Upload::ERROR');\n              console.error(err);\n              failRetry();\n            });\n\n          case 12:\n            console.log('s3Upload::COMPLETE');\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _s3Upload.apply(this, arguments);\n}\n\nexport function dataURLtoFile(dataurl, filename) {\n  var arr = dataurl.split(',');\n  var mime = arr[0].match(/:(.*?);/)[1];\n  var bstr = atob(arr[1]);\n  var n = bstr.length;\n  var u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new File([u8arr], filename, {\n    type: mime\n  });\n}","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { graphql } from 'react-apollo';\nimport { getWholeSeriesUpdate, allSeriesUpdate, feedUpdate, userSeriesUpdate } from './updateQueries';\nimport { createSeries, newSeriesKeys, newPhotoKeys } from '../mutations';\nimport { photoSummaryKeys } from '../fragments';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nimport { allSeries, userSeries, getMyFeed } from '../queries';\nimport _ from 'lodash';\nexport var withMutation = graphql(createSeries, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      createSeriesMutation: function () {\n        var _createSeriesMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(newSeries, newPhoto, ext) {\n          var _ownProps$currentUser, id, gravatar, gravatarProfile, username, meUserSummary, variables, optimisticResponse, mutationStackId;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _ownProps$currentUser = ownProps.currentUser, id = _ownProps$currentUser.id, gravatar = _ownProps$currentUser.gravatar, gravatarProfile = _ownProps$currentUser.gravatarProfile, username = _ownProps$currentUser.username;\n                  meUserSummary = {\n                    id: id,\n                    gravatar: gravatar,\n                    gravatarProfile: gravatarProfile,\n                    username: username,\n                    __typename: 'UserSummary'\n                  };\n                  if (!newSeries.access) newSeries.access = 'PRIVATE';\n                  variables = {\n                    series: _.pick(newSeries, newSeriesKeys),\n                    photo: _.pick(newPhoto, newPhotoKeys),\n                    ext: ext\n                  };\n                  optimisticResponse = createOptimisticResponse({\n                    meUserSummary: meUserSummary,\n                    newSeries: newSeries,\n                    newPhoto: newPhoto,\n                    ext: ext\n                  });\n                  _context.next = 7;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, createSeries);\n\n                case 7:\n                  mutationStackId = _context.sent;\n                  console.log('createSeriesMutation:: start', {\n                    newSeries: newSeries,\n                    newPhoto: newPhoto,\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    ext: ext\n                  });\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    refetchQueries: [{\n                      query: allSeries,\n                      variables: {\n                        limit: 100\n                      }\n                    }, {\n                      query: userSeries\n                    }, {\n                      query: getMyFeed\n                    }],\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk({}, ownProps.doneCreatingSeries)\n                  }).then(function (data) {\n                    console.log('createSeriesMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function createSeriesMutation(_x, _x2, _x3) {\n          return _createSeriesMutation.apply(this, arguments);\n        }\n\n        return createSeriesMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('createSeriesMutation::updateThunk', {\n      data: data\n    });\n    getWholeSeriesUpdate(store, data.createSeries.series);\n    userSeriesUpdate(store, data.createSeries.series);\n    allSeriesUpdate(store, data.createSeries.series);\n    feedUpdate(store, data.createSeries.series, data.createSeries.series.photos[0]);\n    if (cb) cb(data.createSeries.series.id);\n  };\n};\n\nvar createOptimisticResponse = function createOptimisticResponse(_ref3) {\n  var meUserSummary = _ref3.meUserSummary,\n      newSeries = _ref3.newSeries,\n      newPhoto = _ref3.newPhoto,\n      ext = _ref3.ext;\n  var photoResponse = {\n    id: newPhoto.id,\n    meta: newPhoto.meta || null,\n    seriesId: newSeries.id,\n    createdOn: Date.now().toString(),\n    note: newPhoto.note || null,\n    createdUser: meUserSummary,\n    updatedUser: meUserSummary,\n    createdBy: meUserSummary.id,\n    updatedBy: meUserSummary.id,\n    uploadToken: newPhoto.uploadToken,\n    updatedOn: Date.now().toString(),\n    seriesCreatedBy: meUserSummary.id,\n    takenOn: newPhoto.takenOn,\n    coords: newPhoto.coords || null,\n    tags: newPhoto.tags || [],\n    paths: {\n      base: null,\n      large: null,\n      orig: null,\n      thumb: null,\n      medium: null,\n      __typename: 'Paths'\n    },\n    __typename: 'Photo'\n  };\n\n  var photoResponseSummary = _.pick(photoResponse, photoSummaryKeys);\n\n  return {\n    createSeries: {\n      series: {\n        id: newSeries.id,\n        name: newSeries.name,\n        note: newSeries.note || '',\n        access: newSeries.access,\n        meta: newSeries.meta || null,\n        featured: _objectSpread({}, photoResponseSummary, {\n          __typename: 'PhotoSummary'\n        }),\n        latest: _objectSpread({}, photoResponseSummary, {\n          __typename: 'PhotoSummary'\n        }),\n        seriesStatus: null,\n        coords: newSeries.coords || null,\n        direction: newSeries.direction || null,\n        photoCount: 1,\n        createdUser: meUserSummary,\n        updatedUser: meUserSummary,\n        createdBy: meUserSummary.id,\n        updatedBy: meUserSummary.id,\n        createdOn: Date.now().toString(),\n        updatedOn: Date.now().toString(),\n        watchers: 0,\n        photos: [photoResponse],\n        __typename: 'Series'\n      },\n      preAuth: null,\n      __typename: 'NewSeries'\n    }\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var actionMaker = function actionMaker(actionArr, useConsole) {\n  return actionArr.reduce(function (acc, acStr) {\n    return _objectSpread({}, acc, _defineProperty({}, acStr, useConsole ? function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return console.log(acStr, args);\n    } : function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return alert(\"\".concat(acStr, \"::\") + JSON.stringify(args, null, 2));\n    }));\n  }, {});\n};\nexport var fakeGlobalActions = _objectSpread({}, actionMaker(['onQRButtonClick']), {}, actionMaker(['signOut', 'forceSignIn', 'addToHomeScreen', 'setHomeState', 'onCameraClick', 'onLibraryClick', 'onOfflineMenuClick', 'onSettingsClick', 'resetAllState', 'resetApp', 'dismissInstall', 'setUseOffline', 'onQRButtonClick', 'onMenuBack', 'onAvatarClick', 'onQRCapture'], true));","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nimport { RetryLink } from 'apollo-link-retry';\nimport { config } from '@morphoto/client-common';\nimport Auth from '@aws-amplify/auth';\nimport { ApolloLink } from 'apollo-link';\nimport { stateStore, restoreRequests } from './offline';\nimport { InMemoryCache, ApolloClient } from 'apollo-boost';\nimport { persistCache } from 'apollo-cache-persist';\nvar endpoints = config.endpoints;\nvar LOCAL_STORAGE_TOKEN = 'apollo-token';\nexport var APOLLOSTATES = {\n  INITIALIZING: 'Initializing',\n  AUTHENTICATING: 'Authenticating',\n  LOADING: 'Loading State',\n  APPLY_MUTATIONS: 'Applying history',\n  ERROR: 'ERROR!',\n  DONE: 'DONE'\n};\n\nfunction useGraphQL() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      client = _useState2[0],\n      setClient = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      done = _useState4[0],\n      setDone = _useState4[1];\n\n  var _useState5 = useState(APOLLOSTATES.INITIALIZING),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currState = _useState6[0],\n      setCurrState = _useState6[1];\n\n  useEffect(function () {\n    createApolloClient(function (newClient, newState) {\n      setClient(newClient);\n      setDone((client || newClient) && newState === APOLLOSTATES.DONE);\n      setCurrState(newState);\n    });\n  }, []);\n  return {\n    client: client,\n    done: done,\n    currState: currState\n  };\n}\n\nexport default useGraphQL;\n\nvar getCurrentToken =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var currSession;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return Auth.currentSession();\n\n          case 3:\n            currSession = _context.sent;\n            return _context.abrupt(\"return\", currSession.accessToken.jwtToken);\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", null);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function getCurrentToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction createApolloClient(_x) {\n  return _createApolloClient.apply(this, arguments);\n}\n\nfunction _createApolloClient() {\n  _createApolloClient = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(onChange) {\n    var cache, authLink, httpLink, retry, apolloClient;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            cache = new InMemoryCache({});\n            _context3.prev = 1;\n            onChange(null, APOLLOSTATES.LOADING);\n            _context3.next = 5;\n            return persistCache({\n              cache: cache,\n              storage: stateStore\n            });\n\n          case 5:\n            _context3.next = 12;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](1);\n            console.error('Error restoring Apollo cache', _context3.t0);\n            onChange(null, APOLLOSTATES.ERROR);\n            return _context3.abrupt(\"return\");\n\n          case 12:\n            authLink = setContext(\n            /*#__PURE__*/\n            function () {\n              var _ref3 = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee2(_, _ref2) {\n                var headers, token, newHeaders;\n                return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        headers = _ref2.headers;\n                        _context2.next = 3;\n                        return getCurrentToken();\n\n                      case 3:\n                        token = _context2.sent;\n                        newHeaders = _objectSpread({}, headers, {\n                          authorization: token ? \"Bearer \".concat(token) : ''\n                        });\n\n                        if (token && process.env.NODE_ENV === 'development' && process.env.REACT_APP_FAKE_USER) {\n                          newHeaders.auth_user = process.env.REACT_APP_FAKE_USER;\n                        }\n\n                        return _context2.abrupt(\"return\", {\n                          headers: newHeaders\n                        });\n\n                      case 7:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              return function (_x2, _x3) {\n                return _ref3.apply(this, arguments);\n              };\n            }());\n            httpLink = createHttpLink({\n              uri: endpoints.graphql\n            });\n            retry = new RetryLink({\n              attempts: {\n                max: Infinity,\n                retryIf: function retryIf(error, _operation) {\n                  console.log('GRAPHQL ERRORS', {\n                    error: error,\n                    _operation: _operation\n                  });\n                  return true;\n                }\n              }\n            });\n            apolloClient = new ApolloClient({\n              link: ApolloLink.from([retry, authLink, httpLink]),\n              tokenName: LOCAL_STORAGE_TOKEN,\n              addTypename: true,\n              cache: cache,\n              connectToDevTools: process.env.NODE_ENV === 'development'\n            });\n            onChange(null, APOLLOSTATES.APPLY_MUTATIONS);\n            _context3.next = 19;\n            return restoreRequests(apolloClient);\n\n          case 19:\n            onChange(apolloClient, APOLLOSTATES.DONE);\n\n          case 20:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 7]]);\n  }));\n  return _createApolloClient.apply(this, arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _default = {\n  admin: {\n    series: {\n      'create:own': ['*'],\n      'read:any': ['*'],\n      'update:any': ['*'],\n      'delete:any': ['*']\n    },\n    photo: {\n      'create:any': ['*'],\n      'read:any': ['*'],\n      'update:any': ['*'],\n      'delete:any': ['*']\n    }\n  },\n  nonuser: {\n    photo: {\n      'read:any': ['*'],\n      'update:any': ['*'],\n      'delete:any': ['*']\n    },\n    series_public: {\n      'read:any': ['*']\n    },\n    series_open: {\n      'read:any': ['*']\n    }\n  },\n  user: {\n    series: {\n      'create:own': ['*'],\n      'read:own': ['*'],\n      'update:own': ['*'],\n      'delete:own': ['*']\n    },\n    series_public: {\n      'read:any': ['*']\n    },\n    series_open: {\n      'read:any': ['*'],\n      'update:any': ['photos']\n    },\n    photo: {\n      'read:any': ['*'],\n      'create:own': ['*'],\n      'update:own': ['*'],\n      'delete:own': ['*']\n    }\n  }\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.timestampToHTML5Input = timestampToHTML5Input;\nexports.HTML5InputToTimestamp = HTML5InputToTimestamp;\nexports.convertJSDatetoTimestamp = exports.parseDate = exports.formatDateAgo = exports.fixParseDate = exports.formatDate = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _util = require(\"./util\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar formatDate = function formatDate(utctimestamp) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'LLLL';\n  if (utctimestamp && !(0, _util.isNumeric)(utctimestamp)) console.error('formatDate: utctimestamp must be numeric');\n  var val = utctimestamp || Date.now();\n  return (0, _moment[\"default\"])(val, 'x').format(format);\n};\n\nexports.formatDate = formatDate;\nvar EARLY_DATE = 344505600000;\n\nvar fixParseDate = function fixParseDate(inTimestamp) {\n  var isGMT = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var retVal = null;\n\n  if (inTimestamp !== null && inTimestamp !== undefined) {\n    try {\n      var jsDate = new Date(inTimestamp);\n      retVal = jsDate.getTime();\n\n      if ((0, _util.isNumeric)(inTimestamp) && (!retVal || retVal < EARLY_DATE)) {\n        retVal = parseInt(inTimestamp, 10);\n        if (retVal > 0) retVal = retVal * 1000;\n\n        if (!isGMT) {\n          var tzOffset = jsDate.getTimezoneOffset();\n          retVal = retVal + tzOffset * 60 * 1000;\n        }\n\n        console.log(\"fixParseDate: Fixing datetime: \".concat(inTimestamp, \" => \").concat(retVal));\n      }\n\n      retVal = String(retVal);\n    } catch (e) {\n      console.error('fixParseDate: Error parsing datetime:' + inTimestamp);\n    }\n  }\n\n  return retVal;\n};\n\nexports.fixParseDate = fixParseDate;\n\nvar formatDateAgo = function formatDateAgo(utctimestamp) {\n  var val = utctimestamp || Date.now();\n  return (0, _moment[\"default\"])(val, 'x').fromNow();\n};\n\nexports.formatDateAgo = formatDateAgo;\n\nvar parseDate = function parseDate(utctimestamp) {\n  return (0, _moment[\"default\"])(utctimestamp, 'x');\n};\n\nexports.parseDate = parseDate;\n\nvar convertJSDatetoTimestamp = function convertJSDatetoTimestamp(jsDate) {\n  return _moment[\"default\"].utc(jsDate).format('x');\n};\n\nexports.convertJSDatetoTimestamp = convertJSDatetoTimestamp;\n\nfunction timestampToHTML5Input(utctimestamp) {\n  return (0, _moment[\"default\"])(utctimestamp, 'x').format('YYYY-MM-DDTkk:mm');\n}\n\nfunction HTML5InputToTimestamp(isoStr) {\n  return (0, _moment[\"default\"])(new Date(isoStr), 'YYYY-MM-DDTkk:mm').format('x');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatNum = formatNum;\nexports.clearSelection = clearSelection;\nexports.isObjectWithKeys = isObjectWithKeys;\nexports.makeDomArray = makeDomArray;\nexports.capitalizeFirstLetter = capitalizeFirstLetter;\nexports.numericArrayCompare = numericArrayCompare;\nexports.decodeUnbufferedBase64 = decodeUnbufferedBase64;\nexports.encodeUnbufferedBase64 = encodeUnbufferedBase64;\nexports.isObject = isObject;\nexports.arrToObj = arrToObj;\nexports.getRandomArbitraryInt = getRandomArbitraryInt;\nexports.debounce = debounce;\nexports.chunkArray = exports.base64toJSON = exports.json2base64 = exports.urlizeb64 = exports.isNumeric = void 0;\n\nvar _numeral = _interopRequireDefault(require(\"numeral\"));\n\nvar _zlib = _interopRequireDefault(require(\"zlib\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar isNumeric = function isNumeric(num) {\n  try {\n    return !isNaN(parseFloat(num)) && isFinite(num);\n  } catch (e) {\n    return false;\n  }\n};\n\nexports.isNumeric = isNumeric;\n\nvar urlizeb64 = function urlizeb64(x) {\n  return x.replace('+', '-').replace('/', '_').replace(/=+$/, '');\n};\n\nexports.urlizeb64 = urlizeb64;\n\nfunction formatNum(num, precision) {\n  try {\n    var precstr = precision > 0 ? '.' + Array(precision + 1).join('0') : '';\n    var newprec = isNumeric(num) ? (0, _numeral[\"default\"])(num).format(\"0,0\".concat(precstr)) : num;\n    return newprec.replace(/(\\.(0{0,1}[1-9]*))0+$/, '$1');\n  } catch (e) {\n    return num;\n  }\n}\n\nfunction clearSelection() {\n  if (document.selection && document.selection.empty) {\n    document.selection.empty();\n  } else if (window.getSelection) {\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n  }\n}\n\nfunction isObjectWithKeys(obj) {\n  return _typeof(obj) === 'object' && obj !== null && Object.keys(obj).length > 0;\n}\n\nfunction makeDomArray(domnode) {\n  if (!domnode) return [];\n  var keys = Object.keys(domnode);\n  if (keys.length > 1 || keys.length === 0) throw Error('Expected nester domnode structure.');\n  if (!domnode) return [];\n  if (!domnode[keys[0]]) return [];\n  return Array.isArray(domnode[keys[0]]) ? domnode[keys[0]] : [domnode[keys[0]]];\n}\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction numericArrayCompare(arr1, arr2) {\n  if (!Array.isArray(arr1) || !Array.isArray(arr2)) return false;\n  if (arr1.length !== arr2.length) return false;\n  return !arr1.some(function (el, idx) {\n    return el !== arr2[idx];\n  });\n}\n\nfunction decodeUnbufferedBase64(hash) {\n  var missingPadding = hash.length % 4;\n\n  if (missingPadding !== 0) {\n    var newhash = hash + Array(4 - missingPadding).join('=');\n    return Buffer.from(newhash, 'base64').toString();\n  } else {\n    return Buffer.from(hash, 'base64').toString();\n  }\n}\n\nfunction encodeUnbufferedBase64(str) {\n  return urlizeb64(Buffer.from(str).toString('base64'));\n}\n\nfunction isObject(o) {\n  return o instanceof Object && o.constructor === Object;\n}\n\nfunction arrToObj(data) {\n  for (var key in data) {\n    if (data.hasOwnProperty(key)) {\n      var keyDat = data[key];\n\n      if (keyDat._) {\n        keyDat.val = keyDat._;\n        delete keyDat._;\n      }\n\n      if (keyDat.$) {\n        keyDat.attr = keyDat.$;\n        delete keyDat.$;\n      }\n\n      if (_typeof(keyDat) === 'object') {\n        data[key] = arrToObj(keyDat);\n\n        if (Array.isArray(keyDat) && keyDat.length === 1 && typeof keyDat[0] === 'string') {\n          if (isNumeric(keyDat[0])) data[key] = Number(keyDat[0]);else data[key] = keyDat[0].replace(/\\\\/g, '/');\n        } else if (Array.isArray(keyDat) && keyDat.length === 1 && isObject(keyDat[0]) && Object.keys(keyDat[0]).length === 1) {\n          data[key] = keyDat[0][Object.keys(keyDat[0])[0]];\n        }\n\n        if (_typeof(data[key]) && data[key].length === 0) {\n          delete data[key];\n        }\n\n        if (typeof data[key] === 'string' && isNumeric(data[key])) data[key] = Number(data[key]);\n      }\n    }\n  }\n\n  return data;\n}\n\nvar json2base64 = function json2base64(text) {\n  return new Promise(function (resolve, reject) {\n    _zlib[\"default\"].gzip(JSON.stringify(text), function (err, data) {\n      if (err) reject(err);else resolve(data.toString('base64'));\n    });\n  });\n};\n\nexports.json2base64 = json2base64;\n\nvar base64toJSON = function base64toJSON(b64String) {\n  var buff = Buffer.from(b64String, 'base64');\n  return new Promise(function (resolve, reject) {\n    _zlib[\"default\"].gunzip(buff, function (err, data) {\n      if (err) reject(err);else resolve(JSON.parse(data.toString()));\n    });\n  });\n};\n\nexports.base64toJSON = base64toJSON;\n\nvar chunkArray = function chunkArray(arr, chunkSize) {\n  var result = [];\n\n  for (var i = 0; i < arr.length; i += chunkSize) {\n    result.push(arr.slice(i, i + chunkSize));\n  }\n\n  return result;\n};\n\nexports.chunkArray = chunkArray;\n\nfunction getRandomArbitraryInt(min, max) {\n  return parseInt(Math.random() * (max - min) + min, 10);\n}\n\nfunction debounce(func, wait, immediate) {\n  var _this = this;\n\n  var timeout = null;\n  return function () {\n    for (var _len = arguments.length, innerArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      innerArgs[_key] = arguments[_key];\n    }\n\n    var context = _this;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, innerArgs);\n      }\n    }, wait);\n\n    if (callNow) {\n      func.apply(context, innerArgs);\n    }\n  };\n}\n\n;","export default {\n  '@global': {\n    '.mapboxgl-map': {\n      font: '12px/20px \\'Helvetica Neue\\', Arial, Helvetica, sans-serif',\n      overflow: 'hidden',\n      position: 'relative',\n      W: 'rgba(0, 0, 0, 0)'\n    },\n    '.mapboxgl-map:-webkit-full-screen': {\n      width: '100%',\n      height: '100%'\n    },\n    '.mapboxgl-canary': {\n      backgroundColor: 'salmon'\n    },\n    '.mapboxgl-canvas-container.mapboxgl-interactive, .mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass': {\n      cursor: 'grab',\n      fallbacks: [{\n        M: 'none'\n      }, {\n        cursor: '-moz-grab'\n      }, {\n        cursor: '-webkit-grab'\n      }],\n      M: 'none',\n      W: 'none',\n      userSelect: 'none'\n    },\n    '.mapboxgl-canvas-container.mapboxgl-interactive:active, .mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass:active': {\n      cursor: 'grabbing',\n      fallbacks: [{\n        cursor: '-moz-grabbing'\n      }, {\n        cursor: '-webkit-grabbing'\n      }]\n    },\n    '.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate, .mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas': {\n      touchAction: 'pan-x pan-y'\n    },\n    '.mapboxgl-canvas-container.mapboxgl-touch-drag-pan, .mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas': {\n      touchAction: 'pinch-zoom'\n    },\n    '.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan, .mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas': {\n      touchAction: 'none'\n    },\n    '.mapboxgl-ctrl-top-left, .mapboxgl-ctrl-top-right, .mapboxgl-ctrl-bottom-left, .mapboxgl-ctrl-bottom-right': {\n      position: 'absolute',\n      pointerEvents: 'none',\n      zIndex: '2'\n    },\n    '.mapboxgl-ctrl-top-left': {\n      top: '0',\n      left: '0'\n    },\n    '.mapboxgl-ctrl-top-right': {\n      top: '0',\n      right: '0'\n    },\n    '.mapboxgl-ctrl-bottom-left': {\n      bottom: '0',\n      left: '0'\n    },\n    '.mapboxgl-ctrl-bottom-right': {\n      right: '0',\n      bottom: '0'\n    },\n    '.mapboxgl-ctrl': {\n      clear: 'both',\n      pointerEvents: 'auto',\n      transform: 'translate(0, 0)'\n    },\n    '.mapboxgl-ctrl-top-left .mapboxgl-ctrl': {\n      margin: '10px 0 0 10px',\n      float: 'left'\n    },\n    '.mapboxgl-ctrl-top-right .mapboxgl-ctrl': {\n      margin: '10px 10px 0 0',\n      float: 'right'\n    },\n    '.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl': {\n      margin: '0 0 10px 10px',\n      float: 'left'\n    },\n    '.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl': {\n      margin: '0 10px 10px 0',\n      float: 'right'\n    },\n    '.mapboxgl-ctrl-group': {\n      borderRadius: 4,\n      overflow: 'hidden',\n      background: '#fff'\n    },\n    '.mapboxgl-ctrl-group:not(:empty)': {\n      M: '0 0 2px rgba(0, 0, 0, 0.1)',\n      W: '0 0 2px rgba(0, 0, 0, 0.1)',\n      boxShadow: '0 0 0 2px rgba(0, 0, 0, 0.1)'\n    },\n    '.mapboxgl-ctrl-group > button': {\n      width: 30,\n      height: 30,\n      display: 'block',\n      padding: '0',\n      outline: 'none',\n      border: '0',\n      boxSizing: 'border-box',\n      backgroundColor: 'transparent',\n      cursor: 'pointer'\n    },\n    '.mapboxgl-ctrl-group > button + button': {\n      borderTop: '1px solid #ddd'\n    },\n    '.mapboxgl-ctrl > button::-moz-focus-inner': {\n      border: '0',\n      padding: '0'\n    },\n    '.mapboxgl-ctrl > button:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.05)'\n    },\n    '.mapboxgl-ctrl-icon, .mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow': {\n      speak: 'none',\n      W: 'antialiased',\n      M: 'grayscale'\n    },\n    '.mapboxgl-ctrl-icon': {\n      padding: 5\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-icon-disabled': {\n      opacity: '0.25',\n      borderColor: '#373737'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath style=\\'fill:%23333333;\\' d=\\'m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath style=\\'fill:%23333333;\\' d=\\'M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%23333\\'%3E %3Cpath d=\\'M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%23aaa\\'%3E %3Cpath d=\\'M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%2333b5e5\\'%3E %3Cpath d=\\'M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%23e58978\\'%3E %3Cpath d=\\'M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%2333b5e5\\'%3E %3Cpath d=\\'M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\' fill=\\'%23e54e33\\'%3E %3Cpath d=\\'M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z\\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting': {\n      W: 'mapboxgl-spin 2s infinite linear',\n      M: 'mapboxgl-spin 2s infinite linear',\n      O: 'mapboxgl-spin 2s infinite linear',\n      fallbacks: [{\n        M: 'mapboxgl-spin 2s infinite linear'\n      }],\n      animation: 'mapboxgl-spin 2s infinite linear'\n    },\n    '@keyframes mapboxgl-spin': {\n      '0%': {\n        W: 'rotate(0deg)',\n        M: 'rotate(0deg)',\n        O: 'rotate(0deg)',\n        transform: 'rotate(0deg)'\n      },\n      '100%': {\n        W: 'rotate(360deg)',\n        M: 'rotate(360deg)',\n        O: 'rotate(360deg)',\n        transform: 'rotate(360deg)'\n      }\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath d=\\'M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z \\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink': {\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath style=\\'fill:%23000000;\\' d=\\'M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z \\'/%3E %3C/svg%3E\")'\n    },\n    '.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow': {\n      width: 20,\n      height: 20,\n      margin: 5,\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpolygon fill=\\'%23333333\\' points=\\'6,9 10,1 14,9\\'/%3E %3Cpolygon fill=\\'%23CCCCCC\\' points=\\'6,11 10,19 14,11 \\'/%3E %3C/svg%3E\")',\n      backgroundRepeat: 'no-repeat',\n      display: 'inline-block'\n    },\n    'a.mapboxgl-ctrl-logo': {\n      width: 85,\n      height: 21,\n      margin: '0 0 -3px -3px',\n      display: 'block',\n      backgroundRepeat: 'no-repeat',\n      cursor: 'pointer',\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3C?xml version=\\'1.0\\' encoding=\\'utf-8\\'?%3E%3Csvg version=\\'1.1\\' id=\\'Layer_1\\' xmlns=\\'http://www.w3.org/2000/svg\\' xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' x=\\'0px\\' y=\\'0px\\' viewBox=\\'0 0 84.49 21\\' style=\\'enable-background:new 0 0 84.49 21;\\' xml:space=\\'preserve\\'%3E%3Cg%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z\\'/%3E %3Cpath class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' d=\\'M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z\\'/%3E %3Cpath class=\\'st1\\' style=\\'opacity:0.35; enable-background:new;\\' d=\\'M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z\\'/%3E %3Cpolygon class=\\'st0\\' style=\\'opacity:0.9; fill: %23FFFFFF; enable-background: new;\\' points=\\'14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 \\'/%3E%3C/g%3E%3C/svg%3E\")'\n    },\n    'a.mapboxgl-ctrl-logo.mapboxgl-compact': {\n      width: 21,\n      height: 21,\n      backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3C?xml version=\\'1.0\\' encoding=\\'utf-8\\'?%3E %3Csvg version=\\'1.1\\' id=\\'Layer_1\\' xmlns=\\'http://www.w3.org/2000/svg\\' xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' x=\\'0px\\' y=\\'0px\\' viewBox=\\'0 0 21 21\\' style=\\'enable-background:new 0 0 21 21;\\' xml:space=\\'preserve\\'%3E%3Cg transform=\\'translate(0,0.01)\\'%3E%3Cpath d=\\'m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z\\' style=\\'opacity:0.9',\n      fill: '%23ffffff',\n      enableBackground: 'new\\' class=\\'st0\\'/%3E%3C/g%3E%3C/svg%3E\")',\n      fallbacks: [{\n        enableBackground: 'new\\' class=\\'st1\\'/%3E%3Cpolygon points=\\'11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 \\' style=\\'opacity:0.9'\n      }, {\n        fill: '%23ffffff'\n      }, {\n        enableBackground: 'new\\' class=\\'st1\\'/%3E%3Cpath d=\\'M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z\\' style=\\'opacity:0.35'\n      }, {\n        enableBackground: 'new\\' class=\\'st0\\'/%3E%3Cpath d=\\'M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z\\' style=\\'opacity:0.35'\n      }]\n    },\n    '.mapboxgl-ctrl.mapboxgl-ctrl-attrib': {\n      padding: '0 5px',\n      backgroundColor: 'rgba(255, 255, 255, 0.5)',\n      margin: '0'\n    },\n    '@media screen': {\n      '.mapboxgl-ctrl-attrib.mapboxgl-compact': {\n        minHeight: 20,\n        padding: '0',\n        margin: 10,\n        position: 'relative',\n        backgroundColor: '#fff',\n        borderRadius: '3px 12px 12px 3px'\n      },\n      '.mapboxgl-ctrl-attrib.mapboxgl-compact:hover': {\n        padding: '2px 24px 2px 4px',\n        visibility: 'visible',\n        marginTop: 6\n      },\n      '.mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover, .mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover': {\n        padding: '2px 4px 2px 24px',\n        borderRadius: '12px 3px 3px 12px'\n      },\n      '.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner': {\n        display: 'none'\n      },\n      '.mapboxgl-ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner': {\n        display: 'block'\n      },\n      '.mapboxgl-ctrl-attrib.mapboxgl-compact::after': {\n        content: '\\'\\'',\n        cursor: 'pointer',\n        position: 'absolute',\n        backgroundImage: 'url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox=\\'0 0 20 20\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath fill=\\'%23333333\\' fill-rule=\\'evenodd\\' d=\\'M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0\\'/%3E %3C/svg%3E\")',\n        backgroundColor: 'rgba(255, 255, 255, 0.5)',\n        width: 24,\n        height: 24,\n        boxSizing: 'border-box',\n        borderRadius: 12\n      },\n      '.mapboxgl-ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after': {\n        bottom: '0',\n        right: '0'\n      },\n      '.mapboxgl-ctrl-top-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after': {\n        top: '0',\n        right: '0'\n      },\n      '.mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after': {\n        top: '0',\n        left: '0'\n      },\n      '.mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after': {\n        bottom: '0',\n        left: '0'\n      }\n    },\n    '.mapboxgl-ctrl-attrib a': {\n      color: 'rgba(0, 0, 0, 0.75)',\n      textDecoration: 'none'\n    },\n    '.mapboxgl-ctrl-attrib a:hover': {\n      color: 'inherit',\n      textDecoration: 'underline'\n    },\n    '.mapboxgl-ctrl-attrib .mapbox-improve-map': {\n      fontWeight: 'bold',\n      marginLeft: 2\n    },\n    '.mapboxgl-attrib-empty': {\n      display: 'none'\n    },\n    '.mapboxgl-ctrl-scale': {\n      backgroundColor: 'rgba(255, 255, 255, 0.75)',\n      fontSize: 10,\n      borderWidth: 'medium 2px 2px',\n      borderStyle: 'none solid solid',\n      borderColor: '#333',\n      padding: '0 5px',\n      color: '#333',\n      boxSizing: 'border-box'\n    },\n    '.mapboxgl-popup': {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-flex'\n      }],\n      willChange: 'transform',\n      pointerEvents: 'none'\n    },\n    '.mapboxgl-popup-anchor-top, .mapboxgl-popup-anchor-top-left, .mapboxgl-popup-anchor-top-right': {\n      W: 'column',\n      flexDirection: 'column'\n    },\n    '.mapboxgl-popup-anchor-bottom, .mapboxgl-popup-anchor-bottom-left, .mapboxgl-popup-anchor-bottom-right': {\n      W: 'column-reverse',\n      flexDirection: 'column-reverse'\n    },\n    '.mapboxgl-popup-anchor-left': {\n      W: 'row',\n      flexDirection: 'row'\n    },\n    '.mapboxgl-popup-anchor-right': {\n      W: 'row-reverse',\n      flexDirection: 'row-reverse'\n    },\n    '.mapboxgl-popup-tip': {\n      width: '0',\n      height: '0',\n      border: '10px solid transparent',\n      zIndex: '1'\n    },\n    '.mapboxgl-popup-anchor-top .mapboxgl-popup-tip': {\n      W: 'center',\n      alignSelf: 'center',\n      borderTop: 'none',\n      borderBottomColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip': {\n      W: 'flex-start',\n      alignSelf: 'flex-start',\n      borderTop: 'none',\n      borderLeft: 'none',\n      borderBottomColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip': {\n      W: 'flex-end',\n      alignSelf: 'flex-end',\n      borderTop: 'none',\n      borderRight: 'none',\n      borderBottomColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip': {\n      W: 'center',\n      alignSelf: 'center',\n      borderBottom: 'none',\n      borderTopColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip': {\n      W: 'flex-start',\n      alignSelf: 'flex-start',\n      borderBottom: 'none',\n      borderLeft: 'none',\n      borderTopColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip': {\n      W: 'flex-end',\n      alignSelf: 'flex-end',\n      borderBottom: 'none',\n      borderRight: 'none',\n      borderTopColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-left .mapboxgl-popup-tip': {\n      W: 'center',\n      alignSelf: 'center',\n      borderLeft: 'none',\n      borderRightColor: '#fff'\n    },\n    '.mapboxgl-popup-anchor-right .mapboxgl-popup-tip': {\n      W: 'center',\n      alignSelf: 'center',\n      borderRight: 'none',\n      borderLeftColor: '#fff'\n    },\n    '.mapboxgl-popup-close-button': {\n      position: 'absolute',\n      right: '0',\n      top: '0',\n      border: '0',\n      borderRadius: '0 3px 0 0',\n      cursor: 'pointer',\n      backgroundColor: 'transparent'\n    },\n    '.mapboxgl-popup-close-button:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.05)'\n    },\n    '.mapboxgl-popup-content': {\n      position: 'relative',\n      background: '#fff',\n      borderRadius: 3,\n      boxShadow: '0 1px 2px rgba(0, 0, 0, 0.1)',\n      padding: '10px 10px 15px',\n      pointerEvents: 'auto'\n    },\n    '.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content': {\n      borderTopLeftRadius: '0'\n    },\n    '.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content': {\n      borderTopRightRadius: '0'\n    },\n    '.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content': {\n      borderBottomLeftRadius: '0'\n    },\n    '.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content': {\n      borderBottomRightRadius: '0'\n    },\n    '.mapboxgl-marker': {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      willChange: 'transform'\n    },\n    '.mapboxgl-user-location-dot': {\n      backgroundColor: '#1da1f2',\n      width: 15,\n      height: 15,\n      borderRadius: '50%',\n      boxShadow: '0 0 2px rgba(0, 0, 0, 0.25)'\n    },\n    '.mapboxgl-user-location-dot::before': {\n      backgroundColor: '#1da1f2',\n      content: '\\'\\'',\n      width: 15,\n      height: 15,\n      borderRadius: '50%',\n      position: 'absolute',\n      W: 'mapboxgl-user-location-dot-pulse 2s infinite',\n      M: 'mapboxgl-user-location-dot-pulse 2s infinite',\n      fallbacks: [{\n        M: 'mapboxgl-user-location-dot-pulse 2s infinite'\n      }],\n      animation: 'mapboxgl-user-location-dot-pulse 2s infinite'\n    },\n    '.mapboxgl-user-location-dot::after': {\n      borderRadius: '50%',\n      border: '2px solid #fff',\n      content: '\\'\\'',\n      height: 19,\n      left: -2,\n      position: 'absolute',\n      top: -2,\n      width: 19,\n      boxSizing: 'border-box'\n    },\n    '@keyframes mapboxgl-user-location-dot-pulse': {\n      '0%': {\n        W: 'scale(1)',\n        opacity: '1',\n        M: 'scale(1)',\n        transform: 'scale(1)'\n      },\n      '70%': {\n        W: 'scale(3)',\n        opacity: '0',\n        M: 'scale(3)',\n        transform: 'scale(3)'\n      },\n      '100%': {\n        W: 'scale(1)',\n        opacity: '0',\n        M: 'scale(1)',\n        transform: 'scale(1)'\n      }\n    },\n    '.mapboxgl-user-location-dot-stale': {\n      backgroundColor: '#aaa'\n    },\n    '.mapboxgl-user-location-dot-stale::after': {\n      display: 'none'\n    },\n    '.mapboxgl-crosshair, .mapboxgl-crosshair .mapboxgl-interactive, .mapboxgl-crosshair .mapboxgl-interactive:active': {\n      cursor: 'crosshair'\n    },\n    '.mapboxgl-boxzoom': {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      width: '0',\n      height: '0',\n      background: '#fff',\n      border: '2px dotted #202020',\n      opacity: '0.5'\n    },\n    '@media print': {\n      '.mapbox-improve-map': {\n        display: 'none'\n      }\n    }\n  }\n};","export default {\n  '@global': {\n    '@font-face': {\n      fontFamily: '\\'Roboto\\'',\n      fontStyle: 'italic',\n      fontDisplay: 'swap',\n      fontWeight: '900',\n      src: 'local(\\'Roboto Black italic\\'),\\n    local(\\'Roboto-Blackitalic\\'),\\n    url(\\'./files/roboto-latin-900italic.woff2\\') format(\\'woff2\\'), \\n    url(\\'./files/roboto-latin-900italic.woff\\') format(\\'woff\\')',\n      '': undefined\n    }\n  }\n};","export default (function (theme) {\n  return {\n    '@global': {\n      '.mapboxgl-ctrl-group': {\n        position: 'absolute',\n        top: '70px',\n        left: '10px',\n        opacity: '0.8'\n      }\n    },\n    mapContainer: {\n      height: '100%',\n      width: '100%'\n    }\n  };\n});","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"FakeData\", {\n  enumerable: true,\n  get: function get() {\n    return _fakedata[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"fakePastDate\", {\n  enumerable: true,\n  get: function get() {\n    return _fakedata.fakePastDate;\n  }\n});\nObject.defineProperty(exports, \"randomLocation\", {\n  enumerable: true,\n  get: function get() {\n    return _fakedata.randomLocation;\n  }\n});\nexports.random = void 0;\n\nvar _fakedata = _interopRequireWildcard(require(\"./fakedata\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar random = require('./random');\n\nexports.random = random;","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport localforage from 'localforage';\nimport createSeries from './mutations/createSeries';\nimport uuidv4 from 'uuid/v4';\nlocalforage.config({\n  storeName: 'MorPhoto',\n  description: 'image blobs'\n});\nexport var imgStore = localforage.createInstance({\n  name: 'imgStore'\n});\nexport var stateStore = localforage.createInstance({\n  name: 'stateStore'\n});\nvar OFFLINEMUTATIONS = 'offlineMutations';\n\nfunction getPendingPromise() {\n  return stateStore.getItem(OFFLINEMUTATIONS).then(function (mutations) {\n    console.log('offline::getPendingPromise', JSON.parse(mutations) || []);\n    return JSON.parse(mutations) || [];\n  });\n}\n\nfunction setPendingPromise(mutations) {\n  console.log('offline::setPendingPromise', mutations);\n  return stateStore.setItem(OFFLINEMUTATIONS, JSON.stringify(mutations));\n}\n\nexport function pushMutationPromise(params, mutation, context) {\n  var id = uuidv4();\n  return getPendingPromise().then(function (mutations) {\n    return mutations.concat({\n      id: id,\n      params: params,\n      mutation: mutation,\n      context: context\n    });\n  }).then(function (data) {\n    console.log('offline::pushMutationPromise', data);\n    return data;\n  }).then(setPendingPromise).then(function () {\n    return id;\n  });\n}\nexport function popMutationPromise(id) {\n  return getPendingPromise().then(function (mutations) {\n    return mutations.filter(function (pm) {\n      return pm.id !== id;\n    });\n  }).then(function (data) {\n    console.log('offline::popMutationPromise', data);\n    return data;\n  }).then(setPendingPromise);\n}\n\nfunction updateHandler(resp, context) {\n  console.log('offline::updateHandler', {\n    resp: resp,\n    context: context\n  });\n  if (resp.data.createSeries) return createSeries.updateThunk(context);else return function () {};\n}\n\nfunction proxyUpdateForId(id, context) {\n  return function (proxy, resp) {\n    updateHandler(resp, context)(proxy, resp);\n    if (!resp.data.__optimistic) return popMutationPromise(id);else return Promise.resolve();\n  };\n}\n\nexport function restoreRequests(client) {\n  return getPendingPromise().then(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(mutations) {\n      var idx, pendingMutation, id, params, mutation, context;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              idx = 0;\n\n            case 1:\n              if (!(idx < mutations.length)) {\n                _context.next = 13;\n                break;\n              }\n\n              pendingMutation = mutations[idx];\n              console.log('offline::restoreRequests', mutations, pendingMutation);\n              id = pendingMutation.id, params = pendingMutation.params, mutation = pendingMutation.mutation, context = pendingMutation.context;\n              params.optimisticResponse.__optimistic = true;\n              params.update = proxyUpdateForId(id, context);\n              params.mutation = mutation;\n              _context.next = 10;\n              return client.mutate(params).catch(function (err) {\n                console.error('Error replaying mutation', err);\n              });\n\n            case 10:\n              idx++;\n              _context.next = 1;\n              break;\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlaceIcon from '@material-ui/icons/Place';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      textAlign: 'center'\n    },\n    placeAvatar: {\n      color: theme.palette.primary.contrastText,\n      border: \"2px solid \".concat(theme.palette.primary.contrastText),\n      background: theme.palette.text.primary,\n      margin: 'auto'\n    },\n    placeIcon: {}\n  };\n});\n\nvar FindOnMapButton = function FindOnMapButton(_ref) {\n  var _onClick = _ref.onClick;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(Avatar, {\n    className: classes.placeAvatar\n  }, React.createElement(IconButton, {\n    color: \"inherit\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _onClick();\n    }\n  }, React.createElement(PlaceIcon, {\n    color: \"inherit\"\n  }))));\n};\n\nFindOnMapButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default FindOnMapButton;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EmailIcon from '@material-ui/icons/Email';\nimport { RawSVG } from '@morphoto/icons/dist/AppLogo';\nimport { config } from '@morphoto/client-common';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    dialogContent: {\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      height: '100%'\n    },\n    iconContainer: {\n      flex: '1 1 10%',\n      textAlign: 'center',\n      padding: theme.spacing(1, 0, 1, 0)\n    },\n    icon: {\n      height: 200,\n      margin: '0 auto',\n      border: \"1px solid \".concat(theme.palette.grey[100]),\n      background: theme.palette.grey[100],\n      borderRadius: '50%',\n      '& path': {\n        fill: 'url(#my-cool-gradient) #447799;'\n      }\n    },\n    title: {\n      textAlign: 'center'\n    },\n    stop1: {\n      stopColor: theme.palette.rose.main\n    },\n    stop2: {\n      stopColor: theme.palette.redorange.main\n    },\n    spacer: {\n      flex: '1 1'\n    },\n    buttonIcon: {\n      marginRight: theme.spacing(1)\n    },\n    scrollText: {\n      flex: '1 1 60%',\n      overflowX: 'hidden',\n      overflowY: 'scroll',\n      whiteSpace: 'pre-line',\n      paddingBottom: theme.spacing(1)\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar AboutApp = function AboutApp(_ref) {\n  var onClose = _ref.onClose,\n      open = _ref.open;\n  var classes = useStyles();\n  return React.createElement(Dialog, {\n    className: classes.root,\n    onClose: onClose,\n    fullWidth: true,\n    open: open,\n    PaperProps: {\n      style: {}\n    },\n    maxWidth: \"xl\",\n    \"aria-labelledby\": \"confirmation-dialog-title\"\n  }, React.createElement(DialogContent, {\n    className: classes.dialogContent\n  }, React.createElement(Container, {\n    maxWidth: \"xs\"\n  }, React.createElement(\"div\", {\n    className: classes.iconContainer\n  }, React.createElement(\"svg\", {\n    className: classes.icon,\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    role: \"presentation\"\n  }, RawSVG), React.createElement(\"svg\", {\n    style: {\n      width: 0,\n      height: 0,\n      position: 'absolute'\n    },\n    \"aria-hidden\": \"true\",\n    focusable: \"false\"\n  }, React.createElement(\"linearGradient\", {\n    id: \"my-cool-gradient\",\n    x2: \"1\",\n    y2: \"1\"\n  }, React.createElement(\"stop\", {\n    offset: \"0%\",\n    stopColor: \"#447799\",\n    className: classes.stop1\n  }), React.createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#112266\",\n    className: classes.stop2\n  })))), React.createElement(\"div\", {\n    className: classes.title\n  }, React.createElement(Typography, {\n    component: \"div\",\n    variant: \"h5\"\n  }, \"MorPhoto\"), React.createElement(Typography, {\n    component: \"div\",\n    variant: \"caption\"\n  }, \"Version:  \", config.version, \" \", React.createElement(\"em\", null, \"BETA\"))), React.createElement(Typography, {\n    className: classes.scrollText,\n    component: \"div\",\n    variant: \"caption\"\n  }), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Button, {\n    fullWidth: true,\n    href: \"mailto:\".concat(config.contact),\n    color: \"primary\",\n    variant: \"outlined\"\n  }, React.createElement(EmailIcon, {\n    className: classes.buttonIcon\n  }), \"Get in touch\"))), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: onClose,\n    color: \"inherit\"\n  }, \"Close\")));\n};\n\nAboutApp.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired\n};\nexport default AboutApp;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport List from '@material-ui/core/List';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SettingsBackupRestore from '@material-ui/icons/SettingsBackupRestore';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { DeleteDialog } from '@morphoto/modals';\nimport { AppContext } from '@morphoto/client-common';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    nuclear: {\n      color: 'red'\n    }\n  };\n});\n\nvar AppSettings = function AppSettings(_ref) {\n  var onMenuBack = _ref.onMenuBack;\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      deleteOpen = _useState2[0],\n      setDeleteOpen = _useState2[1];\n\n  var _useContext = useContext(AppContext),\n      globalActions = _useContext.globalActions;\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, \"Offline data manager\"))), React.createElement(\"div\", {\n    className: classes.mapWrapper\n  }, React.createElement(List, null, React.createElement(ListItem, {\n    button: true,\n    onClick: function onClick() {\n      return setDeleteOpen({\n        action: globalActions.resetAllState,\n        title: 'Reset App State',\n        message: 'Might resolve a temporary glitch. Unfortunately this will wipe your upload queue.'\n      });\n    }\n  }, React.createElement(ListItemIcon, null, React.createElement(SettingsBackupRestore, null)), React.createElement(ListItemText, {\n    primary: 'Reset app state',\n    secondary: 'Might resolve a temporary glitch.'\n  })), React.createElement(ListItem, {\n    button: true,\n    className: classes.nuclear,\n    onClick: function onClick() {\n      return setDeleteOpen({\n        action: globalActions.resetApp,\n        title: 'RESET ALL LOCAL DATA',\n        message: 'All local images and data will be reset and you will be logged out. BE VERY SURE ABOUT THIS'\n      });\n    }\n  }, React.createElement(ListItemIcon, {\n    color: \"inherit\"\n  }, React.createElement(WarningIcon, {\n    color: \"inherit\"\n  })), React.createElement(ListItemText, {\n    primary: 'RESET ALL LOCAL DATA',\n    secondary: 'All local images and data will be reset and you will be logged out'\n  })))), deleteOpen && React.createElement(DeleteDialog, {\n    open: !!deleteOpen,\n    title: deleteOpen && deleteOpen.title,\n    message: deleteOpen && deleteOpen.message,\n    onConfirm: function onConfirm(confirmed) {\n      if (confirmed) deleteOpen.action();\n      setDeleteOpen(null);\n    }\n  }));\n};\n\nAppSettings.propTypes = {\n  onMenuBack: PropTypes.func.isRequired\n};\nexport default AppSettings;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useRef, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Fab from '@material-ui/core/Fab';\nimport Modal from '@material-ui/core/Modal';\nimport Zoom from '@material-ui/core/Zoom';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport AddCameraIcon from '@material-ui/icons/AddAPhoto';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppContext } from '@morphoto/client-common';\nvar useStyles = makeStyles(function (theme) {\n  var pulseCol = fade(theme.palette.secondary.light, 0.4);\n  return {\n    root: {},\n    fab: {\n      background: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      '&::before': {\n        content: '\"  \"',\n        display: 'block',\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        borderRadius: 'inherit',\n        boxShadow: \"0 0 0 0 \".concat(pulseCol),\n        animation: '$fabPulse 4s',\n        animationIterationCount: 5,\n        animationTimingFunction: 'linear'\n      }\n    },\n    '@keyframes fabPulse': {\n      '0%': {\n        boxShadow: \"0 0 0 0px \".concat(pulseCol)\n      },\n      '90%': {\n        boxShadow: \"0 0 0 0px \".concat(pulseCol)\n      },\n      '100%': {\n        boxShadow: \"0 0 0 10px transparent\"\n      }\n    },\n    directionUp: {},\n    actionsClosed: {\n      display: 'none'\n    },\n    modalContainer: {\n      position: 'absolute',\n      bottom: '0%',\n      left: '50%',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    subFabContainer: {\n      padding: theme.spacing(2)\n    },\n    subFab: {},\n    subFabIcon: {\n      margin: theme.spacing(1)\n    }\n  };\n});\n\nvar AddFab = function AddFab(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      onCameraClick = _ref.onCameraClick,\n      onLibraryClick = _ref.onLibraryClick;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      down = _useState4[0],\n      setDown = _useState4[1];\n\n  var _useContext = useContext(AppContext),\n      device = _useContext.device;\n\n  var timerRef = useRef();\n  var classes = useStyles();\n  var downRef = useRef(down);\n  var elRef = useRef();\n  downRef.current = down;\n  useEffect(function () {\n    return function () {\n      timerRef.current = null;\n      downRef.current = null;\n    };\n  }, []);\n\n  var startTimer = function startTimer(el) {\n    if (device.ios) return;\n    if (!elRef.current) return;\n    setDown(true);\n\n    if (!open && !timerRef.current) {\n      timerRef.current = setTimeout(function () {\n        if (downRef.current) setOpen(true);\n        timerRef.current = null;\n      }, 300);\n    }\n  };\n\n  var onDown = function onDown(e) {\n    startTimer(e.currentTarget);\n  };\n\n  var block = function block(e) {\n    if (e && e.stopPropagation) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  };\n\n  var cameraAction = function cameraAction(e) {\n    setOpen(false);\n    setDown(false);\n    onCameraClick();\n    block(e);\n  };\n\n  var libraryAction = function libraryAction(e) {\n    setOpen(false);\n    setDown(false);\n    onLibraryClick();\n    block(e);\n  };\n\n  return React.createElement(\"div\", {\n    className: classNames(classes.rootContainer, className),\n    ref: elRef\n  }, React.createElement(Fab, {\n    className: classes.fab,\n    onMouseDown: onDown,\n    onTouchStart: onDown,\n    onClick: function onClick(e) {\n      block(e);\n      setDown(false);\n\n      if (!open) {\n        console.log('cameraclick MAIN');\n        onCameraClick();\n      }\n    },\n    disableFocusRipple: true,\n    disableTouchRipple: true,\n    disableRipple: true,\n    size: \"large\",\n    color: \"secondary\",\n    \"aria-label\": \"Add\"\n  }, children), React.createElement(Modal, {\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    open: open,\n    onClose: function onClose() {\n      return setOpen(false);\n    }\n  }, React.createElement(\"div\", {\n    className: classes.modalContainer\n  }, React.createElement(Zoom, {\n    in: open,\n    timeout: 500,\n    unmountOnExit: true\n  }, React.createElement(\"div\", {\n    className: classes.subFabContainer\n  }, React.createElement(Fab, {\n    className: classes.subFab,\n    disableFocusRipple: true,\n    variant: \"extended\",\n    size: \"large\",\n    color: \"secondary\",\n    \"aria-label\": \"Add\",\n    onClick: function onClick() {\n      setOpen(false);\n      libraryAction();\n    }\n  }, React.createElement(PhotoLibraryIcon, {\n    color: \"inherit\",\n    className: classes.subFabIcon\n  }), \"Library\"))), React.createElement(Zoom, {\n    in: open,\n    timeout: 250,\n    unmountOnExit: true\n  }, React.createElement(\"div\", {\n    className: classes.subFabContainer\n  }, React.createElement(Fab, {\n    className: classes.subFab,\n    disableFocusRipple: true,\n    variant: \"extended\",\n    size: \"large\",\n    color: \"secondary\",\n    \"aria-label\": \"Add\",\n    onClick: function onClick() {\n      setOpen(false);\n      cameraAction();\n    }\n  }, React.createElement(AddCameraIcon, {\n    color: \"inherit\",\n    className: classes.subFabIcon\n  }), \"Camera\"))))));\n};\n\nAddFab.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.any,\n  onCameraClick: PropTypes.func.isRequired,\n  onLibraryClick: PropTypes.func.isRequired\n};\nexport default AddFab;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\n\nvar ContextMenu = function ContextMenu(_ref) {\n  var anchorEl = _ref.anchorEl,\n      onClose = _ref.onClose,\n      menuItems = _ref.menuItems;\n  return React.createElement(Menu, {\n    anchorEl: anchorEl,\n    open: !!anchorEl,\n    onClose: onClose\n  }, menuItems.map(function (_ref2, idx) {\n    var icon = _ref2.icon,\n        color = _ref2.color,\n        text = _ref2.text,\n        hide = _ref2.hide,\n        disabled = _ref2.disabled,\n        action = _ref2.action,\n        divider = _ref2.divider;\n    var Icon = icon || null;\n    if (hide) return null;\n    if (divider) return React.createElement(Divider, {\n      key: \"contextMenu-\".concat(idx)\n    });\n    return React.createElement(MenuItem, {\n      button: true,\n      key: \"contextMenu-\".concat(idx),\n      disabled: disabled,\n      onClick: function onClick() {\n        onClose();\n        action();\n      }\n    }, Icon && React.createElement(ListItemIcon, null, React.createElement(Icon, {\n      color: disabled ? 'disabled' : color\n    })), React.createElement(ListItemText, {\n      primary: text,\n      primaryTypographyProps: {\n        color: color\n      }\n    }));\n  }));\n};\n\nContextMenu.propTypes = {\n  anchorEl: PropTypes.object,\n  onClose: PropTypes.func,\n  menuItems: PropTypes.arrayOf(PropTypes.shape({\n    text: PropTypes.string,\n    icon: PropTypes.any,\n    divider: PropTypes.any,\n    hide: PropTypes.bool,\n    disabled: PropTypes.bool,\n    color: PropTypes.string,\n    action: PropTypes.func\n  }))\n};\nexport default ContextMenu;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport CameraAltIcon from '@material-ui/icons/CameraAlt';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nimport { useFileInput } from '@morphoto/client-common';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      textAlign: 'center',\n      color: theme.palette.grey[600],\n      border: \"20px solid \".concat(theme.palette.grey[400])\n    },\n    icon: {\n      color: theme.palette.grey[600],\n      margin: 'auto',\n      flex: '1 1 50%',\n      height: '70%',\n      width: '70%'\n    },\n    button: {\n      margin: theme.spacing(2)\n    }\n  };\n});\n\nvar LibraryFilePicker = function LibraryFilePicker(_ref) {\n  var onLibraryAdd = _ref.onLibraryAdd,\n      onCancel = _ref.onCancel,\n      cameraPicker = _ref.cameraPicker;\n  var classes = useStyles();\n\n  var _useFileInput = useFileInput(onLibraryAdd, cameraPicker),\n      fileClickEl = _useFileInput.fileClickEl,\n      forceClick = _useFileInput.forceClick;\n\n  var cameraWords = 'Library';\n  var PlaceIcon = PhotoLibraryIcon;\n\n  if (cameraPicker) {\n    cameraWords = 'Camera';\n    PlaceIcon = CameraAltIcon;\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, fileClickEl, React.createElement(PlaceIcon, {\n    className: classes.icon,\n    color: \"inherit\",\n    onClick: forceClick\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    className: classes.button,\n    color: \"primary\",\n    onClick: forceClick\n  }, \"Import from \", cameraWords), React.createElement(Button, {\n    variant: \"outlined\",\n    className: classes.button,\n    color: \"secondary\",\n    onClick: onCancel\n  }, \"Cancel\"));\n};\n\nLibraryFilePicker.propTypes = {\n  onLibraryAdd: PropTypes.func.isRequired,\n  cameraPicker: PropTypes.bool,\n  onCancel: PropTypes.func.isRequired\n};\nexport default LibraryFilePicker;","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      position: 'relative',\n      display: 'block',\n      overflow: 'hidden',\n      whiteSpace: 'pre-line',\n      '&::before': {\n        content: '\"  \"',\n        display: 'block',\n        position: 'absolute',\n        bottom: 0,\n        width: '100%',\n        height: 100,\n        background: \"linear-gradient(180deg, rgba(255,255,255,0) 0%, \".concat(theme.palette.background.paper, \" 100%)\")\n      },\n      placeholder: {\n        color: theme.palette.text.secondary\n      }\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar ShortLongText = function ShortLongText(_ref) {\n  var label = _ref.label,\n      text = _ref.text,\n      height = _ref.height,\n      onClick = _ref.onClick,\n      placeholder = _ref.placeholder;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    onClick: onClick\n  }, label && React.createElement(FormLabel, {\n    className: classes.formLabel\n  }, label), !text && React.createElement(Typography, {\n    component: \"div\",\n    variant: \"caption\",\n    color: \"inherit\",\n    style: {\n      height: height\n    },\n    className: classNames(classes.placeholder)\n  }, placeholder || 'none'), text && React.createElement(Typography, {\n    component: \"div\",\n    variant: \"body1\",\n    color: \"inherit\",\n    style: {\n      height: height\n    },\n    className: classNames(classes.root)\n  }, text));\n};\n\nShortLongText.propTypes = {\n  label: PropTypes.string,\n  text: PropTypes.string,\n  placeholder: PropTypes.string,\n  height: PropTypes.number,\n  onClick: PropTypes.func\n};\nShortLongText.defaultProps = {\n  height: 100\n};\nexport default ShortLongText;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport AddCameraIcon from '@material-ui/icons/AddAPhoto';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar useNewImageMenu = function useNewImageMenu(cameraClick, libraryClick) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      menuEl = _useState2[0],\n      setMenuEl = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      series = _useState4[0],\n      setSeries = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      down = _useState6[0],\n      setDown = _useState6[1];\n\n  var downRef = useRef(down);\n  downRef.current = down;\n\n  var startTimer = function startTimer(el) {\n    setDown(true);\n    setTimeout(function () {\n      if (downRef && downRef.current) setMenuEl(el);\n    }, 300);\n  };\n\n  var onDownThunk = function onDownThunk(series) {\n    return function (e) {\n      setSeries(series);\n      startTimer(e.currentTarget);\n    };\n  };\n\n  var onUpThunk = function onUpThunk(series) {\n    return function (e) {\n      setSeries(series);\n      setDown(false);\n      cameraClick(series);\n    };\n  };\n\n  var onCamera = function onCamera(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    cameraClick(series);\n    setMenuEl(null);\n  };\n\n  var onLibrary = function onLibrary(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    libraryClick(series);\n    setMenuEl(null);\n  };\n\n  var onClose = function onClose(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    setMenuEl(null);\n  };\n\n  var onBlock = function onBlock(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  return {\n    onDownThunk: onDownThunk,\n    onUpThunk: onUpThunk,\n    onBlock: onBlock,\n    menu: React.createElement(CameraPopup, {\n      menuEl: menuEl,\n      onCamera: onCamera,\n      onLibrary: onLibrary,\n      onClose: onClose\n    })\n  };\n};\n\nexport default useNewImageMenu;\n\nvar CameraPopupUnstyled = function CameraPopupUnstyled(_ref) {\n  var menuEl = _ref.menuEl,\n      onCamera = _ref.onCamera,\n      onLibrary = _ref.onLibrary,\n      onClose = _ref.onClose;\n  var classes = useStyles();\n  return React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: menuEl,\n    open: Boolean(menuEl),\n    className: classes.root,\n    onClose: onClose\n  }, React.createElement(MenuItem, {\n    onMouseUp: onCamera,\n    onTouchEnd: onCamera\n  }, React.createElement(AddCameraIcon, null), \"Add from camera\"), React.createElement(MenuItem, {\n    onMouseUp: onLibrary,\n    onTouchEnd: onLibrary\n  }, React.createElement(PhotoLibraryIcon, null), \" Add from Library\"));\n};\n\nCameraPopupUnstyled.propTypes = {\n  menuEl: PropTypes.object,\n  onCamera: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onLibrary: PropTypes.func.isRequired\n};\n\nvar style = function style(theme) {\n  return {\n    root: {}\n  };\n};\n\nvar useStyles = makeStyles(style);\nexport var CameraPopup = CameraPopupUnstyled;","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Paper from '@material-ui/core/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    bar: {\n      height: theme.spacing(2)\n    },\n    message: {},\n    msgText: {\n      color: theme.palette.jet ? theme.palette.jet.main : 'inherit',\n      zIndex: 3,\n      position: 'absolute',\n      display: 'flex',\n      width: '100%'\n    },\n    spacer: {\n      flexGrow: 1\n    },\n    messageInner: {}\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar UploadControlUnstyled = function UploadControlUnstyled(_ref) {\n  var className = _ref.className,\n      text = _ref.text,\n      progress = _ref.progress;\n  var classes = useStyles();\n  var finalProgress = progress > 0 ? progress : 0;\n  if (!text) return null;\n  var message = \"Uploading: \".concat(text);\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(\"div\", {\n    className: classes.messageInner\n  }, React.createElement(\"div\", {\n    className: classNames(classes.msgText, finalProgress > 50)\n  }, React.createElement(Typography, {\n    color: \"inherit\",\n    variant: \"caption\"\n  }, message), React.createElement(\"div\", {\n    className: classes.spacer\n  }), React.createElement(Typography, {\n    color: \"inherit\",\n    variant: \"caption\"\n  }, finalProgress, \"%\")), React.createElement(LinearProgress, {\n    className: classes.bar,\n    color: \"primary\",\n    variant: \"determinate\",\n    value: finalProgress\n  })));\n};\n\nUploadControlUnstyled.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string,\n  progress: PropTypes.number\n};\nvar UploadControl = UploadControlUnstyled;\nexport default UploadControl;\nexport var UploadControlCOSMOSWrapper = function UploadControlCOSMOSWrapper(_ref2) {\n  var text = _ref2.text,\n      progress = _ref2.progress;\n  var classes = useWrapperStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(Paper, {\n    className: classes.paper\n  }, React.createElement(Typography, {\n    variant: \"h5\"\n  }, \"This is a dummy component.\")), React.createElement(UploadControl, {\n    text: text,\n    progress: progress\n  }));\n};\nUploadControlCOSMOSWrapper.propTypes = {\n  text: PropTypes.string,\n  progress: PropTypes.number\n};\n\nvar wrapperStyle = function wrapperStyle(theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    paper: {\n      flexGrow: 1\n    }\n  };\n};\n\nvar useWrapperStyles = makeStyles(wrapperStyle);\nUploadControlCOSMOSWrapper.displayName = UploadControl.displayName;\nexport var UploadControlTest = UploadControlCOSMOSWrapper;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { TextField, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { dates } from '@morphoto/common';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    rootEdit: {},\n    formControl: {\n      width: '100%'\n    },\n    textBody: {\n      whiteSpace: 'pre-line'\n    },\n    actionButtons: {\n      textAlign: 'right'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar DateControl = function DateControl(_ref) {\n  var label = _ref.label,\n      value = _ref.value,\n      hint = _ref.hint,\n      _onChange = _ref.onChange,\n      className = _ref.className;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(Typography, {\n    variant: \"overline\",\n    className: classes.fieldTitle\n  }, label), React.createElement(TextField, {\n    type: \"datetime-local\",\n    fullWidth: true,\n    value: dates.timestampToHTML5Input(value),\n    className: classes.textField,\n    onChange: function onChange(e) {\n      return _onChange(dates.HTML5InputToTimestamp(e.target.value));\n    }\n  }), hint && React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.hint\n  }, hint));\n};\n\nDateControl.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  hint: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func.isRequired\n};\nexport default DateControl;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { dates } from '@morphoto/common';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    rootEdit: {},\n    formControl: {\n      width: '100%'\n    },\n    textBody: {\n      whiteSpace: 'pre-line'\n    },\n    actionButtons: {\n      textAlign: 'right'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar DateView = function DateView(_ref) {\n  var label = _ref.label,\n      value = _ref.value,\n      className = _ref.className;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(Typography, {\n    variant: \"overline\",\n    className: classes.fieldTitle\n  }, label), React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.hint\n  }, value ? dates.formatDate(value) : ''));\n};\n\nDateView.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string\n};\nexport default DateView;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppContext } from '@morphoto/client-common';\nimport themes from '@morphoto/themes';\nexport var ERROR_SEND_STATES = {\n  UNSENT: 'UNSENT',\n  SENDING: 'SENDING',\n  SENT: 'SENT',\n  ERROR: 'ERROR'\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      overflow: 'hidden',\n      padding: theme.spacing(1),\n      display: 'flex',\n      flexDirection: 'column',\n      textAlign: 'center',\n      color: theme.palette.text.primary,\n      border: \"20px solid \".concat(theme.palette.text.secondary)\n    },\n    button: {},\n    icon: {\n      opacity: 0.5,\n      margin: 'auto',\n      flex: '0 1 10%',\n      width: '50%'\n    },\n    text: {},\n    spacer: {\n      flexGrow: 1\n    },\n    stack: {\n      padding: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      fontSize: '8px',\n      flexGrow: 1,\n      textAlign: 'left',\n      whiteSpace: 'pre-wrap',\n      overflow: 'scroll',\n      color: theme.palette.error.main,\n      fontFamily: 'Consolas, monaco, monospace'\n    }\n  };\n});\n\nvar ErrorScreen = function ErrorScreen(_ref) {\n  var error = _ref.error,\n      sendState = _ref.sendState,\n      reportError = _ref.reportError;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dlgOpen = _useState2[0],\n      setDialogOpen = _useState2[1];\n\n  var _useContext = useContext(AppContext),\n      globalActions = _useContext.globalActions;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      note = _useState4[0],\n      setNote = _useState4[1];\n\n  console.log('ERRORCOJNTEXT', {\n    reportError: reportError\n  });\n  var stackEl = React.createElement(\"div\", {\n    className: classes.spacer\n  });\n\n  try {\n    if (process.env.NODE_ENV === 'development') {\n      stackEl = React.createElement(Typography, {\n        className: classes.stack\n      }, error.stack);\n    }\n  } catch (e) {}\n\n  var buttonText = 'Report this bug';\n  var disabled = false;\n  var color = 'primary';\n\n  switch (sendState) {\n    case ERROR_SEND_STATES.UNSENT:\n      buttonText = 'Report this bug';\n      break;\n\n    case ERROR_SEND_STATES.SENDING:\n      disabled = true;\n      color = 'default';\n      buttonText = 'Sending...';\n      break;\n\n    case ERROR_SEND_STATES.SENT:\n      color = 'default';\n      disabled = true;\n      buttonText = 'Thank you for your feedback';\n      break;\n\n    case ERROR_SEND_STATES.ERROR:\n      color = 'secondary';\n      disabled = true;\n      buttonText = 'ERROR SENDING BUG REPORT';\n      break;\n\n    default:\n      break;\n  }\n\n  return React.createElement(ThemeProvider, {\n    theme: themes.home\n  }, React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(ErrorIcon, {\n    className: classes.icon,\n    color: \"error\"\n  }), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    className: classes.text,\n    color: \"inherit\"\n  }, \"Something went wrong\"), error && error.message && React.createElement(Typography, {\n    variant: \"body1\",\n    className: classes.text,\n    color: \"inherit\"\n  }, error.message), React.createElement(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    disabled: disabled,\n    color: color,\n    onClick: function onClick() {\n      return setDialogOpen(true);\n    }\n  }, React.createElement(BugReportIcon, null), buttonText), stackEl, React.createElement(Button, {\n    className: classes.button,\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: globalActions.resetApp\n  }, React.createElement(DeleteIcon, null), \"RESET APP\"), React.createElement(Typography, {\n    variant: \"caption\",\n    color: \"inherit\"\n  }, \"Unfortunately you will lose any data (and Photos) that haven't already been uploaded\"), React.createElement(Dialog, {\n    open: dlgOpen,\n    fullScreen: true,\n    onClose: function onClose() {\n      return setDialogOpen(false);\n    },\n    \"aria-labelledby\": \"form-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\"\n  }, \"Report a bug\"), React.createElement(DialogContent, null, React.createElement(DialogContentText, null, \"What were you trying to do when the error happened? (optional)\"), React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    multiline: true,\n    onChange: function onChange(e) {\n      return setNote(e.target.value);\n    },\n    rows: \"3\",\n    rowsMax: \"6\",\n    id: \"note\",\n    placeholder: \"I tried to X and then Y happened...\",\n    label: \"My report\",\n    fullWidth: true\n  })), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return setDialogOpen(false);\n    },\n    color: \"primary\"\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: function onClick() {\n      reportError(note);\n      setDialogOpen(false);\n    },\n    color: \"primary\"\n  }, \"Send\")))));\n};\n\nErrorScreen.propTypes = {\n  error: PropTypes.object,\n  sendState: PropTypes.string,\n  reportError: PropTypes.func.isRequired\n};\nexport default ErrorScreen;","export { default as FindOnMapButton } from './FindOnMapButton';\nexport { default as AboutApp } from './AboutApp';\nexport { default as AppSettings } from './AppSettings';\nexport { default as AddFab } from './AddFab';\nexport { default as ContextMenu } from './ContextMenu';\nexport { default as LibraryFilePicker } from './LibraryFilePicker';\nexport { default as ShortLongText } from './ShortLongText';\nexport { default as useNewImageMenu } from './useNewImageMenu';\nexport { default as UploadControl } from './UploadControl';\nexport { default as DateControl } from './DateControl';\nexport { default as DateView } from './DateView';\nexport { default as ErrorScreen, ERROR_SEND_STATES } from './ErrorScreen';","import _taggedTemplateLiteral from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\nfragment userFragment on User {\\n  id\\n  username\\n  gravatar\\n  watching\\n  gravatarProfile\\n  meta\\n  createdOn\\n  updatedOn\\n  __typename\\n}\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\nfragment photoFragment on Photo {\\n  id\\n  meta\\n  createdOn\\n  takenOn\\n  updatedOn\\n  coords\\n  note\\n  seriesId\\n  seriesCreatedBy\\n  createdBy\\n  updatedBy\\n  uploadToken\\n  createdUser {\\n    ...userSummaryFragment\\n  }\\n  updatedUser {\\n    ...userSummaryFragment\\n  }\\n  tags {\\n    label\\n    typeId\\n    coords {\\n      x\\n      y\\n      __typename\\n    }\\n    __typename\\n  }\\n  paths {\\n    base\\n    large\\n    thumb\\n    medium\\n    __typename\\n  }\\n  __typename\\n}\\n\", \"\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\nfragment seriesFragment on Series {\\n  id\\n  name\\n  access\\n  note\\n  meta\\n  watchers\\n  seriesStatus\\n  createdOn\\n  updatedOn\\n  createdUser {\\n    ...userSummaryFragment\\n  }\\n  updatedUser {\\n    ...userSummaryFragment\\n  }\\n  coords\\n  direction\\n  photoCount\\n  featured {\\n    ...photoSummaryFragment\\n  }\\n  latest {\\n    ...photoSummaryFragment\\n  }\\n  __typename\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\nfragment seriesSummaryFragment on SeriesSummary {\\n  id\\n  name\\n  access\\n  createdUser {\\n    ...userSummaryFragment\\n  }\\n  seriesStatus\\n  updatedOn\\n  createdOn\\n  photoCount\\n  coords\\n  direction\\n  watchers\\n  featured {\\n    ...photoSummaryFragment\\n  }\\n  latest {\\n    ...photoSummaryFragment\\n  }\\n  __typename\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nfragment userSummaryFragment on UserSummary {\\n  id\\n  gravatar\\n  gravatarProfile\\n  username\\n  __typename\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nfragment photoSummaryFragment on PhotoSummary {\\n  id\\n  takenOn\\n  seriesCreatedBy\\n  updatedOn\\n  createdOn\\n  seriesId\\n  createdUser {\\n    ...userSummaryFragment\\n  }\\n  paths {\\n    base\\n    thumb\\n    medium\\n    large\\n    __typename\\n  }\\n  __typename\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nexport var photoSummaryFragment = gql(_templateObject());\nexport var photoSummaryKeys = ['id', 'takenOn', 'seriesCreatedBy', 'updatedOn', 'createdOn', 'seriesId', 'createdUser', 'paths'];\nexport var userSummaryFragment = gql(_templateObject2());\nexport var userSummaryKeys = ['id', 'gravatar', 'gravatarProfile', 'username'];\nexport var seriesSummaryFragment = gql(_templateObject3(), photoSummaryFragment, userSummaryFragment);\nexport var seriesSummaryKeys = ['id', 'name', 'access', 'createdUser', 'seriesStatus', 'updatedOn', 'createdOn', 'photoCount', 'coords', 'direction', 'watchers', 'featured', 'latest'];\nexport var seriesFragment = gql(_templateObject4(), photoSummaryFragment, userSummaryFragment);\nexport var seriesKeys = ['id', 'name', 'access', 'note', 'meta', 'watchers', 'seriesStatus', 'createdOn', 'updatedOn', 'createdUser', 'updatedUser', 'coords', 'direction', 'photoCount', 'featured', 'latest'];\nexport var photoFragment = gql(_templateObject5(), userSummaryFragment);\nexport var photoKeys = ['id', 'meta', 'createdOn', 'takenOn', 'updatedOn', 'note', 'coords', 'seriesId', 'seriesCreatedBy', 'createdBy', 'updatedBy', 'uploadToken', 'createdUser', 'updatedUser', 'tags', 'paths'];\nexport var userFragment = gql(_templateObject6());\nexport var userKeys = ['id', 'username', 'gravatar', 'watching', 'gravatarProfile', 'meta', 'createdOn', 'updatedOn'];","import _taggedTemplateLiteral from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        fragment watchers on SeriesSummary {\\n          watchers\\n        }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { getWholeSeries, allSeries, userSeries, getMyFeed, getUser } from '../queries';\nimport { seriesKeys, seriesSummaryKeys, photoSummaryKeys, seriesSummaryFragment } from '../fragments';\nimport gql from 'graphql-tag';\nimport _ from 'lodash';\nexport var getWholeSeriesUpdate = function getWholeSeriesUpdate(store, series) {\n  var variables = {\n    id: series.id\n  };\n  var query = getWholeSeries;\n  var newData = {\n    series: {}\n  };\n\n  try {\n    var qVal = store.readQuery({\n      query: query,\n      variables: variables\n    });\n    newData = _.cloneDeep(qVal);\n  } catch (e) {}\n\n  try {\n    newData.series = _objectSpread({}, newData.series, {}, series);\n    store.writeQuery({\n      query: query,\n      variables: variables,\n      data: newData\n    });\n    console.log('updateQueries::getWholeSeriesUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::getWholeSeriesUpdate writeQuery failed', {\n      newData: newData,\n      series: series\n    });\n    console.error('updateQueries::getWholeSeriesUpdate', e);\n  }\n};\nexport var getWholeSeriesPhotoUpdate = function getWholeSeriesPhotoUpdate(store, photo) {\n  var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var variables = {\n    id: photo.seriesId\n  };\n  var query = getWholeSeries;\n\n  try {\n    var qVal = store.readQuery({\n      query: query,\n      variables: variables\n    });\n\n    var newData = _.cloneDeep(qVal);\n\n    if (remove) {\n      newData.series.photos = newData.series.photos.filter(function (ph) {\n        return ph.id !== photo.id;\n      });\n    } else {\n      var idx = newData.series.photos.findIndex(function (ph) {\n        return ph.id === photo.id;\n      });\n\n      if (idx > -1) {\n        newData.series.photos = _toConsumableArray(newData.series.photos);\n        newData.series.photos[idx] = photo;\n      } else {\n        newData.series.photos = [].concat(_toConsumableArray(newData.series.photos), [photo]);\n      }\n    }\n\n    store.writeQuery({\n      query: query,\n      variables: variables,\n      data: newData\n    });\n    console.log('updateQueries::getWholeSeriesPhotoUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::getWholeSeriesPhotoUpdate WriteQuery failed', {\n      photo: photo,\n      remove: remove\n    });\n    console.error('updateQueries::getWholeSeriesPhotoUpdate', e);\n  }\n};\n\nfunction updateSeriesSummaries(origArr, series) {\n  var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var newArr = [];\n\n  if (remove) {\n    newArr = origArr.filter(function (s) {\n      return s.id !== series.id;\n    });\n  } else {\n    var seriesIndex = origArr.findIndex(function (s) {\n      return s.id === series.id;\n    });\n\n    var newAllSeriesEntry = _objectSpread({}, _.pick(series, seriesKeys), {\n      seriesStatus: null,\n      __typename: 'SeriesSummary'\n    });\n\n    if (seriesIndex > -1) {\n      newArr = origArr.map(function (s) {\n        return s.id === series.id ? newAllSeriesEntry : s;\n      });\n    } else {\n      newArr = [].concat(_toConsumableArray(newArr), [newAllSeriesEntry]);\n    }\n  }\n\n  console.log('updateQueries::updateSeriesSummaries HELPER', {\n    origArr: origArr,\n    series: series,\n    newArr: newArr,\n    remove: remove\n  });\n  return newArr;\n}\n\nfunction updateFeedList(origArr, series, photo) {\n  var remove = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var newArr = [];\n\n  if (remove) {\n    newArr = origArr.filter(function (fItem) {\n      if (photo) {\n        return fItem.photo.id !== photo.id;\n      } else {\n        return fItem.series.id === series.id;\n      }\n    });\n  } else {\n    var idx = origArr.findIndex(function (fitem) {\n      return fitem._id === photo.id;\n    });\n\n    var newSeriesSummary = _.pick(series, seriesSummaryKeys);\n\n    newSeriesSummary.__typename = 'SeriesSummary';\n\n    var newPhotoSummary = _.pick(photo, photoSummaryKeys);\n\n    newPhotoSummary.__typename = 'PhotoSummary';\n\n    if (idx > -1) {\n      newArr = _toConsumableArray(origArr);\n      newArr[idx].photo = newPhotoSummary;\n    } else {\n      newArr = [].concat(_toConsumableArray(origArr), [{\n        _id: newPhotoSummary.id,\n        series: newSeriesSummary,\n        photo: newPhotoSummary,\n        relation: 'OWNED',\n        __typename: 'MyFeedResultItem'\n      }]);\n    }\n  }\n\n  console.log('updateQueries::updateFeedList HELPER', {\n    origArr: origArr,\n    series: series,\n    photo: photo,\n    newArr: newArr\n  });\n  return newArr;\n}\n\nexport var allSeriesUpdate = function allSeriesUpdate(store, series) {\n  var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var variables = {\n    limit: 100\n  };\n  var query = allSeries;\n  var newData = {\n    allSeries: {\n      seriesSummaries: [],\n      nextToken: null,\n      __typename: 'PaginatedSeries'\n    }\n  };\n\n  try {\n    var qVal = store.readQuery({\n      query: query,\n      variables: variables\n    });\n    newData = _.cloneDeep(qVal);\n  } catch (e) {\n    if (series) {\n      var newSeriesSummary = _.pick(series, seriesSummaryKeys);\n\n      newSeriesSummary.__typename = 'SeriesSummary';\n      newData.allSeries.seriesSummaries = [newSeriesSummary];\n    } else return;\n  }\n\n  try {\n    newData.allSeries.seriesSummaries = updateSeriesSummaries(newData.allSeries.seriesSummaries, series, remove);\n    store.writeQuery({\n      query: query,\n      variables: variables,\n      data: newData\n    });\n    console.log('updateQueries::allSeriesUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::allSeriesUpdate writeQuery failed', {\n      series: series,\n      remove: remove,\n      newData: newData\n    });\n    console.error('updateQueries::allSeriesUpdate', e);\n  }\n};\nexport var allSeriesPhotoUpdate = function allSeriesPhotoUpdate(store, series, photo) {\n  var remove = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var query = allSeries;\n  var newData = {\n    allSeries: {\n      seriesSummaries: [],\n      nextToken: null,\n      __typename: 'PaginatedSeries'\n    }\n  };\n\n  try {\n    var qVal = store.readQuery({\n      query: query,\n      variables: {\n        limit: 100\n      }\n    });\n    newData = _.cloneDeep(qVal);\n  } catch (e) {\n    if (series) {\n      var newSeriesSummary = _.pick(series, seriesSummaryKeys);\n\n      newSeriesSummary.__typename = 'SeriesSummary';\n      newData.allSeries.seriesSummaries = [newSeriesSummary];\n    } else return;\n  }\n\n  try {\n    newData.allSeries.seriesSummaries = newData.allSeries.seriesSummaries.map(function (s) {\n      if (s.id !== photo.seriesId) return s;else {\n        var newS = _.cloneDeep(s);\n\n        var photoIndex = series.photos.findIndex(function (ph) {\n          return ph.id === photo.id;\n        });\n\n        if (remove && series) {\n          if (newS.latest.id === photo.id) {\n            newS.latest = series.photos[series.photos.length - 1];\n          }\n\n          if (newS.featured.id === photo.id) {\n            newS.featured = series.photos[series.photos.length - 1];\n          }\n\n          newS.photoCount -= 1;\n        } else if (photoIndex === -1) {\n          var photoSummary = _.pick(photo, photoSummaryKeys);\n\n          photoSummary.__typename = 'PhotoSummary';\n          newS.latest = photoSummary;\n          newS.photoCount += 1;\n        } else {}\n\n        return newS;\n      }\n    });\n    store.writeQuery({\n      query: query,\n      data: newData\n    });\n    console.log('updateQueries::allSeriesPhotoUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::createPhotoMutation:: allSeries read or write ERROR', {\n      series: series,\n      photo: photo,\n      remove: remove\n    });\n    console.error('updateQueries::createPhotoMutation', e);\n  }\n};\nexport var userSeriesUpdate = function userSeriesUpdate(store, series) {\n  var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var query = userSeries;\n  var newData = {\n    userSeries: {\n      seriesSummaries: [],\n      nextToken: null,\n      __typename: 'PaginatedSeries'\n    }\n  };\n\n  try {\n    var qVal = store.readQuery({\n      query: query\n    });\n    newData = _.cloneDeep(qVal);\n  } catch (e) {}\n\n  try {\n    newData.userSeries.seriesSummaries = updateSeriesSummaries(newData.userSeries.seriesSummaries, series, remove);\n    store.writeQuery({\n      query: query,\n      data: newData\n    });\n    console.log('updateQueries::userSeriesUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::userSeriesUpdate writeQuery failed', {\n      series: series,\n      remove: remove,\n      newData: newData\n    });\n    console.error('updateQueries::userSeriesUpdate', e);\n  }\n};\nexport var feedUpdate = function feedUpdate(store, series, photo) {\n  var remove = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var query = getMyFeed;\n  var newData = {\n    myFeed: {\n      feed: [],\n      window: null,\n      __typename: 'PaginatedSeries'\n    }\n  };\n\n  try {\n    var qVal = store.readQuery({\n      query: query\n    });\n    newData = _.cloneDeep(qVal);\n  } catch (e) {}\n\n  try {\n    newData.myFeed.feed = updateFeedList(newData.myFeed.feed, series, photo, remove);\n    store.writeQuery({\n      query: query,\n      data: newData\n    });\n    console.log('updateQueries::feedUpdate DONE');\n  } catch (e) {\n    console.error('updateQueries::feedUpdate writeQuery failed', {\n      series: series,\n      photo: photo,\n      remove: remove,\n      newData: newData\n    });\n    console.error('updateQueries::feedUpdate', e);\n  }\n};\nexport var watchUpdate = function watchUpdate(store, seriesId) {\n  var remove = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  try {\n    var seriesFrag = store.readFragment({\n      id: seriesId,\n      fragment: seriesSummaryFragment\n    });\n    console.log('updateQueries::watchUpdate watchers', {\n      seriesFrag: seriesFrag\n    });\n    store.writeFragment({\n      id: '5',\n      fragment: gql(_templateObject()),\n      data: {\n        watchers: seriesFrag.watchers + (remove ? -1 : 1)\n      }\n    });\n  } catch (e) {\n    console.error('updateQueries::watchUpdate counter update failed', {\n      seriesId: seriesId,\n      remove: remove\n    });\n    console.error('updateQueries::watchUpdate', e);\n  }\n\n  var query = getUser;\n\n  try {\n    var qVal = store.readQuery({\n      query: query\n    });\n\n    var newData = _.cloneDeep(qVal);\n\n    if (remove) {\n      newData.user.watching = newData.user.watching.filter(function (sid) {\n        return sid !== seriesId;\n      });\n    } else {\n      newData.user.watching = _toConsumableArray(new Set([].concat(_toConsumableArray(newData.user.watching || []), [seriesId])));\n    }\n\n    store.writeQuery({\n      query: query,\n      data: newData\n    });\n    console.log('updateQueries::watchUpdate DONE', remove ? 'unwatch' : 'watch');\n  } catch (e) {\n    console.error('updateQueries::watchUpdate read/write failed', {\n      seriesId: seriesId,\n      remove: remove\n    });\n    console.error('updateQueries::watchUpdate', e);\n  }\n};","import _taggedTemplateLiteral from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\nmutation reportBug($reportJSON: String!) {\\n  reportBug(reportJSON: $reportJSON)\\n}\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\nmutation unWatch($seriesId: ID) {\\n  unWatchSeries(seriesId: $seriesId)\\n}\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\nmutation watch($seriesId: ID) {\\n  watchSeries(seriesId: $seriesId)\\n}\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\nmutation createSeries($series: NewSeriesInput, $photo: NewPhotoInput!, $ext: String!) {\\n  createSeries(series: $series, photo: $photo, ext: $ext) {\\n    series {\\n      ...seriesFragment\\n      photos {\\n        ...photoFragment\\n      }\\n    }\\n    preAuth\\n    __typename\\n  }\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\nmutation createPhoto($photo: NewPhotoInput!, $ext: String!) {\\n  createPhoto(photo: $photo, ext: $ext) {\\n    photo {\\n      ...photoFragment\\n    }\\n    preAuth\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\nmutation updatePhoto($photo: UpdatePhotoInput!) {\\n  updatePhoto(photo: $photo){\\n    ...photoFragment\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\nmutation updateSeries($series: UpdateSeriesInput!) {\\n  updateSeries(series: $series){\\n    ...seriesFragment\\n  }\\n\\n}\\n\", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nmutation deleteSeries($id: ID!) {\\n  deleteSeries(id: $id)\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nmutation deletePhoto($seriesId: ID!, $photoId: ID!) {\\n  deletePhoto(seriesId: $seriesId, photoId: $photoId)\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport { photoFragment, seriesFragment } from './fragments';\nexport var deletePhoto = gql(_templateObject());\nexport var deleteSeries = gql(_templateObject2());\nexport var updateSeries = gql(_templateObject3(), seriesFragment);\nexport var updateSeriesKeys = ['id', 'access', 'name', 'note', 'coords', 'direction'];\nexport var updatePhoto = gql(_templateObject4(), photoFragment);\nexport var updatePhotoKeys = ['id', 'seriesId', 'takenOn', 'tags', 'note'];\nexport var createPhoto = gql(_templateObject5(), photoFragment);\nexport var newPhotoKeys = ['seriesId', 'takenOn', 'meta', 'rawData', 'coords', 'tags', 'note', 'uploadToken'];\nexport var createSeries = gql(_templateObject6(), seriesFragment, photoFragment);\nexport var newSeriesKeys = ['access', 'name', 'note', 'coords', 'direction', 'meta'];\nexport var watchSeries = gql(_templateObject7());\nexport var unWatchSeries = gql(_templateObject8());\nexport var reportBug = gql(_templateObject9());","export var Actions = {\n  HOME_CHANGE_STATE: 'HOME_CHANGE_STATE',\n  HOME_CHANGE_ACTIVE_SERIES: 'HOME_CHANGE_ACTIVE_SERIES',\n  HOME_STATE_BACK: 'HOME_STATE_BACK',\n  MAP_HISTORY_POP: 'MAP_HISTORY_POP',\n  MAP_HISTORY_PUSH: 'MAP_HISTORY_PUSH',\n  MAP_HISTORY_CLEAR: 'MAP_HISTORY_CLEAR',\n  UPLOADER_QUEUE: 'UPLOADER_QUEUE',\n  UPLOADER_COMPLETE: 'UPLOADER_COMPLETE',\n  UPLOADER_UPDATE_PROGRESS: 'UPLOADER_UPDATE_PROGRESS',\n  UPLOADER_SET_UPLOADING: 'UPLOADER_SET_UPLOADING',\n  UPLOADER_SET_ONLINE: 'UPLOADER_SET_ONLINE',\n  OFFLINE_VIEWPORT_SAVE: 'OFFLINE_VIEWPORT_SAVE',\n  OFFLINE_SET_STATUS: 'OFFLINE_SET_STATUS',\n  SETFLAG: 'SETFLAG',\n  RESET_ALL_STATE: 'RESET_ALL_STATE'\n};\nexport default {\n  setHomeState: function setHomeState(newDomain, params) {\n    return {\n      type: Actions.HOME_CHANGE_STATE,\n      data: {\n        newDomain: newDomain,\n        params: params\n      }\n    };\n  },\n  homeStateBack: function homeStateBack() {\n    return {\n      type: Actions.HOME_STATE_BACK\n    };\n  },\n  setActiveSeries: function setActiveSeries(activeSeries, initialPhoto) {\n    return {\n      type: Actions.HOME_CHANGE_ACTIVE_SERIES,\n      data: {\n        activeSeries: activeSeries,\n        initialPhoto: initialPhoto\n      }\n    };\n  },\n  setFlag: function setFlag(flagName, flagVal) {\n    return {\n      type: Actions.SETFLAG,\n      data: {\n        flagName: flagName,\n        flagVal: flagVal\n      }\n    };\n  },\n  setOfflineViewport: function setOfflineViewport(viewport) {\n    return {\n      type: Actions.OFFLINE_VIEWPORT_SAVE,\n      data: viewport\n    };\n  },\n  setOfflineCompleted: function setOfflineCompleted(bVal) {\n    return {\n      type: Actions.OFFLINE_SET_STATUS,\n      data: bVal\n    };\n  },\n  popMapHistory: function popMapHistory() {\n    return {\n      type: Actions.MAP_HISTORY_POP\n    };\n  },\n  pushMapHistory: function pushMapHistory(viewportSave) {\n    return {\n      type: Actions.MAP_HISTORY_PUSH,\n      data: viewportSave\n    };\n  },\n  clearMapHistory: function clearMapHistory() {\n    return {\n      type: Actions.MAP_HISTORY_CLEAR\n    };\n  },\n  resetAllState: function resetAllState() {\n    return {\n      type: Actions.RESET_ALL_STATE\n    };\n  },\n  queueUpload: function queueUpload(uploadObj) {\n    return {\n      type: Actions.UPLOADER_QUEUE,\n      data: uploadObj\n    };\n  },\n  setUploaderOnline: function setUploaderOnline(bOnline) {\n    return {\n      type: Actions.UPLOADER_SET_ONLINE,\n      data: bOnline\n    };\n  },\n  updateUploadProgress: function updateUploadProgress(newProgress) {\n    return {\n      type: Actions.UPLOADER_UPDATE_PROGRESS,\n      data: newProgress\n    };\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Tags = function Tags(tagConfig, tags) {\n  var _this = this;\n\n  _classCallCheck(this, Tags);\n\n  _defineProperty(this, \"findTagByLabel\", function (typeId, tagLabel) {\n    return _this.getTagType(typeId).values.find(function (tt) {\n      return tt.label === tagLabel;\n    });\n  });\n\n  _defineProperty(this, \"getXYTags\", function () {\n    var xyTagLabels = _this.getXYTagTypes().map(function (tt) {\n      return tt.label;\n    });\n\n    return _this.tags.filter(function (tag) {\n      return xyTagLabels.indexOf(tag.typeId) > -1 && tag.coords && tag.coords.x;\n    });\n  });\n\n  _defineProperty(this, \"getNonXYTags\", function () {\n    var NonXYTagLabels = _this.getNonXYTagTypes().map(function (tt) {\n      return tt.label;\n    });\n\n    return _this.tags.filter(function (tag) {\n      return NonXYTagLabels.indexOf(tag.typeId) > -1;\n    });\n  });\n\n  _defineProperty(this, \"createNewTagObj\", function (label, typeId) {\n    return {\n      label: label,\n      typeId: typeId\n    };\n  });\n\n  _defineProperty(this, \"createExistingTagObj\", function (label, typeId) {\n    return _objectSpread({}, _this.findTagByLabel(typeId, label), {\n      typeId: typeId\n    });\n  });\n\n  _defineProperty(this, \"createNewXYTagObj\", function (label, typeId, coords) {\n    return {\n      label: label,\n      typeId: typeId,\n      coords: coords\n    };\n  });\n\n  _defineProperty(this, \"createExistingXYTagObj\", function (label, typeId, coords) {\n    return _objectSpread({}, _this.findTagByLabel(typeId, label), {\n      typeId: typeId,\n      coords: coords\n    });\n  });\n\n  _defineProperty(this, \"getTagType\", function (typeId) {\n    return _this.tagConfig.find(function (tt) {\n      return tt.id === typeId;\n    });\n  });\n\n  _defineProperty(this, \"getTagTypeIndex\", function (typeId) {\n    return _this.tagConfig.findIndex(function (tt) {\n      return tt.id === typeId;\n    });\n  });\n\n  _defineProperty(this, \"getXYTagTypes\", function () {\n    return _this.tagConfig.filter(function (tt) {\n      return tt.allowXY;\n    });\n  });\n\n  _defineProperty(this, \"getNonXYTagTypes\", function () {\n    return _this.tagConfig.filter(function (tt) {\n      return tt.allowNonXY;\n    });\n  });\n\n  _defineProperty(this, \"getRelXYTags\", function (multiplier) {\n    return _this.getXYTags().map(function (tag) {\n      return _objectSpread({}, tag, {\n        group: _this.getTagTypeIndex(tag.typeId),\n        relCoords: {\n          x: tag.coords.x * multiplier,\n          y: tag.coords.y * multiplier\n        }\n      });\n    });\n  });\n\n  this.tags = tags;\n  this.tagConfig = tagConfig;\n};\n\nvar _default = Tags;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getExif = void 0;\n\nvar _exifParser = _interopRequireDefault(require(\"exif-parser\"));\n\nvar _common = require(\"@morphoto/common\");\n\nvar _dates = require(\"./dates\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar getExif = function getExif(dataUrl) {\n  console.log('onLibraryAdd Buffered');\n  var exif = null;\n  var exifDateTime = null;\n  var exifGPS = null;\n\n  try {\n    var find = 'base64,';\n    var foundIdx = dataUrl.indexOf(find) + find.length;\n    var newData = dataUrl.slice(foundIdx);\n\n    var parser = _exifParser[\"default\"].create(Buffer.from(newData, 'base64'));\n\n    exif = parser.parse();\n    console.log('got EXIF', exif);\n  } catch (err) {\n    console.log('EXIF ERROR', err);\n  }\n\n  if (exif && exif.tags) {\n    try {\n      if (exif.tags && exif.tags.DateTimeOriginal && String(exif.tags.DateTimeOriginal)) {\n        exifDateTime = (0, _dates.fixParseDate)(exif.tags.DateTimeOriginal, false);\n      }\n    } catch (err) {\n      console.log('ERROR GETTING TIMESTAMP', {\n        err: err,\n        exif: exif\n      });\n    }\n\n    try {\n      if (exif.tags.GPSLatitude && _common.util.isNumeric(exif.tags.GPSLatitude) && exif.tags.GPSLongitude && _common.util.isNumeric(exif.tags.GPSLongitude)) {\n        exifGPS = [exif.tags.GPSLongitude, exif.tags.GPSLatitude];\n      }\n    } catch (e) {\n      console.error('GPS Longitude and Latitude could not be determined');\n    }\n  }\n\n  return {\n    exif: exif,\n    exifDateTime: exifDateTime,\n    exifGPS: exifGPS\n  };\n};\n\nexports.getExif = getExif;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Series = function Series(metaConfig, series) {\n  var _this = this;\n\n  _classCallCheck(this, Series);\n\n  _defineProperty(this, \"getSeriesMeta\", function () {\n    return Object.keys(_this.metaConfig).filter(function (key) {\n      return _this.metaConfig[key].type === 'SERIES';\n    }).reduce(function (acc, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, _this.series.meta[key][\"default\"]));\n    }, {});\n  });\n\n  _defineProperty(this, \"setMeta\", function () {\n    _this.series.meta = JSON.stringify(_this.getSeriesMeta());\n  });\n\n  _defineProperty(this, \"newSeries\", function () {\n    return {\n      id: \"L-\".concat((0, _v[\"default\"])()),\n      meta: JSON.stringify(_this.getSeriesMeta()),\n      photos: []\n    };\n  });\n\n  this.metaConfig = metaConfig;\n  if (series) this.series = series;else {\n    this.series = this.newSeries();\n  }\n};\n\nvar _default = Series;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nvar _common = require(\"@morphoto/common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Photo = function Photo(metaConfig, photo) {\n  var _this = this;\n\n  _classCallCheck(this, Photo);\n\n  _defineProperty(this, \"setMeta\", function () {\n    _this.photo.meta = JSON.stringify(_this.getPhotoMeta());\n  });\n\n  _defineProperty(this, \"getPhotoMeta\", function () {\n    return Object.keys(_this.metaConfig).filter(function (key) {\n      return _this.metaConfig[key].type === 'PHOTO';\n    }).reduce(function (acc, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, _this.photo.meta[key][\"default\"]));\n    }, {});\n  });\n\n  _defineProperty(this, \"newPhoto\", function () {\n    return {\n      id: \"L-\".concat((0, _v[\"default\"])()),\n      uploadToken: (0, _v[\"default\"])(),\n      takenOn: _common.dates.convertJSDatetoTimestamp(new Date()),\n      meta: JSON.stringify(_this.getPhotoMeta()),\n      tags: []\n    };\n  });\n\n  this.metaConfig = metaConfig;\n  if (photo) this.photo = photo;else {\n    this.photo = this.newPhoto();\n  }\n};\n\nvar _default = Photo;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _accesscontrol = _interopRequireDefault(require(\"accesscontrol\"));\n\nvar _permissions = _interopRequireDefault(require(\"./permissions\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AccessHelper = function () {\n  function AccessHelper(userSub, role) {\n    var _this = this;\n\n    var permissionObj = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _permissions[\"default\"];\n\n    _classCallCheck(this, AccessHelper);\n\n    _defineProperty(this, \"ownOrAny\", function (obj) {\n      if (!obj || !obj.createdUser || !obj.createdUser.id) throw new Error(\"No Created user found\");\n\n      try {\n        return obj.createdUser.id === _this.userSub ? 'Own' : 'Any';\n      } catch (e) {\n        return 'Any';\n      }\n    });\n\n    _defineProperty(this, \"isOwner\", function (obj) {\n      if (!obj || !obj.createdUser || !obj.createdUser.id) throw new Error(\"No Created user found\");\n\n      try {\n        return obj.createdUser.id === _this.userSub;\n      } catch (e) {\n        return false;\n      }\n    });\n\n    _defineProperty(this, \"canUser\", function (action, obj, type, attrs) {\n      if (['series', 'photo'].indexOf(type) < 0) throw new Error(\"canUser: type not supported \".concat(type));\n\n      try {\n        var ownAny = _this.ownOrAny(obj);\n\n        var perm = _this.ac.can(_this.role)[\"\".concat(action).concat(ownAny)](type);\n\n        var otherPerm = null;\n\n        if (type === 'series') {\n          if (obj.access === 'PUBLIC') otherPerm = _this.ac.can(_this.role)[\"\".concat(action).concat(ownAny)]('series_public');else if (obj.access === 'OPEN') otherPerm = _this.ac.can(_this.role)[\"\".concat(action).concat(ownAny)]('series_open');\n        }\n\n        if (attrs) {\n          if (otherPerm) {\n            return !!perm.attributes.find(function (p) {\n              return p === '*' || attrs.indexOf(p) > -1;\n            }) || !!otherPerm.attributes.find(function (p) {\n              return p === '*' || attrs.indexOf(p) > -1;\n            });\n          } else return !!perm.attributes.find(function (p) {\n            return p === '*' || attrs.indexOf(p) > -1;\n          });\n        } else {\n          if (otherPerm) return perm.granted || otherPerm.granted;else return perm.granted;\n        }\n      } catch (e) {\n        console.error(e);\n        return false;\n      }\n    });\n\n    this.userSub = userSub;\n    this.role = role;\n    this.permissionObj = permissionObj;\n    this.ac = new _accesscontrol[\"default\"](permissionObj);\n  }\n\n  _createClass(AccessHelper, [{\n    key: \"toString\",\n    value: function toString() {\n      console.log('AccessHelper:', {\n        sub: this.userSub,\n        role: this.role\n      });\n    }\n  }]);\n\n  return AccessHelper;\n}();\n\nvar _default = AccessHelper;\nexports[\"default\"] = _default;","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport BrokenImageIcon from '@material-ui/icons/BrokenImage';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      padding: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      opacity: 0.3,\n      textAlign: 'center',\n      color: theme.palette.getContrastText(theme.palette.text.primary),\n      background: theme.palette.text.primary\n    },\n    spacer: {\n      flexGrow: 1\n    },\n    icon: {\n      width: '100%',\n      flex: '1 1 40%',\n      opacity: 0.5\n    },\n    circularProgress: {\n      margin: '0 auto'\n    },\n    primary: {\n      textAlign: 'center',\n      width: '100%'\n    },\n    secondary: {\n      flex: '1 1 30%',\n      width: '100%'\n    }\n  };\n});\n\nvar BrokenImg = function BrokenImg(_ref) {\n  var loading = _ref.loading,\n      className = _ref.className,\n      props = _objectWithoutProperties(_ref, [\"loading\", \"className\"]);\n\n  var classes = useStyles();\n  return React.createElement(\"div\", _extends({\n    className: classNames(classes.root, className)\n  }, props), React.createElement(\"div\", {\n    className: classes.spacer\n  }), loading ? React.createElement(CircularProgress, {\n    color: \"inherit\",\n    className: classes.circularProgress\n  }) : React.createElement(BrokenImageIcon, {\n    className: classes.icon,\n    color: \"inherit\"\n  }), React.createElement(Typography, {\n    className: classes.primary,\n    color: \"inherit\"\n  }, loading ? 'Loading' : 'Photo not found'), React.createElement(\"div\", {\n    className: classes.spacer\n  }));\n};\n\nBrokenImg.propTypes = {\n  loading: PropTypes.bool,\n  className: PropTypes.string\n};\nexport default BrokenImg;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppContext } from '@morphoto/client-common';\nimport BrokenImg from './BrokenImg';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      position: 'relative',\n      display: 'block',\n      height: '100%',\n      width: '100%'\n    },\n    img: {\n      display: 'block',\n      height: '100%',\n      width: '100%'\n    },\n    imgBroken: {\n      display: 'none'\n    }\n  };\n});\nexport var RawImage = function RawImage(_ref) {\n  var className = _ref.className,\n      sizePriority = _ref.sizePriority,\n      dataUrl = _ref.dataUrl,\n      photo = _ref.photo,\n      imgRef = _ref.imgRef,\n      cover = _ref.cover,\n      style = _ref.style,\n      props = _objectWithoutProperties(_ref, [\"className\", \"sizePriority\", \"dataUrl\", \"photo\", \"imgRef\", \"cover\", \"style\"]);\n\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      imgUrls = _useState2[0],\n      setImgUrls = _useState2[1];\n\n  var altImgRef = useRef();\n\n  var _useContext = useContext(AppContext),\n      getPhotoUrls = _useContext.getPhotoUrls;\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      altIndex = _useState4[0],\n      setAltIndex = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      broken = _useState6[0],\n      setBroken = _useState6[1];\n\n  useEffect(function () {\n    if (!dataUrl) {\n      if (!getPhotoUrls || !photo) {\n        setBroken(true);\n      } else {\n        getPhotoUrls(photo, ['large', 'medium']).then(function (data) {\n          if (altImgRef.current) setImgUrls(data);\n        }).catch(function () {\n          if (altImgRef.current) setBroken(true);\n        });\n      }\n    }\n  }, [photo]);\n  var finalURL = '';\n  if (dataUrl) finalURL = dataUrl;else if (imgUrls && imgUrls[altIndex]) finalURL = imgUrls[altIndex];\n  var img = null;\n\n  if (broken) {\n    img = React.createElement(BrokenImg, _extends({\n      className: className\n    }, props));\n  } else if (!dataUrl && (!imgUrls || imgUrls.length === 0)) {\n    img = React.createElement(BrokenImg, _extends({\n      className: className\n    }, props));\n  } else {\n    img = React.createElement(\"img\", _extends({\n      ref: imgRef,\n      className: classNames(className, broken ? classes.imgBroken : classes.img),\n      alt: sizePriority[altIndex],\n      style: _objectSpread({}, style, {\n        objectFit: cover ? 'cover' : 'contain'\n      }),\n      onError: function onError() {\n        if (!dataUrl && imgUrls[altIndex + 1]) {\n          console.warn('RawImage::Setting Alternate image', altIndex + 1);\n          setAltIndex(altIndex + 1);\n        } else {\n          console.warn('RawImage::Image Fail', {\n            photoId: photo.id\n          });\n          setBroken(true);\n        }\n      },\n      src: finalURL\n    }, props));\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    ref: altImgRef,\n    style: {\n      height: 0,\n      width: 0\n    }\n  }), img);\n};\nRawImage.propTypes = {\n  className: PropTypes.string,\n  sizePriority: PropTypes.arrayOf(PropTypes.string),\n  imgRef: PropTypes.any,\n  getPhotoUrls: PropTypes.func,\n  cover: PropTypes.bool,\n  dataUrl: PropTypes.string,\n  photo: PropTypes.object,\n  style: PropTypes.object\n};\nRawImage.defaultProps = {\n  sizePriority: ['large', 'medium']\n};\nexport default RawImage;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useComponentSize } from '@morphoto/client-common';\nimport { XYTagChip, useXYTags } from '@morphoto/tags';\nimport RawImage from './RawImage';\nimport style from './Photo.style';\nvar useStyles = makeStyles(style);\n\nvar Photo = function Photo(_ref) {\n  var photo = _ref.photo,\n      opacity = _ref.opacity,\n      edit = _ref.edit,\n      showTags = _ref.showTags,\n      dataUrl = _ref.dataUrl,\n      transition = _ref.transition,\n      onChange = _ref.onChange,\n      className = _ref.className;\n  var classes = useStyles();\n  var refImgWrap = useRef();\n  var imgRef = useRef();\n\n  var _useState = useState({\n    multiplier: 1\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      newSize = _useState2[0],\n      setNewSize = _useState2[1];\n\n  var _useComponentSize = useComponentSize(refImgWrap),\n      _useComponentSize$siz = _useComponentSize.size,\n      height = _useComponentSize$siz.height,\n      width = _useComponentSize$siz.width,\n      setResizeActive = _useComponentSize.setResizeActive;\n\n  var _useXYTags = useXYTags(photo, {\n    height: height,\n    width: width\n  }, onChange, setResizeActive),\n      onAddTagTrigger = _useXYTags.onAddTagTrigger,\n      TagChooser = _useXYTags.TagChooser,\n      getRelXYTags = _useXYTags.getRelXYTags,\n      onTagDragOver = _useXYTags.onTagDragOver,\n      onTagDragStop = _useXYTags.onTagDragStop,\n      onTagDelete = _useXYTags.onTagDelete;\n\n  var handleNewSize = function handleNewSize() {\n    var _imgRef$current = imgRef.current,\n        naturalHeight = _imgRef$current.naturalHeight,\n        naturalWidth = _imgRef$current.naturalWidth;\n    var multiplier = Math.min(height / naturalHeight, width / naturalWidth);\n    var newWidth = multiplier * naturalWidth;\n    var newHeight = multiplier * naturalHeight;\n    setNewSize({\n      newWidth: newWidth,\n      newHeight: newHeight,\n      naturalWidth: naturalWidth,\n      naturalHeight: naturalHeight,\n      multiplier: multiplier\n    });\n  };\n\n  useLayoutEffect(function () {\n    if (imgRef.current) handleNewSize();\n  }, [width, height]);\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className),\n    style: {\n      opacity: opacity !== null ? opacity : 1\n    },\n    ref: refImgWrap\n  }, React.createElement(\"div\", {\n    className: classes.inner,\n    style: {\n      height: newSize ? newSize.newHeight : 1,\n      width: newSize ? newSize.newWidth : 1\n    },\n    onClick: onAddTagTrigger\n  }, showTags || edit ? React.createElement(\"div\", {\n    className: classes.xyTags\n  }, getRelXYTags(newSize.multiplier).map(function (tag, idx) {\n    return React.createElement(XYTagChip, _extends({\n      key: \"xytag-\".concat(idx),\n      color: tag.color\n    }, {\n      edit: edit,\n      newSize: newSize,\n      tag: tag,\n      onTagDragOver: onTagDragOver,\n      onTagDragStop: onTagDragStop,\n      onTagDelete: onTagDelete\n    }));\n  })) : null, React.createElement(RawImage, {\n    className: classes.rawImage,\n    sizePriority: ['large', 'medium', 'thumb'],\n    photo: photo,\n    imgRef: imgRef,\n    dataUrl: dataUrl,\n    style: {\n      height: newSize.newHeight,\n      width: newSize.newWidth\n    }\n  })), edit && React.createElement(TagChooser, null));\n};\n\nPhoto.propTypes = {\n  className: PropTypes.string,\n  opacity: PropTypes.number,\n  photo: PropTypes.object.isRequired,\n  dataUrl: PropTypes.string,\n  edit: PropTypes.bool,\n  showTags: PropTypes.bool,\n  transition: PropTypes.string,\n  onChange: PropTypes.func\n};\nexport default Photo;","export default (function (theme) {\n  return {\n    root: {\n      display: 'block',\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      background: 'black',\n      overflow: 'hidden'\n    },\n    inner: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    xyTags: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      height: '100%',\n      width: '100%'\n    },\n    img: {\n      display: 'block'\n    },\n    brokenImg: {\n      display: 'none'\n    },\n    formControl: {\n      width: '100%'\n    }\n  };\n});","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { RawImage } from './RawImage';\nimport style from './PhotoGrid.style';\nimport { AppContext } from '@morphoto/client-common';\nimport { DeleteDialog } from '@morphoto/modals';\nimport { dates } from '@morphoto/common';\nvar useStyles = makeStyles(style);\n\nvar PhotoGrid = function PhotoGrid(_ref) {\n  var photos = _ref.photos,\n      columns = _ref.columns,\n      multiSelect = _ref.multiSelect,\n      onDelete = _ref.onDelete,\n      onTileClick = _ref.onTileClick,\n      allowDelete = _ref.allowDelete;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectMode = _useState2[0],\n      setSelectMode = _useState2[1];\n\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      getPhotoUrls = _useContext.getPhotoUrls;\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedItems = _useState4[0],\n      setSelectedItems = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      urls = _useState6[0],\n      setUrls = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deleteConfirm = _useState8[0],\n      setDeleteConfirm = _useState8[1];\n\n  var handleAddToSelection = function handleAddToSelection(e, id) {\n    e.preventDefault();\n    e.stopPropagation();\n    setSelectMode(true);\n    toggleListItem(id);\n  };\n\n  var handleCancelSelection = function handleCancelSelection() {\n    setSelectMode(false);\n    setSelectedItems([]);\n  };\n\n  var onDeleteConfirm = function onDeleteConfirm(confirmation) {\n    setDeleteConfirm(false);\n    if (confirmation === true && selectedItems.length < photos.length) onDelete(selectedItems);\n    handleCancelSelection();\n  };\n\n  var toggleListItem = function toggleListItem(id) {\n    var index = selectedItems.indexOf(id);\n    if (index < 0) setSelectedItems([].concat(_toConsumableArray(selectedItems), [id]));else {\n      var remaining = selectedItems.filter(function (arrId) {\n        return arrId !== id;\n      });\n      if (remaining.length === 0) handleCancelSelection();\n      setSelectedItems(remaining);\n    }\n  };\n\n  useEffect(function () {\n    photos.forEach(\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ph) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = setUrls;\n                _context.t1 = _objectSpread;\n                _context.t2 = {};\n                _context.t3 = urls;\n                _context.t4 = _defineProperty;\n                _context.t5 = {};\n                _context.t6 = ph.id;\n                _context.next = 9;\n                return getPhotoUrls(ph, ['thumb', 'medium']);\n\n              case 9:\n                _context.t7 = _context.sent;\n                _context.t8 = (0, _context.t4)(_context.t5, _context.t6, _context.t7);\n                _context.t9 = (0, _context.t1)(_context.t2, _context.t3, _context.t8);\n                (0, _context.t0)(_context.t9);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }, [photos]);\n\n  var handlePhotoTap = function handlePhotoTap(e, photo) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (allowDelete && selectMode) toggleListItem(photo.id);else onTileClick(photo.id);\n  };\n\n  return React.createElement(\"div\", null, React.createElement(GridList, {\n    cols: columns,\n    cellHeight: 200,\n    className: classes.root\n  }, photos.map(function (photo, idx) {\n    var selected = selectedItems.indexOf(photo.id) > -1;\n    return React.createElement(GridListTile, {\n      key: \"gridTile\".concat(idx),\n      onClick: function onClick(e) {\n        return handlePhotoTap(e, photo);\n      },\n      className: classNames(classes.tile, selectMode && !allowDelete && classes.notDeleteable, selectMode && allowDelete && !selected && classes.unSelectedTile, selectMode && selected && classes.selectedTile)\n    }, React.createElement(RawImage, {\n      photo: photo,\n      sizePriority: ['medium', 'thumb', 'large'],\n      cover: true,\n      className: classes.img\n    }), allowDelete && multiSelect && React.createElement(Fab, {\n      size: \"small\",\n      \"aria-label\": \"Add\",\n      className: classes.addFab,\n      onClick: function onClick(e) {\n        return handleAddToSelection(e, photo.id);\n      }\n    }, !selectMode || !selected ? React.createElement(AddIcon, null) : React.createElement(RemoveIcon, null)), React.createElement(GridListTileBar, {\n      title: React.createElement(\"span\", null, dates.formatDate(photo.takenOn, 'll LT'))\n    }));\n  })), React.createElement(Snackbar, {\n    open: selectMode,\n    autoHideDuration: null,\n    ContentProps: {\n      'aria-describedby': 'snackbar-fab-message-id',\n      className: classes.snackbarContent\n    },\n    message: React.createElement(\"span\", {\n      id: \"snackbar-fab-message-id\"\n    }, selectedItems.length >= photos.length ? 'You can\\'t delete all the photos. delete the series instead.' : \"\".concat(selectedItems.length, \" Photos selected\")),\n    action: React.createElement(\"div\", null, React.createElement(Button, {\n      color: \"inherit\",\n      disabled: selectedItems.length >= photos.length,\n      size: \"small\",\n      onClick: function onClick() {\n        return setDeleteConfirm(true);\n      }\n    }, \"Delete\"), React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: function onClick() {\n        return handleCancelSelection();\n      }\n    }, \"Cancel\")),\n    className: classes.snackbar\n  }), React.createElement(DeleteDialog, {\n    open: deleteConfirm,\n    onConfirm: onDeleteConfirm,\n    title: \"Delete \".concat(selectedItems.length, \" Photos\"),\n    message: \"Are you sure you want to delete these photos?\"\n  }));\n};\n\nPhotoGrid.propTypes = {\n  photos: PropTypes.array.isRequired,\n  columns: PropTypes.number,\n  multiSelect: PropTypes.bool,\n  allowDelete: PropTypes.bool,\n  onDelete: PropTypes.func,\n  onTileClick: PropTypes.func.isRequired\n};\nPhotoGrid.defaultProps = {\n  multiSelect: true,\n  columns: 2\n};\nexport default PhotoGrid;","import { red } from '@material-ui/core/colors';\nexport default (function (theme) {\n  return {\n    root: {},\n    tile: {},\n    addFab: {\n      position: 'absolute',\n      zIndex: 10,\n      top: theme.spacing(1),\n      left: theme.spacing(1),\n      opacity: 0.3\n    },\n    notDeleteable: {\n      background: theme.palette.primary.dark,\n      opacity: 0.1\n    },\n    unSelectedTile: {\n      '& img': {\n        opacity: 0.7\n      }\n    },\n    selectedTile: {\n      padding: \"\".concat(theme.spacing(2), \"px!important\"),\n      '& img': {\n        opacity: 1\n      }\n    },\n    img: {},\n    snackbarContent: {\n      backgroundColor: red[700]\n    },\n    snackbar: {}\n  };\n});","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      color: 'white',\n      zIndex: 10,\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'absolute',\n      left: '0'\n    },\n    sliderLabel: {\n      display: 'block',\n      flexGrow: 1,\n      textAlign: 'center',\n      padding: theme.spacing(3, 0, 3, 0),\n      textShadow: '0 0 5px black, 0 0 5px black'\n    },\n    vertical: {\n      padding: '0px 31px!important',\n      width: '4px!important'\n    },\n    rail: {\n      width: \"4px!important\",\n      background: theme.palette.primary.dark,\n      boxShadow: '0 0 10px 5px black'\n    },\n    track: {\n      width: \"4px!important\",\n      background: theme.palette.primary.main\n    },\n    thumb: {\n      background: theme.palette.primary.main,\n      border: \"1px solid \".concat(theme.palette.primary.dark),\n      marginLeft: '-8px !important',\n      width: 20,\n      height: 20\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar PhotoFadeSlider = function PhotoFadeSlider(_ref) {\n  var defaultValue = _ref.defaultValue,\n      onChange = _ref.onChange,\n      className = _ref.className;\n  var classes = useStyles();\n\n  var _useState = useState(defaultValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      slider = _useState2[0],\n      setSlider = _useState2[1];\n\n  var onSliderMove = function onSliderMove(event, value) {\n    setSlider(value);\n    onChange(value);\n  };\n\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, className)\n  }, React.createElement(Typography, {\n    className: classes.sliderLabel,\n    color: \"inherit\",\n    variant: \"caption\"\n  }, \"New\"), React.createElement(Slider, {\n    classes: {\n      vertical: classes.vertical,\n      rail: classes.rail,\n      track: classes.track,\n      thumb: classes.thumb\n    },\n    value: slider,\n    \"aria-labelledby\": \"label\",\n    onChange: onSliderMove,\n    orientation: \"vertical\"\n  }), React.createElement(Typography, {\n    className: classes.sliderLabel,\n    color: \"inherit\",\n    variant: \"caption\"\n  }, \"Reference\"));\n};\n\nPhotoFadeSlider.propTypes = {\n  defaultValue: PropTypes.number,\n  className: PropTypes.string,\n  onChange: PropTypes.func\n};\nPhotoFadeSlider.defaultProps = {\n  defaultValue: 100,\n  onChange: function onChange() {}\n};\nexport default PhotoFadeSlider;","export { default as RawImage } from './RawImage';\nexport { default as Photo } from './Photo';\nexport { default as BrokenImg } from './BrokenImg';\nexport { default as PhotoGrid } from './PhotoGrid';\nexport { default as PhotoFadeSlider } from './PhotoFadeSlider';","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { graphql } from 'react-apollo';\nimport { getWholeSeriesPhotoUpdate, allSeriesPhotoUpdate, feedUpdate } from './updateQueries';\nimport { createPhoto, newPhotoKeys } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nimport _ from 'lodash';\nvar withMutation = graphql(createPhoto, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      createPhotoMutation: function () {\n        var _createPhotoMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(series, newPhoto, ext) {\n          var newPhotoInput, _ownProps$currentUser, id, gravatar, gravatarProfile, username, meUserSummary, variables, optimisticResponse, mutationStackId;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  newPhotoInput = _.cloneDeep(newPhoto);\n\n                  if (!newPhotoInput.seriesId && ownProps.activeSeries) {\n                    newPhotoInput.seriesId = ownProps.activeSeries;\n                  }\n\n                  _ownProps$currentUser = ownProps.currentUser, id = _ownProps$currentUser.id, gravatar = _ownProps$currentUser.gravatar, gravatarProfile = _ownProps$currentUser.gravatarProfile, username = _ownProps$currentUser.username;\n                  meUserSummary = {\n                    id: id,\n                    gravatar: gravatar,\n                    gravatarProfile: gravatarProfile,\n                    username: username,\n                    __typename: 'UserSummary'\n                  };\n                  variables = {\n                    photo: _.pick(newPhotoInput, newPhotoKeys),\n                    ext: ext\n                  };\n                  optimisticResponse = createOptimisticResponse({\n                    meUserSummary: meUserSummary,\n                    series: series,\n                    newPhoto: newPhoto,\n                    ext: ext\n                  });\n                  _context.next = 8;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, createPhoto);\n\n                case 8:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk({\n                      series: series\n                    }, ownProps.doneCreatingPhoto)\n                  }).then(function (data) {\n                    console.log('createPhotoMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function createPhotoMutation(_x, _x2, _x3) {\n          return _createPhotoMutation.apply(this, arguments);\n        }\n\n        return createPhotoMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('updateThunk', {\n      context: context,\n      data: data\n    });\n    getWholeSeriesPhotoUpdate(store, data.createPhoto.photo);\n    allSeriesPhotoUpdate(store, context.series, data.createPhoto.photo);\n    feedUpdate(store, context.series, data.createPhoto.photo);\n    if (cb) cb(data.createPhoto.photo.id);\n  };\n};\n\nvar createOptimisticResponse = function createOptimisticResponse(_ref3) {\n  var meUserSummary = _ref3.meUserSummary,\n      series = _ref3.series,\n      newPhoto = _ref3.newPhoto,\n      ext = _ref3.ext;\n  return {\n    createPhoto: {\n      photo: {\n        id: newPhoto.id,\n        meta: newPhoto.meta || null,\n        seriesId: series.id,\n        note: newPhoto.note || '',\n        createdOn: Date.now().toString(),\n        createdUser: meUserSummary,\n        updatedUser: meUserSummary,\n        createdBy: meUserSummary.id,\n        updatedBy: meUserSummary.id,\n        uploadToken: newPhoto.uploadToken,\n        updatedOn: Date.now().toString(),\n        seriesCreatedBy: series.createdUser.id,\n        takenOn: newPhoto.takenOn,\n        coords: newPhoto.coords || null,\n        tags: newPhoto.tags || [],\n        paths: {\n          base: null,\n          large: null,\n          orig: null,\n          thumb: null,\n          medium: null,\n          __typename: 'Paths'\n        },\n        __typename: 'Photo'\n      },\n      preAuth: null,\n      __typename: 'NewPhoto'\n    }\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { graphql } from 'react-apollo';\nimport { allSeriesPhotoUpdate, feedUpdate, getWholeSeriesPhotoUpdate } from './updateQueries';\nimport { deletePhoto } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nvar withMutation = graphql(deletePhoto, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      deletePhotoMutation: function () {\n        var _deletePhotoMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(photoId) {\n          var variables, optimisticResponse, mutationStackId;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  variables = {\n                    seriesId: ownProps.series.id,\n                    photoId: photoId\n                  };\n                  optimisticResponse = {\n                    deletePhoto: photoId\n                  };\n                  _context.next = 4;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, deletePhoto);\n\n                case 4:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk({\n                      series: ownProps.series\n                    })\n                  }).then(function (data) {\n                    console.log('deletePhotoMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function deletePhotoMutation(_x) {\n          return _deletePhotoMutation.apply(this, arguments);\n        }\n\n        return deletePhotoMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('updateThunk', {\n      context: context,\n      data: data\n    });\n    allSeriesPhotoUpdate(store, null, {\n      id: data.deletePhoto\n    }, true);\n    getWholeSeriesPhotoUpdate(store, {\n      id: data.deletePhoto,\n      seriesId: context.series.id\n    }, true);\n    feedUpdate(store, context.series, {\n      id: data.deletePhoto,\n      seriesId: context.series.id\n    }, true);\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { graphql } from 'react-apollo';\nimport { allSeriesUpdate, feedUpdate, userSeriesUpdate } from './updateQueries';\nimport { deleteSeries } from '../mutations';\nimport { allSeries, userSeries, getMyFeed } from '../queries';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nvar withMutation = graphql(deleteSeries, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      deleteSeriesMutation: function () {\n        var _deleteSeriesMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var variables, optimisticResponse, mutationStackId;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  variables = {\n                    id: ownProps.activeSeries\n                  };\n                  optimisticResponse = {\n                    deleteSeries: ownProps.activeSeries\n                  };\n                  _context.next = 4;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, deleteSeries);\n\n                case 4:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    refetchQueries: [{\n                      query: allSeries,\n                      variables: {\n                        limit: 100\n                      }\n                    }, {\n                      query: userSeries\n                    }, {\n                      query: getMyFeed\n                    }],\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk()\n                  }).then(function (data) {\n                    console.log('deleteSeriesMutation:: done', {\n                      data: data,\n                      mutationStackId: mutationStackId\n                    });\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function deleteSeriesMutation() {\n          return _deleteSeriesMutation.apply(this, arguments);\n        }\n\n        return deleteSeriesMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('deleteSeriesMutation::updateThunk', {\n      data: data\n    });\n    userSeriesUpdate(store, data.deleteSeries, true);\n    allSeriesUpdate(store, {\n      id: data.deleteSeries\n    }, true);\n    feedUpdate(store, {\n      id: data.deleteSeries\n    }, null, true);\n    if (cb) cb(data.createSeries.series.id);\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { graphql } from 'react-apollo';\nimport { watchUpdate } from './updateQueries';\nimport { unWatchSeries } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nvar withMutation = graphql(unWatchSeries, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      unWatchSeriesMutation: function () {\n        var _unWatchSeriesMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var variables, optimisticResponse, mutationStackId;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  variables = {\n                    seriesId: ownProps.activeSeries\n                  };\n                  optimisticResponse = {\n                    unWatchSeries: ownProps.activeSeries\n                  };\n                  _context.next = 4;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, unWatchSeries);\n\n                case 4:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk()\n                  }).then(function (data) {\n                    console.log('unWatchSeriesMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function unWatchSeriesMutation() {\n          return _unWatchSeriesMutation.apply(this, arguments);\n        }\n\n        return unWatchSeriesMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    watchUpdate(store, data.unWatchSeries, true);\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { graphql } from 'react-apollo';\nimport { getWholeSeriesPhotoUpdate, allSeriesPhotoUpdate, feedUpdate } from './updateQueries';\nimport { updatePhoto, updatePhotoKeys } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nimport _ from 'lodash';\nvar withMutation = graphql(updatePhoto, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      updatePhotoMutation: function () {\n        var _updatePhotoMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(series, photo, photoDelta) {\n          var newUpdatePhoto, _ownProps$currentUser, id, gravatar, gravatarProfile, username, meUserSummary, variables, optimisticResponse, mutationStackId;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  newUpdatePhoto = _.pick(photoDelta, updatePhotoKeys);\n\n                  if (newUpdatePhoto.tags && newUpdatePhoto.tags.length > 0) {\n                    newUpdatePhoto.tags = newUpdatePhoto.tags.map(function (t) {\n                      var newT = _.pick(t, ['label', 'typeId', 'coords']);\n\n                      if (newT.coords) newT.coords = _.pick(newT.coords, ['x', 'y']);\n                      return newT;\n                    });\n                  }\n\n                  _ownProps$currentUser = ownProps.currentUser, id = _ownProps$currentUser.id, gravatar = _ownProps$currentUser.gravatar, gravatarProfile = _ownProps$currentUser.gravatarProfile, username = _ownProps$currentUser.username;\n                  meUserSummary = {\n                    id: id,\n                    gravatar: gravatar,\n                    gravatarProfile: gravatarProfile,\n                    username: username,\n                    __typename: 'UserSummary'\n                  };\n                  variables = {\n                    photo: newUpdatePhoto\n                  };\n                  optimisticResponse = createOptimisticResponse({\n                    meUserSummary: meUserSummary,\n                    newUpdatePhoto: newUpdatePhoto,\n                    photoDelta: photoDelta\n                  });\n                  _context.next = 8;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, updatePhoto);\n\n                case 8:\n                  mutationStackId = _context.sent;\n                  console.log('optimisticresponse', optimisticResponse);\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk({\n                      photo: photo,\n                      series: series\n                    })\n                  }).then(function (data) {\n                    console.log('updatePhotoMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 11:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function updatePhotoMutation(_x, _x2, _x3) {\n          return _updatePhotoMutation.apply(this, arguments);\n        }\n\n        return updatePhotoMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('updateThunk', {\n      context: context,\n      data: data\n    });\n    getWholeSeriesPhotoUpdate(store, _objectSpread({}, context.photo, {}, data.updatePhoto));\n    allSeriesPhotoUpdate(store, context.series, _objectSpread({}, context.photo, {}, data.updatePhoto));\n    feedUpdate(store, context.series, _objectSpread({}, context.photo, {}, data.updatePhoto));\n    if (cb) cb(data.createSeries.series.id);\n  };\n};\n\nvar createOptimisticResponse = function createOptimisticResponse(_ref3) {\n  var meUserSummary = _ref3.meUserSummary,\n      photo = _ref3.photo,\n      photoDelta = _ref3.photoDelta;\n  return {\n    updatePhoto: _objectSpread({}, photo, {}, photoDelta, {\n      updatedUser: meUserSummary,\n      updatedBy: meUserSummary.id,\n      __typename: 'Photo'\n    })\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { graphql } from 'react-apollo';\nimport { getWholeSeriesUpdate, allSeriesUpdate, feedUpdate } from './updateQueries';\nimport { updateSeries, updateSeriesKeys } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nimport _ from 'lodash';\nexport var withMutation = graphql(updateSeries, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      updateSeriesMutation: function () {\n        var _updateSeriesMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(series, seriesDelta) {\n          var _ownProps$currentUser, id, gravatar, gravatarProfile, username, meUserSummary, variables, optimisticResponse, mutationStackId;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _ownProps$currentUser = ownProps.currentUser, id = _ownProps$currentUser.id, gravatar = _ownProps$currentUser.gravatar, gravatarProfile = _ownProps$currentUser.gravatarProfile, username = _ownProps$currentUser.username;\n                  meUserSummary = {\n                    id: id,\n                    gravatar: gravatar,\n                    gravatarProfile: gravatarProfile,\n                    username: username,\n                    __typename: 'UserSummary'\n                  };\n                  variables = {\n                    series: _.pick(seriesDelta, updateSeriesKeys)\n                  };\n                  optimisticResponse = createOptimisticResponse({\n                    meUserSummary: meUserSummary,\n                    series: series,\n                    seriesDelta: seriesDelta\n                  });\n                  _context.next = 6;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, updateSeries);\n\n                case 6:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk({\n                      series: series\n                    })\n                  }).then(function (data) {\n                    console.log('updateSeriesMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function updateSeriesMutation(_x, _x2) {\n          return _updateSeriesMutation.apply(this, arguments);\n        }\n\n        return updateSeriesMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    console.log('updateThunk', {\n      context: context,\n      data: data\n    });\n    getWholeSeriesUpdate(store, data.updateSeries);\n    allSeriesUpdate(store, data.updateSeries);\n    feedUpdate(store, data.updateSeries.series, context.series.photos[0]);\n  };\n};\n\nvar createOptimisticResponse = function createOptimisticResponse(_ref3) {\n  var meUserSummary = _ref3.meUserSummary,\n      series = _ref3.series,\n      seriesDelta = _ref3.seriesDelta;\n  return {\n    updateSeries: _objectSpread({}, series, {}, seriesDelta, {\n      updatedUser: meUserSummary,\n      updatedBy: meUserSummary.id,\n      __typename: 'Series'\n    })\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { graphql } from 'react-apollo';\nimport { watchUpdate } from './updateQueries';\nimport { watchSeries } from '../mutations';\nimport { pushMutationPromise, popMutationPromise } from '../offline';\nvar withMutation = graphql(watchSeries, {\n  props: function props(_ref) {\n    var mutate = _ref.mutate,\n        ownProps = _ref.ownProps;\n    return {\n      watchSeriesMutation: function () {\n        var _watchSeriesMutation = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var variables, optimisticResponse, mutationStackId;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  variables = {\n                    seriesId: ownProps.activeSeries\n                  };\n                  optimisticResponse = {\n                    watchSeries: ownProps.activeSeries\n                  };\n                  _context.next = 4;\n                  return pushMutationPromise({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse\n                  }, watchSeries);\n\n                case 4:\n                  mutationStackId = _context.sent;\n                  return _context.abrupt(\"return\", mutate({\n                    variables: variables,\n                    optimisticResponse: optimisticResponse,\n                    update: updateThunk()\n                  }).then(function (data) {\n                    console.log('watchSeriesMutation:: done', data);\n                    popMutationPromise(mutationStackId);\n                    return data;\n                  }));\n\n                case 6:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function watchSeriesMutation() {\n          return _watchSeriesMutation.apply(this, arguments);\n        }\n\n        return watchSeriesMutation;\n      }()\n    };\n  }\n});\n\nvar updateThunk = function updateThunk(context, cb) {\n  return function (store, _ref2) {\n    var data = _ref2.data;\n    watchUpdate(store, data.watchSeries);\n  };\n};\n\nexport default {\n  withMutation: withMutation,\n  updateThunk: updateThunk\n};","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { fade, lighten } from '@material-ui/core/styles/colorManipulator';\nimport { config } from '@morphoto/client-common';\nvar typography = {\n  useNextVariants: true\n};\nvar overrides = {\n  MuiDialog: {\n    paper: {\n      '@media (max-width:321px)': {\n        margin: 10\n      }\n    },\n    paperFullWidth: {\n      '@media (max-width:321px)': {\n        width: 'calc(100% - 20px)'\n      }\n    }\n  }\n};\nvar colors = {\n  jet: '#3a3335',\n  rose: '#d81e5b',\n  redorange: '#f0544f',\n  papayawhip: '#FDF0D5',\n  cblue: '#C6D8D3'\n};\nvar home = {\n  palette: {\n    jet: {\n      main: '#3a3335'\n    },\n    rose: {\n      main: '#d81e5b'\n    },\n    redorange: {\n      main: '#f0544f'\n    },\n    papayawhip: {\n      main: '#FDF0D5'\n    },\n    cblue: {\n      main: '#C6D8D3'\n    },\n    primary: {\n      main: colors.redorange\n    },\n    secondary: {\n      main: colors.rose\n    },\n    text: {\n      primary: colors.jet,\n      secondary: fade(colors.jet, 0.7)\n    }\n  },\n  typography: typography,\n  overrides: overrides\n};\nvar homeTheme = createMuiTheme(home);\nvar access = Object.keys(config.ACCESS).reduce(function (acc, key) {\n  var accessObj = config.ACCESS[key];\n  var contrastText = homeTheme.palette.getContrastText(accessObj.color);\n  return _objectSpread({}, acc, _defineProperty({}, key, createMuiTheme({\n    palette: {\n      primary: {\n        main: accessObj.color\n      },\n      background: {\n        default: accessObj.color,\n        paper: accessObj.color\n      },\n      text: {\n        primary: contrastText,\n        secondary: fade(contrastText, 0.7)\n      }\n    }\n  })));\n}, {});\nvar series = {\n  palette: {\n    primary: {\n      main: lighten(colors.jet, 0.1)\n    },\n    secondary: {\n      main: colors.rose\n    },\n    text: {\n      primary: colors.jet,\n      secondary: fade(colors.jet, 0.7)\n    }\n  },\n  typography: typography,\n  overrides: overrides\n};\nvar login = {\n  palette: {\n    primary: {\n      main: colors.redorange\n    },\n    secondary: {\n      main: colors.rose\n    },\n    text: {\n      primary: colors.papayawhip,\n      secondary: fade(colors.papayawhip, 0.7)\n    },\n    background: {\n      default: colors.jet,\n      paper: colors.jet\n    }\n  },\n  typography: typography,\n  overrides: overrides\n};\nexport default {\n  home: homeTheme,\n  login: createMuiTheme(login),\n  series: createMuiTheme(series),\n  access: access\n};","export default {\n  '@global': {\n    'body, #root': {\n      height: '100%'\n    },\n    'html, body': {\n      overflow: 'hidden',\n      position: 'fixed',\n      fallbacks: [{\n        overflow: 'hidden'\n      }],\n      overscrollBehavior: 'contain',\n      height: '100%',\n      width: '100%'\n    },\n    '.Section__container___3YYTG': {\n      height: '100%'\n    },\n    ':not(input):not(textarea), :not(input):not(textarea)::after, :not(input):not(textarea)::before': {\n      W: 'none',\n      userSelect: 'none',\n      cursor: 'default'\n    },\n    'input, button, textarea, :focus': {\n      outline: 'none'\n    }\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nvar style = {\n  background: 'black',\n  height: '100%',\n  position: 'relative'\n};\n\nvar CosmosBlackBackground = function CosmosBlackBackground(_ref) {\n  var children = _ref.children;\n  return React.createElement(\"div\", {\n    style: style\n  }, children);\n};\n\nCosmosBlackBackground.propTypes = {\n  children: PropTypes.any.isRequired\n};\nexport default CosmosBlackBackground;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport themes, { globalStyle } from '@morphoto/themes';\nimport { AppContextProvider } from '@morphoto/client-common';\nimport { FakeData } from '@morphoto/mock';\nimport { fakeGlobalActions } from './utils';\n\nvar style = function style(theme) {\n  return {\n    '@global': _objectSpread({}, globalStyle['@global'], {\n      'html, body, #root': {\n        minHeight: '10px',\n        minWidth: '10px',\n        height: '100%'\n      }\n    })\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar MaterialUIWrap = function MaterialUIWrap(_ref) {\n  var children = _ref.children,\n      context = _ref.context,\n      theme = _ref.theme,\n      outerTheme = _ref.outerTheme,\n      iOS = _ref.iOS,\n      noTheme = _ref.noTheme;\n  var innerTheme = theme || themes.home;\n  useStyles();\n  var deviceOverride = context && context.device ? _objectSpread({}, context.device) : {};\n  if (iOS !== null) deviceOverride.ios = iOS;\n\n  var contextValue = _objectSpread({}, FakeData.fakeAppContext(), {\n    globalActions: fakeGlobalActions,\n    signedIn: true\n  }, context, {\n    device: deviceOverride\n  });\n\n  if (noTheme) {\n    return React.createElement(AppContextProvider, {\n      value: contextValue\n    }, children);\n  }\n\n  return React.createElement(AppContextProvider, {\n    value: contextValue\n  }, React.createElement(ThemeProvider, {\n    theme: outerTheme || innerTheme\n  }, React.createElement(CssBaseline, null), React.createElement(ThemeProvider, {\n    theme: innerTheme\n  }, children)));\n};\n\nMaterialUIWrap.propTypes = {\n  children: PropTypes.any.isRequired,\n  noTheme: PropTypes.bool,\n  theme: PropTypes.object,\n  iOS: PropTypes.bool,\n  outerTheme: PropTypes.object,\n  context: PropTypes.object\n};\nexport default MaterialUIWrap;","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.randomLocation = exports.fakePastDate = void 0;\n\nvar _random = require(\"./random\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _turf = require(\"@turf/turf\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _faker = _interopRequireDefault(require(\"faker\"));\n\nvar _v = _interopRequireDefault(require(\"uuid/v4\"));\n\nvar _random2 = require(\"../dist/random\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar tagColors = ['#418CF0', '#FCB441', '#E0400A', '#056492', '#BFBFBF', '#1A3B69', '#FFE382', '#129CDD', '#CA6B4B', '#005CDB', '#F3D288', '#506381', '#F1B9A8', '#E0830A', '#7893BE'];\nvar EVENT_RELATIONS = ['OWNED', 'CONTRIBUTED', 'WATCHING'];\n\nvar fakePastDate = function fakePastDate() {\n  return _moment[\"default\"].utc(_faker[\"default\"].date.past()).format('x');\n};\n\nexports.fakePastDate = fakePastDate;\n\nvar randomLocation = function randomLocation(latLngsAarr) {\n  var coords = null;\n\n  if (latLngsAarr && latLngsAarr.length > 0) {\n    coords = (0, _random.randomArrayEl)(latLngsAarr);\n  } else {\n    coords = [_lodash[\"default\"].random(-180, 179, true), _lodash[\"default\"].random(-85, 85, true)];\n  }\n\n  var newPoint = (0, _turf.transformTranslate)((0, _turf.point)(coords), _lodash[\"default\"].random(0, 2, true), _lodash[\"default\"].random(0, 360, true), {\n    units: 'kilometers'\n  });\n  return newPoint.geometry.coordinates;\n};\n\nexports.randomLocation = randomLocation;\n\nvar FakeData = function FakeData(userPool, metaConfig, tagConfig) {\n  var _this = this;\n\n  _classCallCheck(this, FakeData);\n\n  _defineProperty(this, \"basicObj\", function () {\n    var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var createdUser = FakeData.userSummary(attribs.createdUser || (0, _random.randomArrayEl)(_this.userPool));\n    var updatedUser = FakeData.userSummary(attribs.updatedUser || createdUser);\n    return {\n      id: attribs.id || (0, _v[\"default\"])(),\n      createdBy: createdUser.id,\n      updatedBy: updatedUser.id,\n      createdUser: createdUser,\n      updatedUser: updatedUser,\n      createdOn: attribs.createdOn || fakePastDate(),\n      updatedOn: attribs.updatedOn || fakePastDate()\n    };\n  });\n\n  _defineProperty(this, \"getUser\", function (id) {\n    return _this.userPool.find(function (user) {\n      return user.id === id;\n    });\n  });\n\n  _defineProperty(this, \"series\", function () {\n    var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var basicAttribs = _this.basicObj(attribs);\n\n    var fakeWidth = 800 + _lodash[\"default\"].random(-3, 3);\n\n    var fakeHeight = 600 + _lodash[\"default\"].random(-3, 3);\n\n    var photoPlaceholderArr = attribs.numPhotos ? (0, _random2.filledArray)(attribs.numPhotos) : (0, _random.randomMap)(1, 10, function (val, idx) {\n      return idx;\n    });\n\n    var whichHighlight = _lodash[\"default\"].random(0, photoPlaceholderArr.length - 1);\n\n    var access = attribs.access || (0, _random.randomArrayEl)(['PRIVATE', 'OPEN', 'PUBLIC']);\n    var photos = attribs.photos || photoPlaceholderArr.map(function (val, idx) {\n      return _this.photo({\n        width: fakeWidth,\n        height: fakeHeight,\n        createdUser: access === 'OPEN' ? null : basicAttribs.createdUser,\n        updatedUser: access === 'OPEN' ? null : basicAttribs.updatedUser,\n        featured: idx === whichHighlight,\n        hasPaths: attribs.hasPaths !== false\n      });\n    });\n    photos.forEach(function (ph) {\n      ph.seriesId = basicAttribs.id;\n      ph.seriesCreatedBy = basicAttribs.createdBy;\n    });\n    var featured = attribs.featured;\n\n    if (!featured && photos && photos.length > 0) {\n      featured = !photos ? null : FakeData.photoSummary((0, _random.randomArrayEl)(photos));\n    }\n\n    var latest = attribs.featured;\n\n    if (!latest && photos && photos.length > 0) {\n      latest = !photos ? null : FakeData.photoSummary((0, _random.randomArrayEl)(photos));\n    }\n\n    return _objectSpread({}, basicAttribs, {\n      featured: featured,\n      latest: latest,\n      name: attribs.name || _faker[\"default\"].name.title(),\n      objType: 'SERIES',\n      access: access,\n      meta: JSON.stringify(attribs.meta || {\n        project: '926ff265-e22b-400d-ae00-a817d69d5042',\n        reach: '4f310e81-e1f8-45e7-9341-859e7f4e2208'\n      }),\n      watchers: 0,\n      note: attribs.nite || _faker[\"default\"].lorem.paragraphs(_lodash[\"default\"].random(3, 4)).replace('\\n', '\\n\\n'),\n      coords: attribs.coords || [-120.333379, 44.629701],\n      direction: attribs.direction || (0, _random.randomChance)(1, 2) ? _lodash[\"default\"].random(0, 359) : null,\n      photos: photos,\n      photoCount: photos.length\n    });\n  });\n\n  _defineProperty(this, \"event\", function () {\n    var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref = attribs.series || _this.series(),\n        photos = _ref.photos,\n        series = _objectWithoutProperties(_ref, [\"photos\"]);\n\n    var photo = (0, _random.randomArrayEl)(photos);\n    return {\n      series: FakeData.seriesSummary(series),\n      photo: FakeData.photoSummary(photo),\n      relation: (0, _random.randomArrayEl)(EVENT_RELATIONS)\n    };\n  });\n\n  _defineProperty(this, \"photo\", function () {\n    var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var basic = _this.basicObj(attribs);\n\n    var templateObj = _objectSpread({}, basic, {\n      takenOn: basic.createdOn,\n      objType: 'PHOTO',\n      base64: null,\n      seriesId: attribs.seriesId || null,\n      seriesCreatedBy: attribs.seriesCreatedBy || null,\n      coords: attribs.coords || [-120.333379, 44.629701],\n      rawData: attribs.rawData || {\n        a: 1,\n        b: 2\n      },\n      note: attribs.note || _faker[\"default\"].lorem.paragraphs(_lodash[\"default\"].random(1, 4)),\n      meta: JSON.stringify(attribs.meta || {\n        user: '926ff265-e22b-400d-ae00-a817d69d5042'\n      }),\n      tags: attribs.tags || _this.tags({\n        width: attribs.width,\n        height: attribs.height\n      })\n    });\n\n    if (attribs.hasPaths) templateObj.paths = _this.getImagePaths(attribs.width || 800, attribs.height || 600);\n    return templateObj;\n  });\n\n  _defineProperty(this, \"getImagePaths\", function () {\n    var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 800;\n    var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 600;\n    var strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var newHeight = strict ? height : _lodash[\"default\"].random(-3, 3) + height;\n    var newWidth = strict ? width : _lodash[\"default\"].random(-3, 3) + width;\n    return {\n      base: \"https://placeimg.com/\".concat(newWidth, \"/\").concat(newHeight, \"/\"),\n      thumb: \"nature\",\n      medium: \"nature\",\n      large: \"nature\",\n      orig: \"nature\"\n    };\n  });\n\n  _defineProperty(this, \"tags\", function () {\n    var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return _this.appContext.tagConfig.reduce(function (acc, tagType) {\n      var pool = _lodash[\"default\"].shuffle(_toConsumableArray(tagType.values));\n\n      var newItems = (0, _random.randomMap)(1, pool.length, function (num, idt) {\n        return FakeData.tag({\n          label: pool[idt].label,\n          id: pool[idt].id,\n          typeId: tagType.id,\n          width: attribs.width,\n          height: attribs.height\n        });\n      });\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(newItems));\n    }, []);\n  });\n\n  this.userPool = userPool || (0, _random.randomMap)(1, 10, function () {\n    return FakeData.user();\n  });\n  this.appContext = FakeData.fakeAppContext(metaConfig, tagConfig, this.userPool);\n};\n\n_defineProperty(FakeData, \"fakeAppContext\", function (metaConfig, tagConfig, userPool) {\n  var sampleUser = (0, _random.randomArrayEl)(userPool);\n  return {\n    metaConfig: metaConfig || {\n      user: {\n        objType: 'PHOTO',\n        label: 'User',\n        \"default\": sampleUser,\n        render: function render(key) {\n          return \"User 1: \".concat(sampleUser ? sampleUser.username : 'User 1');\n        }\n      }\n    },\n    currentUser: sampleUser,\n    getPhotoUrls: FakeData.getPhotoUrls,\n    onAvatarClick: function onAvatarClick(username) {\n      return console.log('onAvatarClick', username);\n    },\n    tagConfig: tagConfig || [FakeData.freeBothTags, FakeData.structureTags, FakeData.treeTags, FakeData.emotionTags, FakeData.seasonTags]\n  };\n});\n\n_defineProperty(FakeData, \"getPhotoUrls\", function _callee(photo, sizePriority) {\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n\n          if (!(!photo.paths || photo.paths.length === 0)) {\n            _context.next = 3;\n            break;\n          }\n\n          return _context.abrupt(\"return\", Promise.reject(new Error('No Photos Found')));\n\n        case 3:\n          console.log('FAKEDATA: resolving image');\n          return _context.abrupt(\"return\", sizePriority.map(function (sp) {\n            return \"\".concat(photo.paths.base).concat(photo.paths[sp]);\n          }));\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", Promise.reject(_context.t0));\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]]);\n});\n\n_defineProperty(FakeData, \"photoSummary\", function (_ref2) {\n  var id = _ref2.id,\n      createdUser = _ref2.createdUser,\n      takenOn = _ref2.takenOn,\n      updatedOn = _ref2.updatedOn,\n      createdOn = _ref2.createdOn,\n      psid = _ref2.seriesId,\n      seriesCreatedBy = _ref2.seriesCreatedBy,\n      paths = _ref2.paths;\n  var templateObj = {\n    id: id,\n    createdUser: createdUser,\n    takenOn: takenOn,\n    updatedOn: updatedOn,\n    createdOn: createdOn,\n    seriesId: psid,\n    seriesCreatedBy: seriesCreatedBy,\n    paths: paths\n  };\n  return templateObj;\n});\n\n_defineProperty(FakeData, \"seriesSummary\", function (_ref3) {\n  var id = _ref3.id,\n      name = _ref3.name,\n      createdUser = _ref3.createdUser,\n      access = _ref3.access,\n      updatedOn = _ref3.updatedOn,\n      createdOn = _ref3.createdOn,\n      coords = _ref3.coords,\n      watchers = _ref3.watchers,\n      featured = _ref3.featured,\n      latest = _ref3.latest,\n      photoCount = _ref3.photoCount,\n      seriesStatus = _ref3.seriesStatus,\n      direction = _ref3.direction;\n  var templateObj = {\n    id: id,\n    name: name,\n    createdUser: createdUser,\n    access: access,\n    updatedOn: updatedOn,\n    createdOn: createdOn,\n    coords: coords,\n    watchers: watchers,\n    featured: featured,\n    latest: latest,\n    photoCount: photoCount,\n    seriesStatus: seriesStatus,\n    direction: direction\n  };\n  return templateObj;\n});\n\n_defineProperty(FakeData, \"userSummary\", function (_ref4) {\n  var id = _ref4.id,\n      gravatar = _ref4.gravatar,\n      gravatarProfile = _ref4.gravatarProfile,\n      username = _ref4.username;\n  return {\n    id: id,\n    gravatar: gravatar,\n    gravatarProfile: gravatarProfile,\n    username: username\n  };\n});\n\n_defineProperty(FakeData, \"tag\", function () {\n  var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    label: attribs.label,\n    id: attribs.id || (0, _v[\"default\"])(),\n    typeId: attribs.typeId,\n    xyCoords: attribs.width && attribs.height ? {\n      x: _lodash[\"default\"].random(20, attribs.width - 20),\n      y: _lodash[\"default\"].random(20, attribs.height - 20)\n    } : null\n  };\n});\n\n_defineProperty(FakeData, \"user\", function () {\n  var attribs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    id: (0, _v[\"default\"])(),\n    objType: 'USER',\n    createdOn: attribs.createdOn || fakePastDate(),\n    updatedOn: attribs.updatedOn || fakePastDate(),\n    username: attribs.username || \"\".concat(_faker[\"default\"].name.firstName(), \" \").concat(_faker[\"default\"].name.lastName()),\n    gravatar: attribs.avatarSrc || \"https://placeimg.com/\".concat(_lodash[\"default\"].random(80, 100), \"/\").concat(_lodash[\"default\"].random(80, 100), \"/people\"),\n    gravatarProfile: 'https://s.gravatar.com/b65e93508e1b7eae0af790ec9c65093b.json',\n    watching: [],\n    meta: JSON.stringify(attribs.meta || {})\n  };\n});\n\n_defineProperty(FakeData, \"_freeBothTagsValues\", ['Groovy', 'Elbow', 'Boat', 'Anchovy', 'Garden', 'Sunday', 'Green#$@324', 'Beaver Stuff', '234Little Things', 'Spaceship', 'SAG', '(  Am I Right?    )', '{{{{\"\\'STEREO\\'\"}}}}}', 'mytag', 'XYTAGS', 'Generation', 'Frogs', 'randomTag', 'Januarry 2005', '2018'].map(function (label, idx) {\n  return {\n    label: label,\n    id: (0, _v[\"default\"])(),\n    count: idx * 31 + _lodash[\"default\"].random(1, 20)\n  };\n}));\n\n_defineProperty(FakeData, \"freeBothTags\", {\n  id: 'freeBothType',\n  label: 'Anything Goes Tag',\n  color: tagColors[8],\n  allowXY: true,\n  allowNonXY: true,\n  allowAdditions: true,\n  values: FakeData._freeBothTagsValues\n});\n\n_defineProperty(FakeData, \"treeTags\", {\n  id: 'treetypes',\n  label: 'Tree Types',\n  color: tagColors[1],\n  allowXY: true,\n  allowNonXY: false,\n  allowAdditions: true,\n  values: ['Elm', 'Birch', 'Palm', 'Cottonwood', 'Oak'].map(function (label, idx) {\n    return {\n      label: label,\n      id: (0, _v[\"default\"])()\n    };\n  })\n});\n\n_defineProperty(FakeData, \"structureTags\", {\n  id: 'structures',\n  label: 'Structures',\n  color: tagColors[2],\n  allowXY: true,\n  allowNonXY: false,\n  allowAdditions: false,\n  values: (0, _random.randomMap)(10, 15, function (val, idx) {\n    return {\n      label: \"Structure-\".concat(idx),\n      id: (0, _v[\"default\"])()\n    };\n  })\n});\n\n_defineProperty(FakeData, \"emotionTags\", {\n  id: 'emotions',\n  label: 'Emotions',\n  color: tagColors[3],\n  allowXY: false,\n  allowNonXY: true,\n  allowAdditions: true,\n  values: ['Indignation', 'Anger', 'Confusion', 'Ambivalence', 'Cautious'].map(function (label, idx) {\n    return {\n      label: label,\n      id: (0, _v[\"default\"])()\n    };\n  })\n});\n\n_defineProperty(FakeData, \"seasonTags\", {\n  id: 'season',\n  label: 'Season',\n  color: tagColors[5],\n  allowXY: false,\n  allowNonXY: true,\n  allowAdditions: false,\n  values: ['Winter', 'Spring', 'Summer', 'Fall'].map(function (label, idx) {\n    return {\n      label: label,\n      id: (0, _v[\"default\"])()\n    };\n  })\n});\n\nvar _default = FakeData;\nexports[\"default\"] = _default;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport default require('./themes').default;\nexport var mapbox = require('./jss/mapbox.css').default;\nexport var roboto = require('./jss/typeface-roboto.css').default;\nexport var baseline = require('./jss/baseline.css').default;\nexport var globalStyle = {\n  '@global': _objectSpread({}, require('./jss/mapbox.css')['@global'], {}, require('./jss/typeface-roboto.css')['@global'])\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {};\n};\n\nvar useStyles = makeStyles(style);\n\nvar DeleteDialog = function DeleteDialog(_ref) {\n  var title = _ref.title,\n      message = _ref.message,\n      onConfirm = _ref.onConfirm,\n      open = _ref.open;\n  var classes = useStyles();\n  return React.createElement(Dialog, {\n    className: classes.root,\n    disableBackdropClick: true,\n    open: open,\n    disableEscapeKeyDown: true,\n    fullWidth: true,\n    maxWidth: \"xl\",\n    \"aria-labelledby\": \"confirmation-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"confirmation-dialog-title\"\n  }, title), React.createElement(DialogContent, null, React.createElement(Typography, null, message)), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return onConfirm(false);\n    },\n    color: \"primary\"\n  }, \"No\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return onConfirm(true);\n    },\n    color: \"primary\"\n  }, \"Yes\")));\n};\n\nDeleteDialog.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  onConfirm: PropTypes.func.isRequired\n};\nexport default DeleteDialog;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {};\n};\n\nvar useStyles = makeStyles(style);\n\nvar CancelConfirm = function CancelConfirm(_ref) {\n  var title = _ref.title,\n      message = _ref.message,\n      onConfirm = _ref.onConfirm,\n      open = _ref.open;\n  var classes = useStyles();\n  return React.createElement(Dialog, {\n    className: classes.root,\n    disableBackdropClick: true,\n    fullWidth: true,\n    open: open,\n    disableEscapeKeyDown: true,\n    maxWidth: \"xl\",\n    \"aria-labelledby\": \"confirmation-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"confirmation-dialog-title\"\n  }, title), React.createElement(DialogContent, null, React.createElement(Typography, null, message)), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return onConfirm(false);\n    },\n    color: \"primary\"\n  }, \"No\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return onConfirm(true);\n    },\n    color: \"secondary\"\n  }, \"Yes\")));\n};\n\nCancelConfirm.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  onConfirm: PropTypes.func.isRequired\n};\nexport default CancelConfirm;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Apple as AppleIcon } from '@morphoto/icons';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    icon: {\n      height: 50,\n      width: '100%',\n      margin: '0 auto',\n      color: theme.palette.error.main\n    },\n    title: {}\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar FeatureDisabled = function FeatureDisabled(_ref) {\n  var title = _ref.title,\n      message = _ref.message,\n      onClose = _ref.onClose,\n      open = _ref.open,\n      icon = _ref.icon;\n  var classes = useStyles();\n  var IconComp = icon || AppleIcon;\n  return React.createElement(Dialog, {\n    className: classes.root,\n    fullWidth: true,\n    open: open,\n    PaperProps: {\n      style: {\n        maxWidth: 'none'\n      }\n    },\n    onClose: onClose,\n    maxWidth: \"xl\",\n    \"aria-labelledby\": \"confirmation-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    id: \"confirmation-dialog-title\",\n    className: classes.title\n  }, title), React.createElement(DialogContent, null, React.createElement(IconComp, {\n    className: classes.icon\n  }), React.createElement(Typography, {\n    component: \"div\"\n  }, message)), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: onClose,\n    color: \"primary\"\n  }, \"Ok\")));\n};\n\nFeatureDisabled.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.any,\n  message: PropTypes.any,\n  onClose: PropTypes.func.isRequired\n};\nexport default FeatureDisabled;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    body: {\n      overflow: 'hidden',\n      whiteSpace: 'pre-line',\n      paddingBottom: theme.spacing(1)\n    },\n    title: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      alignSelf: 'flex-start',\n      width: '100%',\n      margin: 0,\n      display: 'flex',\n      padding: theme.spacing(2)\n    },\n    dlgTitle: {\n      flexGrow: 1\n    },\n    closeButton: {\n      padding: 0,\n      alignSelf: 'flex-start'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar BigText = function BigText(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      title = _ref.title,\n      body = _ref.body;\n  var classes = useStyles();\n  return React.createElement(Dialog, {\n    scroll: \"paper\",\n    open: open,\n    fullWidth: true,\n    maxWidth: \"xl\",\n    onClose: onClose,\n    \"aria-labelledby\": \"simple-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    className: classes.title,\n    disableTypography: true\n  }, React.createElement(Typography, {\n    className: classes.dlgTitle\n  }, title), React.createElement(IconButton, {\n    color: \"inherit\",\n    className: classes.closeButton,\n    onClick: onClose\n  }, React.createElement(CloseIcon, {\n    color: \"inherit\"\n  }))), React.createElement(DialogContent, null, React.createElement(Typography, {\n    variant: \"body2\",\n    className: classes.body\n  }, body)));\n};\n\nBigText.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  title: PropTypes.string,\n  body: PropTypes.string\n};\nexport default BigText;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    body: {},\n    textArea: {\n      whiteSpace: 'pre-line',\n      padding: theme.spacing(1),\n      border: \"1px solid \".concat(theme.palette.grey[200]),\n      background: theme.palette.grey[100]\n    },\n    dlgContent: {\n      overflow: 'hidden'\n    },\n    title: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      alignSelf: 'flex-start',\n      width: '100%',\n      margin: 0,\n      display: 'flex',\n      padding: theme.spacing(2)\n    },\n    closeButton: {\n      padding: 0,\n      alignSelf: 'flex-start'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar BigTextEdit = function BigTextEdit(_ref) {\n  var open = _ref.open,\n      onOk = _ref.onOk,\n      title = _ref.title,\n      body = _ref.body,\n      multiline = _ref.multiline;\n  var classes = useStyles();\n\n  var _useState = useState(body || ''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  return React.createElement(Dialog, {\n    scroll: \"paper\",\n    open: open,\n    fullWidth: true,\n    maxWidth: \"xl\",\n    onClose: function onClose() {\n      return onOk(value);\n    }\n  }, React.createElement(DialogTitle, {\n    className: classes.title\n  }, title), React.createElement(DialogContent, {\n    className: classes.dlgContent\n  }, React.createElement(TextField, {\n    className: classes.body,\n    multiline: multiline,\n    inputProps: {\n      className: classes.textArea\n    },\n    autoFocus: true,\n    fullWidth: true,\n    rows: 6,\n    rowsMax: 6,\n    onChange: function onChange(e) {\n      return setValue(e.target.value);\n    },\n    defaultValue: body\n  })), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return onOk(body);\n    }\n  }, \"Cancel\"), React.createElement(\"div\", {\n    style: {\n      flexGrow: 1\n    }\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return onOk(value);\n    }\n  }, \"Ok\")));\n};\n\nBigTextEdit.propTypes = {\n  open: PropTypes.bool,\n  multiline: PropTypes.bool,\n  onOk: PropTypes.func,\n  title: PropTypes.string,\n  body: PropTypes.string\n};\nexport default BigTextEdit;","export { default as DeleteDialog } from './DeleteDialog';\nexport { default as CancelConfirm } from './CancelConfirm';\nexport { default as FeatureDisabled } from './FeatureDisabled';\nexport { default as BigText } from './BigText';\nexport { default as BigTextEdit } from './BigTextEdit';","import _taggedTemplateLiteral from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  query s3Credentials($seriesId: ID!, $photoId: ID!, $ext: String!)  {\\n    s3Credentials(seriesId: $seriesId, photoId: $photoId, ext: $ext)\\n  }\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\nquery getWholeSeries($id: ID!) {\\n  series(id: $id) {\\n    ...seriesFragment\\n    photos {\\n      ...photoFragment\\n    }\\n  }\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\nquery userSearch($searchStr: String!, $limit: Int) {\\n  userSearch(searchStr: $searchStr, limit: $limit ){\\n    ...userFragment\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\nquery myFeed($start: String, $end: String, $limit: Int) {\\n  myFeed(start: $start, end: $end, limit: $limit) @connection(key: \\\"myFeed\\\"){\\n    feed {\\n      _id\\n      series {\\n        ...seriesSummaryFragment\\n      }\\n      photo {\\n        ...photoSummaryFragment\\n      }\\n      relation\\n      __typename\\n    }\\n    window\\n    __typename\\n  }\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\nquery geocode($search: String!) {\\n  geocoder(search: $search) {\\n    relevance\\n    text\\n    placeName\\n    bbox\\n    center\\n    # geoType\\n    # context\\n    __typename\\n  }\\n}\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\nquery getUser($userId: ID) {\\n  user(id: $userId){\\n    ...userFragment\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\nquery seriesInGeoBoundsIdOnly($bounds: [Float], $limit: Int, $nextToken: String) {\\n  seriesInGeoBounds(bounds: $bounds, limit: $limit, nextToken: $nextToken) @connection(key: \\\"seriesInGeoBoundsSHORT\\\", filter: [\\\"bounds\\\"]){\\n    seriesSummaries {\\n      id\\n      name\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\nquery seriesInGeoBounds($bounds: [Float], $limit: Int, $nextToken: String) {\\n  seriesInGeoBounds(bounds: $bounds, limit: $limit, nextToken: $nextToken) @connection(key: \\\"seriesInGeoBounds\\\", filter: [\\\"bounds\\\"]){\\n    seriesSummaries {\\n      ...seriesSummaryFragment\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\nquery tagSearch($limit: Int, $tag: String, $nextToken:  String) {\\n  tags(limit: $limit, tag: $tag, nextToken: $nextToken ){\\n    _id\\n    name\\n    count\\n    __typename\\n  }\\n}\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\nquery seriesWithTag($tag: String!, $limit: Int, $nextToken: String){\\n  tagSeries(tag: $tag, limit: $limit, nextToken: $nextToken)  @connection(key: \\\"tagSeries\\\", filter: [\\\"tag\\\"]){\\n    seriesSummaries{\\n      ...seriesSummaryFragment\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\nquery seriesFromList($seriesList: [ID]) {\\n  arraySeries(seriesIds: $seriesList) {\\n    ...seriesFragment\\n    photos {\\n      ...photoFragment\\n    }\\n  }\\n}\\n\", \"\\n\", \"\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\nquery seriesFromList($seriesList: [ID]) {\\n  arraySeries(seriesIds: $seriesList) {\\n    ...seriesSummaryFragment\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\nquery keywordSearch($searchStr: String, $limit: Int, $nextToken: String) {\\n  keywordSearch(searchStr: $searchStr, limit: $limit, nextToken: $nextToken) {\\n    seriesSummaries {\\n      ...seriesSummaryFragment\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\nquery userSeries($createdBy: ID) {\\n  userSeries(createdBy: $createdBy ) {\\n    seriesSummaries {\\n      ...seriesSummaryFragment\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\nquery pollQuery($lastCheck: String!, $limit: Int, $nextToken: String) {\\n  changedSeries(lastCheck: $lastCheck, limit: $limit, nextToken: $nextToken) @connection(key: \\\"changedSeries\\\"){\\n    seriesSummaries {\\n      ...seriesSummaryFragment\\n    }\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nquery allSeries($limit: Int, $nextToken: String) {\\n  allSeries(limit: $limit, nextToken: $nextToken) @connection(key: \\\"allSeries\\\"){\\n    seriesSummaries {\\n      ...seriesSummaryFragment\\n    }\\n    nextToken\\n    __typename\\n  }\\n}\\n\", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nquery init {\\n  init\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport { photoSummaryFragment, photoFragment, seriesSummaryFragment, seriesFragment, userFragment } from './fragments';\nexport var initQuery = gql(_templateObject());\nexport var allSeries = gql(_templateObject2(), seriesSummaryFragment);\nexport var pollQuery = gql(_templateObject3(), seriesSummaryFragment);\nexport var userSeries = gql(_templateObject4(), seriesSummaryFragment);\nexport var keywordSearch = gql(_templateObject5(), seriesSummaryFragment);\nexport var seriesSummaryFromList = gql(_templateObject6(), seriesSummaryFragment);\nexport var seriesFromList = gql(_templateObject7(), seriesFragment, photoFragment);\nexport var seriesWithTag = gql(_templateObject8(), seriesSummaryFragment);\nexport var tagSearch = gql(_templateObject9());\nexport var geoSeries = gql(_templateObject10(), seriesSummaryFragment);\nexport var geoSeriesIdOnly = gql(_templateObject11());\nexport var getUser = gql(_templateObject12(), userFragment);\nexport var geocode = gql(_templateObject13());\nexport var getMyFeed = gql(_templateObject14(), seriesSummaryFragment, photoSummaryFragment);\nexport var userSearch = gql(_templateObject15(), userFragment);\nexport var getWholeSeries = gql(_templateObject16(), seriesFragment, photoFragment);\nexport var getNewS3Credentials = gql(_templateObject17());","import Satellite from './Satellite.json';\nimport TopoMap from './TopoMap.json';\nimport { Satellite as SatIcon, SatelliteOutlined, Terrain, TerrainOutlined } from '@material-ui/icons';\nexport default [{\n  toolTip: 'Sat',\n  Icon: SatelliteOutlined,\n  ActiveIcon: SatIcon,\n  color: 'green',\n  style: Satellite\n}, {\n  toolTip: 'Topo',\n  Icon: TerrainOutlined,\n  ActiveIcon: Terrain,\n  color: 'blue',\n  style: TopoMap\n}];","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      width: 1,\n      height: 1,\n      zIndex: 1\n    },\n    svgDot: {\n      width: 20,\n      height: 20,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    svgAccuracyDot: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar MyLocation = function MyLocation(_ref) {\n  var position = _ref.position,\n      projection = _ref.projection;\n  var classes = useStyles();\n  var accuracy = 20;\n  var accHeight = projection.pixelsPerMeter[0] * accuracy;\n  var accWidth = projection.pixelsPerMeter[1] * accuracy;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"svg\", {\n    style: {\n      height: accHeight,\n      width: accWidth\n    },\n    className: classes.svgAccuracyDot,\n    version: \"1.1\",\n    viewBox: \"0, 0, 100, 100\"\n  }, React.createElement(\"circle\", {\n    cx: \"50\",\n    cy: \"50\",\n    r: 49,\n    stroke: \"#8888FF\",\n    fillOpacity: \"0.4\",\n    strokeWidth: \"1\",\n    fill: \"#AAAAFF\"\n  })), React.createElement(\"svg\", {\n    className: classes.svgDot,\n    version: \"1.1\",\n    viewBox: \"0, 0, 10, 10\"\n  }, React.createElement(\"circle\", {\n    cx: \"5\",\n    cy: \"5\",\n    r: \"4\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: \"1\",\n    fill: \"#4444FF\"\n  })));\n};\n\nMyLocation.propTypes = {\n  position: PropTypes.object,\n  projection: PropTypes.object\n};\nexport default MyLocation;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      zIndex: 10,\n      position: 'absolute'\n    },\n    speedDialFab: {\n      border: '2px solid',\n      background: theme.palette.text.primary,\n      color: theme.palette.primary.contrastText,\n      width: 40,\n      height: 40\n    },\n    speedDialAction: {},\n    speedDialIcon: {},\n    speedDialLabel: {\n      background: 'black',\n      color: 'white'\n    },\n    actionsClosed: {\n      display: 'none'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar StyleButtons = function StyleButtons(_ref) {\n  var controlPadding = _ref.controlPadding,\n      currStyle = _ref.currStyle,\n      mapStyles = _ref.mapStyles,\n      setCurrStyle = _ref.setCurrStyle;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var noEventSetOpen = function noEventSetOpen(e, state) {\n    console.log('noEventSetOpen', e, state);\n    e.preventDefault();\n    e.stopPropagation();\n    setOpen(state);\n  };\n\n  if (!mapStyles || !Array.isArray(mapStyles) || mapStyles.length < 2 || !mapStyles[currStyle]) return null;\n  var currStyleObj = mapStyles[currStyle];\n  var ActiveIcon = currStyleObj.ActiveIcon;\n  return React.createElement(\"div\", {\n    className: classes.root,\n    style: {\n      top: controlPadding.top ? controlPadding.top : theme.spacing(2),\n      right: controlPadding.right ? controlPadding.right : theme.spacing(2)\n    }\n  }, mapStyles.length > 1 && React.createElement(SpeedDial, {\n    ariaLabel: \"SpeedDial\",\n    className: classes.speedDial,\n    classes: {\n      fab: classes.speedDialFab,\n      actionsClosed: classes.actionsClosed\n    },\n    icon: React.createElement(ActiveIcon, {\n      className: classes.icon\n    }),\n    onClick: function onClick(e) {\n      return noEventSetOpen(e, !open);\n    },\n    onClose: function onClose(e) {\n      return noEventSetOpen(e, false);\n    },\n    open: open,\n    direction: \"left\"\n  }, mapStyles.map(function (_ref2, idx) {\n    var Icon = _ref2.Icon,\n        ActiveIcon = _ref2.ActiveIcon,\n        toolTip = _ref2.toolTip;\n    return React.createElement(SpeedDialAction, {\n      key: \"stylebutton\".concat(idx),\n      icon: React.createElement(Icon, {\n        className: classes.speedDialIcon\n      }),\n      tooltipOpen: false,\n      tooltipPlacement: \"bottom\",\n      tooltipTitle: toolTip,\n      onClick: function onClick() {\n        setCurrStyle(idx);\n        setOpen(false);\n      }\n    });\n  })));\n};\n\nStyleButtons.propTypes = {\n  controlPadding: PropTypes.object,\n  currStyle: PropTypes.number,\n  mapStyles: PropTypes.array,\n  setCurrStyle: PropTypes.func\n};\nStyleButtons.defaultProps = {\n  controlPadding: {}\n};\nexport default StyleButtons;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      border: '1px solid',\n      background: theme.palette.grey[100],\n      color: 'black',\n      width: 40,\n      height: 40,\n      zIndex: 10,\n      position: 'absolute'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar MyLocationButton = function MyLocationButton(_ref) {\n  var onClick = _ref.onClick,\n      controlPadding = _ref.controlPadding,\n      disabled = _ref.disabled;\n  var classes = useStyles();\n  var theme = useTheme();\n  return React.createElement(Fab, {\n    disabled: disabled,\n    style: {\n      top: 56 + (controlPadding.top ? controlPadding.top : theme.spacing(2)),\n      right: controlPadding.right ? controlPadding.right : theme.spacing(2)\n    },\n    \"aria-label\": \"myLocation\",\n    className: classes.root,\n    onClick: onClick\n  }, React.createElement(MyLocationIcon, null));\n};\n\nMyLocationButton.propTypes = {\n  controlPadding: PropTypes.object,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\nexport default MyLocationButton;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useRef, useMemo, useEffect } from 'react';\nimport ReactMapGL, { NavigationControl, Marker, FlyToInterpolator } from 'react-map-gl';\nimport PropTypes from 'prop-types';\nimport { easeCubic } from 'd3-ease';\nimport WebMercatorViewport, { getDistanceScales } from 'viewport-mercator-project';\nimport mapStyles from './mapStyles';\nimport MyLocation from './markers/MyLocation';\nimport StyleButtons from './controls/StyleButtons';\nimport MyLocationButton from './controls/MyLocationButton';\nimport { useGeolocation, useComponentSize, config } from '@morphoto/client-common';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nvar useStyles = makeStyles(require('./BaseMap.style').default);\n\nvar BaseMap = function BaseMap(props) {\n  var classes = useStyles();\n\n  var showMe = props.showMe,\n      children = props.children,\n      mapStyles = props.mapStyles,\n      controlPadding = props.controlPadding,\n      initViewport = props.viewport,\n      bounds = props.bounds,\n      lockToBounds = props.lockToBounds,\n      lockPan = props.lockPan,\n      initStyle = props.initStyle,\n      incomingOnViewportChange = props.onViewportChange,\n      incomingOnTransitionStart = props.onTransitionStart,\n      incomingOnTransitionEnd = props.onTransitionEnd,\n      transitions = props.transitions,\n      onMapDataEvent = props.onMapDataEvent,\n      stylechooser = props.stylechooser,\n      passthroughProps = _objectWithoutProperties(props, [\"showMe\", \"children\", \"mapStyles\", \"controlPadding\", \"viewport\", \"bounds\", \"lockToBounds\", \"lockPan\", \"initStyle\", \"onViewportChange\", \"onTransitionStart\", \"onTransitionEnd\", \"transitions\", \"onMapDataEvent\", \"stylechooser\"]);\n\n  var mapContainerRef = useRef(null);\n  var mapBoxRef = useRef(null);\n  var innerTransitionsRef = useRef(null);\n\n  var _useComponentSize = useComponentSize(mapContainerRef),\n      size = _useComponentSize.size;\n\n  var _useState = useState(initStyle),\n      _useState2 = _slicedToArray(_useState, 2),\n      currStyle = _useState2[0],\n      setCurrStyle = _useState2[1];\n\n  var _useState3 = useState(_objectSpread({}, defaultViewVals, {}, initViewport)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      viewport = _useState4[0],\n      setViewport = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isTransitioning = _useState6[0],\n      setIsTransitioning = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      projection = _useState8[0],\n      setProjection = _useState8[1];\n\n  var myPosition = {};\n  myPosition = useGeolocation();\n  var geoMarker = myPosition.latitude && myPosition.longitude ? React.createElement(Marker, {\n    key: \"myPos\",\n    className: \"myPosMarker\",\n    captureDrag: false,\n    latitude: myPosition.latitude,\n    longitude: myPosition.longitude,\n    style: {\n      zIndex: 1\n    }\n  }, React.createElement(MyLocation, {\n    position: myPosition,\n    projection: projection\n  })) : null;\n  useMemo(function () {\n    if (!size || size.width < 10 || size.height < 10) return;\n    if (mapStyles.length <= currStyle) setCurrStyle(initStyle);\n\n    try {\n      var _projection = getDistanceScales(viewport);\n\n      console.log('recalcProjection', {\n        projection: _projection,\n        size: size\n      });\n      setProjection(_projection);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [viewport.zoom, size]);\n\n  var flyToMe = function flyToMe() {\n    if (!myPosition.latitude || !myPosition.longitude) return;\n    var transitionTime = 2000;\n    innerTransitionsRef.current = {\n      transitionDuration: transitionTime,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionEasing: easeCubic\n    };\n    setTimeout(function () {\n      if (innerTransitionsRef.current) innerTransitionsRef.current = null;\n    }, transitionTime);\n    setViewport(_objectSpread({}, viewport, {\n      latitude: myPosition.latitude,\n      longitude: myPosition.longitude,\n      zoom: viewport.zoom > 10 ? viewport.zoom : 12\n    }));\n  };\n\n  var _onViewportChange = function onViewportChange(viewportChange) {\n    var newViewport = _objectSpread({}, viewportChange);\n\n    if (bounds && lockToBounds) {\n      if (newViewport.longitude < bounds[0]) newViewport.longitude = bounds[0];else if (newViewport.longitude > bounds[2]) newViewport.longitude = bounds[2];\n      if (newViewport.latitude < bounds[1]) newViewport.latitude = bounds[1];else if (newViewport.latitude > bounds[3]) newViewport.latitude = bounds[3];\n    }\n\n    if (lockPan) {\n      newViewport.latitude = viewport.latitude;\n      newViewport.longitude = viewport.longitude;\n    }\n\n    if (!isTransitioning && typeof incomingOnViewportChange === 'function') {\n      incomingOnViewportChange({\n        viewport: newViewport,\n        size: size,\n        projection: projection,\n        map: mapBoxRef.current && mapBoxRef.current.getMap()\n      });\n    }\n\n    setViewport(newViewport);\n  };\n\n  var recalcZoomBounds = function recalcZoomBounds() {\n    if (!bounds || !size || size.width < 10 || size.height < 10 || isTransitioning) return;\n\n    var _bounds = _slicedToArray(bounds, 4),\n        minlng = _bounds[0],\n        minlat = _bounds[1],\n        maxlng = _bounds[2],\n        maxlat = _bounds[3];\n\n    try {\n      var _fitBounds = new WebMercatorViewport(_objectSpread({}, size, {}, viewport)).fitBounds([[minlng, minlat], [maxlng, maxlat]], {\n        padding: 40,\n        offset: [0, 0]\n      }),\n          longitude = _fitBounds.longitude,\n          latitude = _fitBounds.latitude,\n          zoom = _fitBounds.zoom;\n\n      setViewport(_objectSpread({}, viewport, {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      }));\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  var handleTransitionStart = function handleTransitionStart() {\n    setIsTransitioning(true);\n    if (typeof incomingOnTransitionStart === 'function') incomingOnTransitionStart();\n  };\n\n  var handleTransitionEnd = function handleTransitionEnd() {\n    setIsTransitioning(false);\n    innerTransitionsRef.current = null;\n    if (incomingOnTransitionEnd) incomingOnTransitionEnd();\n\n    if (typeof incomingOnViewportChange === 'function') {\n      incomingOnViewportChange({\n        viewport: viewport,\n        size: size,\n        projection: projection,\n        map: mapBoxRef.current && mapBoxRef.current.getMap()\n      });\n    }\n  };\n\n  useMemo(recalcZoomBounds, [size, bounds]);\n  useEffect(function () {\n    setViewport(_objectSpread({}, viewport, {}, initViewport));\n  }, [initViewport]);\n  return React.createElement(\"div\", {\n    className: classNames(classes.mapContainer, props.className),\n    ref: mapContainerRef\n  }, size.height > 0 && size.width > 0 && React.createElement(ReactMapGL, _extends({}, viewport, innerTransitionsRef.current || transitions, {\n    ref: function ref(map) {\n      mapBoxRef.current = map;\n    },\n    height: size.height,\n    width: size.width,\n    mapStyle: currStyle < mapStyles.length ? mapStyles[currStyle].style : mapStyles[0].style,\n    onData: onMapDataEvent,\n    onTransitionStart: handleTransitionStart,\n    onTransitionEnd: handleTransitionEnd,\n    dragPan: !lockPan,\n    onViewportChange: _onViewportChange,\n    mapboxApiAccessToken: config.mapConfig.mapBoxToken\n  }, passthroughProps), children && Array.isArray(children) ? children.map(function (c, idx) {\n    return c ? React.cloneElement(handleChild(c, viewport, size.height, size.width, projection), {\n      key: \"mapChild-\".concat(idx)\n    }) : null;\n  }) : handleChild(children, viewport, size.height, size.width, projection), stylechooser && React.createElement(StyleButtons, {\n    controlPadding: controlPadding,\n    currStyle: currStyle,\n    mapStyles: mapStyles,\n    setCurrStyle: setCurrStyle\n  }), !props.hideNavControls && React.createElement(NavigationControl, {\n    onViewportChange: function onViewportChange(viewport) {\n      return _onViewportChange(_objectSpread({}, viewport, {}, size));\n    },\n    showZoom: !props.touchZoom === false && !props.scrollZoom === false,\n    showCompass: !props.touchRotate === false && !props.dragRotate === false\n  }), showMe && !lockPan && React.createElement(React.Fragment, null, geoMarker, React.createElement(MyLocationButton, {\n    disabled: !myPosition || !myPosition.latitude,\n    controlPadding: controlPadding,\n    onClick: flyToMe\n  }))));\n};\n\nBaseMap.propTypes = {\n  children: PropTypes.any,\n  data: PropTypes.array,\n  controlPadding: PropTypes.object,\n  showMe: PropTypes.bool,\n  className: PropTypes.string,\n  touchZoom: PropTypes.bool,\n  scrollZoom: PropTypes.bool,\n  touchRotate: PropTypes.bool,\n  dragRotate: PropTypes.bool,\n  transitions: PropTypes.object,\n  viewport: PropTypes.object,\n  initStyle: PropTypes.number,\n  stylechooser: PropTypes.bool,\n  lockPan: PropTypes.bool,\n  lockRotation: PropTypes.bool,\n  lockZoom: PropTypes.bool,\n  lockToBounds: PropTypes.bool,\n  hideNavControls: PropTypes.bool,\n  bounds: PropTypes.array,\n  mapStyles: PropTypes.array,\n  onMapDataEvent: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionEnd: PropTypes.func\n};\nBaseMap.defaultProps = {\n  controlPadding: {},\n  stylechooser: true,\n  initStyle: 0,\n  lockToBounds: false,\n  mapStyles: mapStyles\n};\nexport default BaseMap;\nvar defaultViewVals = {\n  latitude: 49.3050394,\n  longitude: -123.1398254,\n  bearing: 0,\n  pitch: 0,\n  zoom: 12\n};\n\nfunction handleChild(child, viewport, height, width, projection) {\n  return typeof child === 'function' ? child(viewport, height, width, projection) : child;\n}","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useCallback } from 'react';\nimport uuid from 'uuid/v4';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport rbush from 'rbush';\nimport { point, centroid, featureCollection } from '@turf/turf';\nimport { util } from '@morphoto/common';\n\nvar useClusteredData = function useClusteredData(data, filterBounds, currentZoom, viewport, sizeScale, queryVersion, isTransitioning) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      clusteredData = _useState2[0],\n      setClusteredData = _useState2[1];\n\n  var _useState3 = useState({\n    single: [],\n    cluster: []\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredData = _useState4[0],\n      setFilteredData = _useState4[1];\n\n  var updateDataDebounce = useCallback(util.debounce(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var updatedData,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return updateData.apply(void 0, _args);\n\n          case 2:\n            updatedData = _context.sent;\n            setClusteredData(updatedData);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), 1000), []);\n  var filterDataDebounce = useCallback(util.debounce(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var filtered,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return filterData.apply(void 0, _args2);\n\n          case 2:\n            filtered = _context2.sent;\n            setFilteredData(filtered);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), 300), []);\n  useEffect(function () {\n    updateDataDebounce(data, sizeScale, viewport);\n  }, [data.length, queryVersion]);\n  useEffect(function () {\n    if (!isTransitioning) filterDataDebounce(clusteredData, filteredData, filterBounds, currentZoom);\n  }, [clusteredData, currentZoom, filterBounds, queryVersion, isTransitioning]);\n  return {\n    filteredClusteredData: filteredData\n  };\n};\n\nexport default useClusteredData;\n\nvar updateData = function updateData(data, sizeScale, viewport) {\n  if (!data) {\n    return [];\n  }\n\n  var tree = rbush(9, ['.x', '.y', '.x', '.y']);\n  var transform = new WebMercatorViewport(_objectSpread({}, viewport, {\n    zoom: 0\n  }));\n  var newData = data.map(function (p) {\n    var screenCoords = [0, 0];\n\n    try {\n      screenCoords = transform.project(p.coords);\n    } catch (e) {\n      console.error(e);\n    }\n\n    var longitude = p.longitude,\n        latitude = p.latitude,\n        properties = _objectWithoutProperties(p, [\"longitude\", \"latitude\"]);\n\n    return {\n      x: screenCoords[0],\n      y: screenCoords[1],\n      photoCount: properties.photoCount,\n      zoomLevels: [],\n      geoJSON: p.coords ? point(p.coords, _objectSpread({}, properties)) : null\n    };\n  });\n  tree.clear();\n  tree.load(newData);\n\n  var _loop = function _loop(z) {\n    var radius = sizeScale / Math.sqrt(2) / Math.pow(2, z);\n    newData.forEach(function (p) {\n      if (p.zoomLevels[z] === undefined) {\n        var x = p.x,\n            y = p.y;\n        var neighbors = tree.search({\n          minX: x - radius,\n          minY: y - radius,\n          maxX: x + radius,\n          maxY: y + radius\n        }).filter(function (neighbor) {\n          return neighbor.zoomLevels[z] === undefined;\n        });\n        neighbors.forEach(function (neighbor) {\n          if (neighbor === p) {\n            var newGeoJSON = neighbors.length === 1 ? p.geoJSON : centroid(featureCollection(neighbors.map(function (n) {\n              return n.geoJSON;\n            })));\n            newGeoJSON.properties = _objectSpread({}, newGeoJSON.properties, {\n              id: newGeoJSON.properties.id || uuid(),\n              count: neighbors.length,\n              reducedPhotoCount: neighbors.reduce(function (acc, _ref4) {\n                var photoCount = _ref4.photoCount;\n                return photoCount ? acc + photoCount : acc;\n              }, 0),\n              points: neighbors.map(function (n) {\n                return n.geoJSON;\n              })\n            });\n            p.zoomLevels[z] = newGeoJSON;\n          } else {\n            neighbor.zoomLevels[z] = null;\n          }\n        });\n      }\n    });\n  };\n\n  for (var z = 0; z <= 20; z++) {\n    _loop(z);\n  }\n\n  return newData.map(function (_ref3) {\n    var zoomLevels = _ref3.zoomLevels;\n    return zoomLevels;\n  });\n};\n\nfunction filterData(clusteredData, filteredData, filterBounds, newZ) {\n  return clusteredData.filter(function (d) {\n    return !!d[newZ];\n  }).reduce(function (acc, zoomLevels) {\n    var geoJSON = zoomLevels[newZ];\n    var coords = geoJSON.geometry.coordinates;\n    var count = geoJSON.properties.count;\n\n    if (!filterBounds || filterBounds.length < 4 || filterBounds[0] < coords[0] && filterBounds[1] < coords[1] && filterBounds[2] > coords[0] && filterBounds[3] > coords[1]) {\n      if (count > 1) acc.cluster.push(geoJSON);else acc.single.push(geoJSON);\n    }\n\n    return acc;\n  }, {\n    single: [],\n    cluster: []\n  });\n}","export default (function (theme) {\n  return {\n    root: {\n      position: 'relative',\n      height: '100%',\n      '& .myPosMarker': {\n        zIndex: 1\n      },\n      '& .singleMarker': {\n        zIndex: 3\n      },\n      '& .clusterMarker': {\n        zIndex: 2\n      }\n    },\n    fab: {\n      background: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n    topBar: {\n      position: 'absolute',\n      zIndex: 100,\n      top: 0\n    },\n    loadingWrapper: {\n      position: 'absolute',\n      color: theme.palette.text.primary,\n      opacity: 0.5,\n      zIndex: 90,\n      textAlign: 'center',\n      top: '50%',\n      left: '50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    zoomOutFab: {\n      margin: theme.spacing(0.5),\n      padding: theme.spacing(0.5),\n      border: '2px solid',\n      borderRadius: theme.spacing(1),\n      background: theme.palette.common.white,\n      fontSize: 20,\n      position: 'absolute',\n      zIndex: 80,\n      bottom: theme.spacing(2),\n      right: theme.spacing(10)\n    },\n    selectedPopup: {\n      width: '90%',\n      maxWidth: 400,\n      zIndex: 100,\n      position: 'absolute',\n      bottom: theme.spacing(1),\n      left: '50%',\n      transformOrigin: '0% 50%',\n      transform: 'translateY(0%) translateX(-50%)'\n    }\n  };\n});","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ZoomOutMapIcon from '@material-ui/icons/ZoomOutMap';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    listItemText: {\n      textAlign: 'center'\n    },\n    iconButton: {\n      background: theme.palette.grey[200]\n    },\n    compoundButton: {\n      textAlign: 'center'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar ClusterSelected = function ClusterSelected(_ref) {\n  var seriesCount = _ref.seriesCount,\n      reducedPhotoCount = _ref.reducedPhotoCount,\n      actions = _ref.actions;\n  var classes = useStyles();\n  console.log('cluster selected', {\n    seriesCount: seriesCount,\n    reducedPhotoCount: reducedPhotoCount\n  });\n  return React.createElement(List, null, React.createElement(ListItem, {\n    className: classes.root\n  }, React.createElement(ListItemIcon, null, React.createElement(\"div\", {\n    className: classes.compoundButton\n  }, React.createElement(IconButton, {\n    onClick: actions.onZoomTo,\n    className: classes.iconButton\n  }, React.createElement(ZoomOutMapIcon, null)), React.createElement(Typography, {\n    variant: \"caption\",\n    component: \"div\"\n  }, \"Zoom In\"))), React.createElement(ListItemText, {\n    className: classes.listItemText,\n    onClick: actions.onZoomTo,\n    primary: \"\".concat(seriesCount, \" Photo series\"),\n    secondary: \"containing \".concat(reducedPhotoCount, \" individual photo\").concat(reducedPhotoCount === 1 ? '' : 's')\n  }), React.createElement(ListItemIcon, null, React.createElement(\"div\", {\n    className: classes.compoundButton\n  }, React.createElement(IconButton, {\n    onClick: actions.onViewList,\n    className: classes.iconButton\n  }, React.createElement(ViewListIcon, null)), React.createElement(Typography, {\n    variant: \"caption\",\n    component: \"div\"\n  }, \"List\")))));\n};\n\nClusterSelected.propTypes = {\n  seriesCount: PropTypes.number.isRequired,\n  reducedPhotoCount: PropTypes.number.isRequired,\n  actions: PropTypes.shape({\n    onZoomTo: PropTypes.func.isRequired,\n    onViewList: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired\n  })\n};\nexport default ClusterSelected;","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport Camera from '@material-ui/icons/Camera';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      color: theme.palette.primary.main,\n      width: 150,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    rootActive: {\n      zIndex: 60\n    },\n    icon: {},\n    avatar: {\n      position: 'relative',\n      margin: '0 auto',\n      border: \"2px solid \".concat(theme.palette.text.primary),\n      height: 40,\n      width: 40,\n      zIndex: 61,\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary\n    },\n    avatarActive: {\n      background: '#FFFF00',\n      color: 'black',\n      border: \"2px solid black\"\n    },\n    badge: {\n      zIndex: 62,\n      color: theme.palette.secondary.contrastText,\n      background: theme.palette.secondary.main,\n      transform: 'scale(1) translate(30%, -30%)'\n    },\n    badgeActive: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main\n    },\n    directionIndicator: {\n      position: 'absolute',\n      top: 20,\n      left: '50%',\n      zIndex: 59\n    },\n    name: {\n      color: 'white',\n      fontWeight: 'bold',\n      textShadow: \"\\n        0px 0px 4px #000000, \\n        0px 0px 4px #000000 \\n    \",\n      zIndex: 60,\n      position: 'relative'\n    },\n    nameActive: {\n      color: 'black',\n      textShadow: \"\\n    0px 0px 2px #FFFFFF, \\n    0px 0px 2px #FFFFFF,\\n    0px 0px 4px #FFFFFF \\n\"\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar Single = function Single(_ref) {\n  var name = _ref.name,\n      onClick = _ref.onClick,\n      active = _ref.active,\n      photoCount = _ref.photoCount,\n      direction = _ref.direction;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classNames(classes.root, active ? classes.rootActive : null)\n  }, React.createElement(Badge, {\n    classes: {\n      badge: classNames(classes.badge, active ? classes.badgeActive : null)\n    },\n    badgeContent: photoCount\n  }, React.createElement(Avatar, {\n    className: classNames(classes.avatar, active ? classes.avatarActive : null),\n    onClick: onClick\n  }, React.createElement(Camera, {\n    className: classes.icon,\n    color: \"inherit\"\n  }))), direction && direction >= 0 ? React.createElement(\"div\", {\n    className: classes.directionIndicator\n  }, React.createElement(\"svg\", {\n    className: classes.svgArc,\n    version: \"1.1\",\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0, 0, 100, 100\",\n    style: {\n      transform: \"translateY(-50%) translateX(-50%) rotateZ(\".concat(direction, \"deg)\")\n    }\n  }, React.createElement(\"path\", {\n    d: \"M50,0 C60.946,0.151 72.136,3.514 80.675,10.56 L50,50 L19.325,10.56 C27.938,3.461 39,0.278 50,0 z\",\n    fill: \"#009DC1\",\n    fillOpacity: \"0.444\",\n    strokeWidth: \"1\",\n    strokeOpacity: \"0.6\",\n    stroke: \"#FFFFFF\"\n  }))) : null, React.createElement(Typography, {\n    variant: \"body1\",\n    className: classNames(classes.name, active ? classes.nameActive : null)\n  }, name));\n};\n\nSingle.propTypes = {\n  name: PropTypes.string,\n  photoCount: PropTypes.number,\n  onClick: PropTypes.func.isRequired,\n  direction: PropTypes.number,\n  active: PropTypes.bool\n};\nexport default Single;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport numeral from 'numeral';\n\nvar style = function style(theme) {\n  return {\n    avatar: {\n      background: theme.palette.grey[900],\n      border: \"2px solid \".concat(theme.palette.grey[100]),\n      color: theme.palette.grey[100]\n    },\n    avatarActive: {\n      background: '#FFFF00',\n      border: \"2px solid black\",\n      color: 'black',\n      zIndex: 50\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar Cluster = function Cluster(_ref) {\n  var seriesCount = _ref.seriesCount,\n      active = _ref.active,\n      onClick = _ref.onClick;\n  var classes = useStyles();\n  return React.createElement(Avatar, {\n    onClick: onClick,\n    className: classNames(classes.avatar, active ? classes.avatarActive : null)\n  }, numeral(seriesCount).format('0,0'));\n};\n\nCluster.propTypes = {\n  seriesCount: PropTypes.number,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool\n};\nexport default Cluster;","import _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useMemo, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { FlyToInterpolator, LinearInterpolator, Marker } from 'react-map-gl';\nimport { easeCubic } from 'd3-ease';\nimport { bbox, featureCollection, buffer, point } from '@turf/turf';\nimport Paper from '@material-ui/core/Paper';\nimport { CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { TopBarWrapper } from '@morphoto/navigation';\nimport { SearchInput } from '@morphoto/Search';\nimport { SeriesListItem, ViewListDialog } from '@morphoto/photoseries';\nimport BaseMap from './BaseMap';\nimport MapStyles from './mapStyles';\nimport useClusteredData from './lib/useClusteredData';\nimport style from './HomeMap.style';\nimport ClusterSelected from './ClusterSelected';\nimport SingleMarker from './markers/Single';\nimport ClusterMarker from './markers/Cluster';\nimport themes from '@morphoto/themes';\nvar useStyles = makeStyles(style);\nvar defaultView = {\n  zoom: 4,\n  latitude: 44.629701,\n  longitude: -120.333379\n};\nvar SIZESCALE = 80;\n\nvar HomeMap = function HomeMap(_ref) {\n  var seriesList = _ref.seriesList,\n      initViewport = _ref.initViewport,\n      loading = _ref.loading,\n      initialActiveSeries = _ref.initialActiveSeries,\n      queryVersion = _ref.queryVersion,\n      actions = _ref.actions;\n\n  var _useState = useState({\n    viewport: _objectSpread({}, defaultView, {}, initViewport.viewport),\n    bounds: initViewport.bounds,\n    filterBounds: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      mapViewObj = _useState2[0],\n      setMapViewObj = _useState2[1];\n\n  var classes = useStyles();\n  var mapViewRef = useRef();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isTransitioning = _useState4[0],\n      setIsTransitioning = _useState4[1];\n\n  var homeMapContainerRef = useRef();\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentZoom = _useState6[0],\n      setCurrentZoom = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showViewList = _useState8[0],\n      setShowViewList = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      transitions = _useState10[0],\n      setTransitions = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedItem = _useState12[0],\n      setSelectedItem = _useState12[1];\n\n  var _useClusteredData = useClusteredData(seriesList || [], mapViewObj.filterBounds, currentZoom, mapViewObj.viewport, SIZESCALE, queryVersion, isTransitioning),\n      filteredClusteredData = _useClusteredData.filteredClusteredData;\n\n  useEffect(function () {\n    if (!initialActiveSeries || !seriesList || selectedItem) return;\n\n    try {\n      var selected = seriesList.find(function (s) {\n        return s.id === initialActiveSeries;\n      });\n\n      if (selected && selected.coords) {\n        var bufferPts = buffer(point(selected.coords), 10, {\n          units: 'meters'\n        });\n        var bounds = bbox(bufferPts);\n        setMapViewObj(_objectSpread({}, mapViewObj, {\n          bounds: bounds\n        }));\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }, [seriesList]);\n  useEffect(function () {\n    if (!initialActiveSeries || !filteredClusteredData.single || selectedItem) return;\n\n    try {\n      var selected = filteredClusteredData.single.find(function (s) {\n        return s.properties.id === initialActiveSeries;\n      });\n      if (selected && homeMapContainerRef.current) setSelectedItem(selected);\n    } catch (e) {\n      console.error(e);\n    }\n  }, [filteredClusteredData.single]);\n\n  var saveMap = function saveMap(delay) {\n    var _ref2 = mapViewRef.current ? mapViewRef.current : mapViewObj.viewport,\n        transitionDuration = _ref2.transitionDuration,\n        transitionInterpolator = _ref2.transitionInterpolator,\n        transitionInterruption = _ref2.transitionInterruption,\n        maxZoom = _ref2.maxZoom,\n        minZoom = _ref2.minZoom,\n        maxPitch = _ref2.maxPitch,\n        minPitch = _ref2.minPitch,\n        newView = _objectWithoutProperties(_ref2, [\"transitionDuration\", \"transitionInterpolator\", \"transitionInterruption\", \"maxZoom\", \"minZoom\", \"maxPitch\", \"minPitch\"]);\n\n    var saveObj = {\n      viewport: newView\n    };\n    if (!delay) actions.pushMapHistory(saveObj);else {\n      setTimeout(function () {\n        return actions.pushMapHistory(saveObj);\n      }, delay);\n    }\n  };\n\n  var updateSelectedItem = function updateSelectedItem(item) {\n    setSelectedItem(item);\n    if (item && item.properties.count === 1) actions.onSeriesMapSelect(item.properties.id);else actions.onSeriesMapSelect();\n    saveMap();\n  };\n\n  var _onZoomTo = function onZoomTo(object) {\n    try {\n      var pts = featureCollection(object.properties.points);\n      var bounds = bbox(pts);\n\n      if (bounds[0] === bounds[2] && bounds[1] === bounds[3]) {\n        var paddedPoint = buffer(point([bounds[0], bounds[1]]), 10, {\n          units: 'meters'\n        });\n        bounds = bbox(paddedPoint);\n      }\n\n      var lngBuff = (bounds[2] - bounds[0]) * 0.2;\n      var latBuff = (bounds[3] - bounds[1]) * 0.2;\n      var buffBounds = [bounds[0] - lngBuff, bounds[1] - latBuff, bounds[2] + lngBuff, bounds[3] + latBuff];\n      setTransitions({\n        transitionDuration: 2000,\n        transitionInterpolator: new FlyToInterpolator(),\n        transitionEasing: easeCubic\n      });\n      setMapViewObj(_objectSpread({}, mapViewObj, {\n        bounds: buffBounds\n      }));\n      if (object.properties.count > 1) setTimeout(function () {\n        return updateSelectedItem(null);\n      }, 2000);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  var onViewportChange = function onViewportChange(_ref3) {\n    var viewport = _ref3.viewport,\n        map = _ref3.map;\n    mapViewRef.current = viewport;\n    var viewZoom = Math.floor(viewport.zoom);\n\n    if (!isTransitioning && map && map.getBounds) {\n      var _map$getBounds = map.getBounds(),\n          _map$getBounds$_sw = _map$getBounds._sw,\n          minLng = _map$getBounds$_sw.lng,\n          minLat = _map$getBounds$_sw.lat,\n          _map$getBounds$_ne = _map$getBounds._ne,\n          maxLng = _map$getBounds$_ne.lng,\n          maxLat = _map$getBounds$_ne.lat;\n\n      var _ref4 = mapViewObj.filterBounds || [minLng, minLat, maxLng, maxLat],\n          _ref5 = _slicedToArray(_ref4, 4),\n          oldMinLng = _ref5[0],\n          oldMinLat = _ref5[1],\n          oldMaxLng = _ref5[2],\n          oldMaxLat = _ref5[3];\n\n      if (viewZoom !== currentZoom || oldMinLng >= minLng || oldMinLat >= minLat || oldMaxLng <= maxLng || oldMaxLat <= maxLat) {\n        var filterBounds = [minLng - (maxLng - minLng) / 2, minLat - (maxLat - minLat) / 2, maxLng + (maxLng - minLng) / 2, maxLat + (maxLat - minLat) / 2];\n        setMapViewObj(_objectSpread({}, mapViewObj, {\n          filterBounds: filterBounds\n        }));\n      }\n    }\n\n    if (viewZoom !== currentZoom) {\n      setCurrentZoom(viewZoom);\n    }\n  };\n\n  var lock = {};\n\n  var onMarkerClick = function onMarkerClick(obj) {\n    if (selectedItem && selectedItem.properties.id === obj.properties.id) {\n      _onZoomTo(selectedItem);\n    } else {\n      setTransitions({\n        transitionDuration: 500,\n        transitionInterpolator: new LinearInterpolator(),\n        transitionEasing: easeCubic\n      });\n      setMapViewObj({\n        viewport: {\n          longitude: obj.geometry.coordinates[0],\n          latitude: obj.geometry.coordinates[1]\n        }\n      });\n    }\n\n    updateSelectedItem(obj);\n  };\n\n  var markersRendered = useMemo(function () {\n    return [].concat(_toConsumableArray(filteredClusteredData.single.filter(function (obj) {\n      return !isTransitioning || selectedItem && selectedItem.properties.id === obj.properties.id;\n    }).map(function (obj) {\n      return React.createElement(Marker, {\n        className: 'singleMarker',\n        key: \"single-\".concat(obj.properties.id),\n        latitude: obj.geometry.coordinates[1],\n        longitude: obj.geometry.coordinates[0],\n        offsetLeft: 0,\n        offsetTop: -20\n      }, React.createElement(ThemeProvider, {\n        theme: themes.access[obj.properties.access]\n      }, React.createElement(SingleMarker, {\n        name: obj.properties.name,\n        photoCount: obj.properties.photoCount,\n        onClick: function onClick() {\n          return onMarkerClick(obj);\n        },\n        direction: currentZoom > 10 && obj.properties.direction ? obj.properties.direction : null,\n        active: selectedItem && selectedItem.properties.id === obj.properties.id\n      })));\n    })), _toConsumableArray(filteredClusteredData.cluster.filter(function (obj) {\n      return !isTransitioning || selectedItem && selectedItem.properties.id === obj.properties.id && selectedItem.properties.count === obj.properties.count;\n    }).map(function (obj) {\n      return React.createElement(Marker, {\n        className: \"clusterMarker\",\n        key: \"cluster-\".concat(obj.properties.id),\n        latitude: obj.geometry.coordinates[1],\n        longitude: obj.geometry.coordinates[0],\n        offsetLeft: -20,\n        offsetTop: -20\n      }, React.createElement(ClusterMarker, {\n        seriesCount: obj.properties.count,\n        photoCount: obj.properties.reducedPhotoCount,\n        onClick: function onClick() {\n          return onMarkerClick(obj);\n        },\n        active: selectedItem && selectedItem.properties.id === obj.properties.id && selectedItem.properties.count === obj.properties.count\n      }));\n    })));\n  }, [filteredClusteredData, selectedItem, isTransitioning]);\n  var selectedItemRender = useMemo(function () {\n    return !!selectedItem && React.createElement(Paper, {\n      className: classes.selectedPopup\n    }, selectedItem.properties.count === 1 ? React.createElement(SeriesListItem, {\n      series: selectedItem.properties,\n      showCreatedOn: true,\n      showLastPhoto: true,\n      onClick: function onClick() {\n        return actions.onSeriesNavigate(selectedItem.properties.id);\n      }\n    }) : React.createElement(ClusterSelected, {\n      seriesCount: selectedItem.properties.count,\n      reducedPhotoCount: selectedItem.properties.reducedPhotoCount,\n      actions: {\n        onViewList: function onViewList() {\n          return setShowViewList(true);\n        },\n        onClose: function onClose() {\n          return updateSelectedItem(null);\n        },\n        onZoomTo: function onZoomTo() {\n          return _onZoomTo(selectedItem);\n        }\n      }\n    }));\n  }, [selectedItem]);\n  return React.createElement(\"div\", {\n    className: classes.root,\n    ref: homeMapContainerRef\n  }, React.createElement(TopBarWrapper, {\n    isTransparent: true\n  }, React.createElement(SearchInput, {\n    isTransparent: true,\n    onClick: actions.onSearchClick,\n    defaultValue: ''\n  })), loading && React.createElement(\"div\", {\n    className: classes.loadingWrapper\n  }, React.createElement(CircularProgress, {\n    size: 80,\n    thickness: 7,\n    color: \"inherit\"\n  })), React.createElement(BaseMap, _extends({\n    showMe: true,\n    viewport: mapViewObj.viewport,\n    transitions: transitions,\n    mapStyles: MapStyles,\n    controlPadding: {\n      top: 56\n    },\n    initStyle: MapStyles.length > 1 ? 1 : 0\n  }, lock, {\n    onTransitionStart: function onTransitionStart() {\n      setIsTransitioning(true);\n    },\n    onTransitionEnd: function onTransitionEnd() {\n      setIsTransitioning(false);\n      setTransitions(null);\n    },\n    bounds: mapViewObj.bounds,\n    maxZoom: 20,\n    minZoom: 1,\n    onViewportChange: onViewportChange,\n    onNativeClick: function onNativeClick() {\n      if (selectedItem) updateSelectedItem(null);\n    }\n  }), markersRendered), selectedItem && selectedItem.properties.count > 1 && React.createElement(ViewListDialog, {\n    open: showViewList,\n    title: \"\".concat(selectedItem.properties.count, \" Series\"),\n    onClose: function onClose() {\n      return setShowViewList(false);\n    },\n    onSelect: actions.onSeriesNavigate,\n    seriesList: selectedItem.properties.points.map(function (p) {\n      return p.properties;\n    })\n  }), selectedItemRender);\n};\n\nHomeMap.propTypes = {\n  seriesList: PropTypes.array,\n  queryVersion: PropTypes.number,\n  initialActiveSeries: PropTypes.string,\n  initViewport: PropTypes.object,\n  loading: PropTypes.bool,\n  actions: PropTypes.shape({\n    onSearchClick: PropTypes.func,\n    onSeriesNavigate: PropTypes.func,\n    onSeriesMapSelect: PropTypes.func,\n    popMapHistory: PropTypes.func,\n    pushMapHistory: PropTypes.func,\n    clearMapHistory: PropTypes.func\n  })\n};\nexport default HomeMap;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useRef, useMemo } from 'react';\nimport { StaticMap } from 'react-map-gl';\nimport PropTypes from 'prop-types';\nimport { getDistanceScales } from 'viewport-mercator-project';\nimport StyleButtons from './controls/StyleButtons';\nimport { useComponentSize, config } from '@morphoto/client-common';\nimport { makeStyles } from '@material-ui/core/styles';\nimport mapStyles from './mapStyles';\nimport classNames from 'classnames';\nvar useStyles = makeStyles(require('./BaseMap.style'));\n\nvar BaseStaticMap = function BaseStaticMap(props) {\n  var classes = useStyles();\n\n  var className = props.className,\n      controlPadding = props.controlPadding,\n      viewport = props.viewport,\n      children = props.children,\n      mapStyles = props.mapStyles,\n      onMapDataEvent = props.onMapDataEvent,\n      passthroughProps = _objectWithoutProperties(props, [\"className\", \"controlPadding\", \"viewport\", \"children\", \"mapStyles\", \"onMapDataEvent\"]);\n\n  var mapRef = useRef(null);\n  var mapBoxRef = useRef();\n\n  var _useComponentSize = useComponentSize(mapRef, {\n    width: 100,\n    height: 50\n  }),\n      size = _useComponentSize.size;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      currStyle = _useState2[0],\n      setCurrStyle = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      projection = _useState4[0],\n      setProjection = _useState4[1];\n\n  var recalcProjection = function recalcProjection() {\n    if (!size || size.width < 10 || size.height < 10) return;\n\n    try {\n      var _projection = getDistanceScales(viewport);\n\n      setProjection(_projection);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  if (!projection) recalcProjection();\n  useMemo(recalcProjection, [size]);\n  return React.createElement(\"div\", {\n    className: classNames(classes.baseStaticMap, className),\n    ref: mapRef,\n    style: {\n      height: '100%',\n      width: '100%'\n    }\n  }, React.createElement(StaticMap, _extends({}, viewport, {\n    height: size.height,\n    width: size.width,\n    mapStyle: mapStyles[currStyle].style,\n    onData: onMapDataEvent,\n    mapboxApiAccessToken: config.mapConfig.mapBoxToken\n  }, passthroughProps, {\n    ref: function ref(map) {\n      mapBoxRef.current = map;\n    }\n  }), mapStyles && mapStyles.length > 1 ? React.createElement(StyleButtons, {\n    controlPadding: controlPadding,\n    currStyle: currStyle,\n    mapStyles: mapStyles,\n    setCurrStyle: setCurrStyle\n  }) : null, children && Array.isArray(children) ? children.map(function (c) {\n    return handleChild(c, mapBoxRef, size.height, size.width, projection);\n  }) : handleChild(children, mapBoxRef, size.height, size.width, projection)));\n};\n\nfunction handleChild(child, mapBoxRef, height, width, projection) {\n  var viewport = {};\n  return typeof child === 'function' ? child(viewport, height, width, projection) : child;\n}\n\nBaseStaticMap.propTypes = {\n  children: PropTypes.any,\n  deckelements: PropTypes.array,\n  data: PropTypes.array,\n  controlPadding: PropTypes.object,\n  minPitch: PropTypes.number,\n  maxPitch: PropTypes.number,\n  pitch: PropTypes.number,\n  className: PropTypes.string,\n  viewport: PropTypes.object,\n  bounds: PropTypes.array,\n  zoomBounds: PropTypes.array,\n  InnerBounds: PropTypes.array,\n  mapStyles: PropTypes.array,\n  latitude: PropTypes.number,\n  longitude: PropTypes.number,\n  zoom: PropTypes.number,\n  onMapDataEvent: PropTypes.func\n};\nBaseStaticMap.defaultProps = {\n  controlPadding: {},\n  stylechooser: true,\n  initStyle: 0,\n  mapStyles: mapStyles\n};\nexport default BaseStaticMap;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      color: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)',\n      zIndex: 1\n    },\n    rootActive: {\n      zIndex: 60\n    },\n    svgDot: {\n      zIndex: 61,\n      width: 20,\n      height: 20,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transformOrigin: '50% 50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    dot: {\n      stroke: theme.palette.secondary.contrastText,\n      strokeWidth: '1',\n      fill: theme.palette.secondary.main\n    },\n    directionIndicator: {\n      position: 'absolute',\n      left: '50%',\n      zIndex: 59\n    },\n    name: {\n      color: 'white',\n      fontWeight: 'bold',\n      textShadow: \"\\n        0px 0px 4px #000000, \\n        0px 0px 4px #000000 \\n    \",\n      zIndex: 60,\n      position: 'relative'\n    },\n    nameActive: {\n      color: theme.palette.secondary.dark,\n      textShadow: \"\\n    0px 0px 2px #FFFFFF, \\n    0px 0px 2px #FFFFFF,\\n    0px 0px 4px #FFFFFF \\n\"\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar Single = function Single(_ref) {\n  var direction = _ref.direction;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"svg\", {\n    className: classes.svgDot,\n    version: \"1.1\",\n    viewBox: \"0, 0, 10, 10\"\n  }, React.createElement(\"circle\", {\n    cx: \"5\",\n    cy: \"5\",\n    r: \"4\",\n    className: classes.dot\n  })), direction && direction >= 0 ? React.createElement(\"div\", {\n    className: classes.directionIndicator\n  }, React.createElement(\"svg\", {\n    className: classes.svgArc,\n    version: \"1.1\",\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0, 0, 100, 100\",\n    style: {\n      transform: \"translateY(-50%) translateX(-50%) rotateZ(\".concat(direction, \"deg)\")\n    }\n  }, React.createElement(\"path\", {\n    d: \"M50,0 C60.946,0.151 72.136,3.514 80.675,10.56 L50,50 L19.325,10.56 C27.938,3.461 39,0.278 50,0 z\",\n    fill: \"#009DC1\",\n    fillOpacity: \"0.444\",\n    strokeWidth: \"0.5\",\n    strokeOpacity: \"0.6\",\n    stroke: \"#FFFFFF\"\n  }))) : null);\n};\n\nSingle.propTypes = {\n  direction: PropTypes.number\n};\nexport default Single;","import _objectWithoutProperties from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Marker } from 'react-map-gl';\nimport BaseMap from './BaseMap';\nimport Dot from './markers/Dot';\nimport BaseStaticMap from './BaseStaticMap';\n\nvar MapDot = function MapDot(_ref) {\n  var staticMap = _ref.staticMap,\n      editable = _ref.editable,\n      latitude = _ref.latitude,\n      longitude = _ref.longitude,\n      onChange = _ref.onChange,\n      direction = _ref.direction,\n      props = _objectWithoutProperties(_ref, [\"staticMap\", \"editable\", \"latitude\", \"longitude\", \"onChange\", \"direction\"]);\n\n  var Map = staticMap ? BaseStaticMap : BaseMap;\n  var mapProps = staticMap ? {} : {\n    touchRotate: false,\n    dragRotate: false,\n    showMe: editable,\n    lockPan: !editable,\n    onViewportChange: onChange\n  };\n  return React.createElement(Map, _extends({}, mapProps, props), latitude && longitude ? React.createElement(Marker, {\n    className: 'singleMarker',\n    latitude: latitude,\n    longitude: longitude\n  }, React.createElement(Dot, {\n    direction: direction\n  })) : React.createElement(Dot, {\n    direction: direction\n  }));\n};\n\nMapDot.propTypes = {\n  direction: PropTypes.number,\n  latitude: PropTypes.number,\n  longitude: PropTypes.number,\n  editable: PropTypes.bool,\n  staticMap: PropTypes.bool,\n  onChange: PropTypes.func\n};\nexport default MapDot;","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100%',\n      display: 'flex',\n      overflow: 'hidden',\n      flexDirection: 'column'\n    },\n    rectContents: {\n      color: theme.palette.common.white,\n      textShadow: \"5px 6px 6px \".concat(theme.palette.common.black),\n      position: 'absolute',\n      padding: theme.spacing(2),\n      top: '50%',\n      left: '50%',\n      textAlign: 'center',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    areaLabel: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      transform: 'translateY(-110%)'\n    },\n    rectContentsDownloading: {\n      textShadow: 'none',\n      color: theme.palette.primary.contrastText\n    },\n    rectIcon: {\n      position: 'absolute',\n      opacity: 0.4,\n      width: '50%',\n      height: '50%',\n      top: '50%',\n      left: '50%',\n      transform: 'translateY(-50%) translateX(-50%)'\n    },\n    tooBig: {\n      color: theme.palette.error.contrastText\n    },\n    tickText: {},\n    svgRect: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: -1,\n      height: '100%',\n      width: '100%'\n    },\n    svgCutout: {\n      stroke: 'none',\n      fill: '#00000099'\n    },\n    svgBorder: {\n      fill: 'none',\n      stroke: 'none'\n    },\n    svgBorderNavigating: {\n      stroke: '#44444499'\n    },\n    svgBorderLocked: {\n      fill: '#66666666',\n      stroke: '#44444499'\n    },\n    svgBorderTooBig: {\n      opacity: 0.5,\n      fill: theme.palette.error.main,\n      stroke: theme.palette.error.dark\n    },\n    svgBorderDownloading: {\n      opacity: 0.7,\n      fill: theme.palette.primary.main,\n      stroke: '#44444499'\n    },\n    downloadingProgress: {},\n    downloadingProgressCircle: {\n      margin: theme.spacing(2)\n    },\n    snackError: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    mapWrapper: {\n      flex: '1 1',\n      overflow: 'hidden',\n      position: 'relative'\n    }\n  };\n});","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useRef, useState, useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport AppBar from '@material-ui/core/AppBar';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport LockIcon from '@material-ui/icons/Lock';\nimport SignalWifiOffIcon from '@material-ui/icons/SignalWifiOff';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Button } from '@material-ui/core';\nimport { config } from '@morphoto/client-common';\nimport numeral from 'numeral';\nimport { util } from '@morphoto/common';\nimport BaseMap from './BaseMap';\nimport useStyles from './OfflineMap.style';\nexport var OFFLINE_STATES = {\n  LOCKED: 'Locked',\n  OFFLINE: 'Offline',\n  NAVIGATING: 'Navigating',\n  ERROR: 'Error',\n  DOWNLOADING: 'Downloading',\n  CANCELED: 'Canceled'\n};\n\nvar OfflineMap = function OfflineMap(_ref) {\n  var initViewport = _ref.initViewport,\n      progress = _ref.progress,\n      toolState = _ref.toolState,\n      actions = _ref.actions;\n  var classes = useStyles();\n  var mapWrapperRef = useRef();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      bounds = _useState2[0],\n      setBounds = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      viewState = _useState4[0],\n      setViewport = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      area = _useState6[0],\n      setArea = _useState6[1];\n\n  var tooBig = area > config.home.Offline.maxMapTileArea;\n\n  var classWithState = function classWithState(name) {\n    if (!toolState) return classes[name];else return classNames(classes[name], classes[\"\".concat(name).concat(toolState)], tooBig ? classes[\"\".concat(name, \"TooBig\")] : null);\n  };\n\n  var setGeoState = useCallback(util.debounce(function (newViewport, projection, rectSide) {\n    var longitude = newViewport.longitude,\n        latitude = newViewport.latitude;\n    var newArea = projection ? Math.abs(projection.metersPerPixel[0] * rectSide * projection.metersPerPixel[1] * rectSide / (1000 * 1000)) : 0;\n    var dx = rectSide / 2 * projection.degreesPerPixel[0];\n    var dy = rectSide / 2 * projection.degreesPerPixel[1];\n    var newBounds = [longitude - dx, latitude - dy, longitude + dx, latitude + dy];\n    if (newArea !== area) setArea(newArea);\n    if (newBounds !== bounds) setBounds(newBounds);\n    setViewport(newViewport);\n  }, 500), []);\n  var snack = null;\n\n  var onSnackClose = function onSnackClose() {};\n\n  var snackTimeout = null;\n\n  switch (toolState) {\n    case OFFLINE_STATES.NAVIGATING:\n      snack = tooBig ? null : React.createElement(SnackbarContent, {\n        className: classes.snack,\n        \"aria-describedby\": \"client-snackbar\",\n        message: 'Place the square around the area you wish to download for later use',\n        action: [React.createElement(Button, {\n          key: \"action1\",\n          color: \"inherit\",\n          disabled: area > config.home.Offline.maxMapTileArea,\n          onClick: function onClick() {\n            return actions.onStartDownload(bounds, viewState);\n          }\n        }, \"Start Download\")]\n      });\n      break;\n\n    case OFFLINE_STATES.DOWNLOADING:\n      snack = React.createElement(SnackbarContent, {\n        className: classes.snack,\n        \"aria-describedby\": \"client-snackbar\",\n        message: 'Downloading...',\n        action: [React.createElement(Button, {\n          key: \"action1\",\n          color: \"inherit\",\n          onClick: actions.onCancel\n        }, \"Cancel\")]\n      });\n      break;\n\n    case OFFLINE_STATES.LOCKED:\n      snack = React.createElement(SnackbarContent, {\n        className: classes.snack,\n        \"aria-describedby\": \"client-snackbar\",\n        message: 'This is the area you downloaded last',\n        action: [React.createElement(Button, {\n          key: \"action1\",\n          color: \"secondary\",\n          onClick: actions.onUnlock\n        }, \"Download a new Area\")]\n      });\n      break;\n\n    case OFFLINE_STATES.OFFLINE:\n      snack = React.createElement(SnackbarContent, {\n        className: classes.snack,\n        \"aria-describedby\": \"client-snackbar\",\n        message: 'You cannot download content when you are offline.'\n      });\n      break;\n\n    case OFFLINE_STATES.CANCELED:\n      snack = React.createElement(SnackbarContent, {\n        className: classes.snackError,\n        \"aria-describedby\": \"client-snackbar\",\n        message: 'Cancelling...'\n      });\n      onSnackClose = actions.onCancelComplete;\n      snackTimeout = 2000;\n      break;\n\n    default:\n      break;\n  }\n\n  var unlocked = toolState === OFFLINE_STATES.NAVIGATING;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: actions.onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, \"Offline data manager\"))), React.createElement(\"div\", {\n    className: classes.mapWrapper,\n    ref: mapWrapperRef\n  }, React.createElement(BaseMap, {\n    hideNavControls: true,\n    showMe: unlocked,\n    dragPan: unlocked,\n    dragRotate: false,\n    scrollZoom: unlocked,\n    doubleClickZoom: false,\n    touchZoom: unlocked,\n    touchRotate: false,\n    viewport: initViewport\n  }, function (viewport, height, width, projection) {\n    var rectSide = Math.min(height, width) * 0.6;\n    var rectStyle = {\n      height: rectSide,\n      width: rectSide\n    };\n    var boxCorners = {\n      x: width / 2 - rectSide / 2,\n      y: height / 2 - rectSide / 2\n    };\n    var totalProgress = progress.tileTick && progress.seriesTick && progress.seriesPhotoTick ? [progress.tileTick[0] + progress.seriesTick[0] + progress.seriesPhotoTick[0], progress.tileTick[1] + progress.seriesTick[1] + progress.seriesPhotoTick[1]] : [0, 1];\n    if (totalProgress[1] === 0) totalProgress[1] = 1;\n    setGeoState(viewport, projection, rectSide);\n    return React.createElement(\"div\", {\n      style: {\n        height: height,\n        width: width\n      }\n    }, React.createElement(\"div\", {\n      className: classWithState('rectContents'),\n      style: rectStyle\n    }, toolState !== OFFLINE_STATES.DOWNLOADING && React.createElement(Typography, {\n      className: classNames(classes.areaLabel, tooBig ? classes.tooBig : null),\n      color: \"inherit\",\n      variant: \"h5\",\n      component: \"div\"\n    }, numeral(area).format('0,0'), \" km\\xB2\"), toolState === OFFLINE_STATES.NAVIGATING && !tooBig && React.createElement(CheckCircleOutlineIcon, {\n      className: classes.rectIcon,\n      color: \"inherit\",\n      onClick: function onClick() {\n        return actions.onStartDownload(bounds, viewState);\n      }\n    }), toolState === OFFLINE_STATES.NAVIGATING && tooBig ? React.createElement(\"div\", null, React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"body1\",\n      component: \"div\"\n    }, \"> \", config.home.Offline.maxMapTileArea, \" km\\xB2\"), React.createElement(ErrorIcon, {\n      className: classes.rectIcon,\n      color: \"inherit\"\n    }), React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"body2\",\n      component: \"div\"\n    }, \"Window too big. Try zooming in.\")) : null, toolState === OFFLINE_STATES.DOWNLOADING && React.createElement(\"div\", {\n      className: classes.downloadingProgress\n    }, React.createElement(Typography, {\n      className: \"areaLabel\",\n      color: \"inherit\",\n      variant: \"h5\"\n    }, \"Downloading...\"), React.createElement(CircularProgress, {\n      className: classes.downloadingProgressCircle,\n      variant: \"determinate\",\n      size: rectSide * 0.4,\n      thickness: rectSide * 0.013,\n      value: Math.floor(100 * totalProgress[0] / totalProgress[1]),\n      color: \"inherit\"\n    }), progress.tileTick && React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"body1\",\n      component: \"div\"\n    }, \"Map Tiles: \", progress.tileTick[0], \" of \", progress.tileTick[1]), progress.seriesTick && React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"body1\",\n      component: \"div\"\n    }, \"Series: \", progress.seriesTick[0], \" of \", progress.seriesTick[1]), progress.seriesPhotoTick && React.createElement(Typography, {\n      color: \"inherit\",\n      variant: \"body1\",\n      component: \"div\"\n    }, \"Series Photos: \", progress.seriesPhotoTick[0], \" of \", progress.seriesPhotoTick[1])), toolState === OFFLINE_STATES.LOCKED && React.createElement(\"div\", null, React.createElement(LockIcon, {\n      className: classes.rectIcon,\n      color: \"inherit\"\n    })), toolState === OFFLINE_STATES.OFFLINE && React.createElement(\"div\", null, React.createElement(SignalWifiOffIcon, {\n      className: classes.rectIcon,\n      color: \"inherit\"\n    }))), React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      style: {\n        height: height,\n        width: width\n      }\n    }, React.createElement(\"defs\", null, React.createElement(\"path\", {\n      id: \"Triangle\",\n      d: \"M 16,0 L -8,9 v-18 z\",\n      fill: \"black\",\n      stroke: \"none\"\n    })), React.createElement(\"g\", {\n      fillRule: \"evenodd\",\n      className: classWithState('svgCutout')\n    }, React.createElement(\"path\", {\n      d: \"\\n                            M 0 0 L \".concat(width, \" \", 0, \" L \").concat(width, \" \").concat(height, \"  L \", 0, \" \").concat(height, \" Z\\n                             M \").concat(boxCorners.x, \" \").concat(boxCorners.y, \" \\n                             L \").concat(width - boxCorners.x, \" \").concat(boxCorners.y, \"\\n                             L \").concat(width - boxCorners.x, \" \").concat(height - boxCorners.y, \" \\n                             L \").concat(boxCorners.x, \" \").concat(height - boxCorners.y, \" Z\\n                             \")\n    })), React.createElement(\"g\", {\n      fillRule: \"evenodd\",\n      className: classWithState('svgBorder')\n    }, React.createElement(\"path\", {\n      d: \"\\n                             M \".concat(boxCorners.x, \" \").concat(boxCorners.y, \" \\n                             L \").concat(width - boxCorners.x, \" \").concat(boxCorners.y, \"\\n                             L \").concat(width - boxCorners.x, \" \").concat(height - boxCorners.y, \" \\n                             L \").concat(boxCorners.x, \" \").concat(height - boxCorners.y, \" Z\\n                             \")\n    }))));\n  }), snack && React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    open: true,\n    onClose: onSnackClose,\n    autoHideDuration: snackTimeout\n  }, snack)));\n};\n\nOfflineMap.propTypes = {\n  toolState: PropTypes.oneOf(Object.values(OFFLINE_STATES)),\n  initViewport: PropTypes.object,\n  progress: PropTypes.shape({\n    tileTick: PropTypes.array,\n    seriesTick: PropTypes.array,\n    seriesPhotoTick: PropTypes.array\n  }),\n  actions: PropTypes.shape({\n    onMenuBack: PropTypes.func.isRequired,\n    onStartDownload: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n    onCancelComplete: PropTypes.func.isRequired,\n    onUnlock: PropTypes.func.isRequired\n  })\n};\nexport default OfflineMap;","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Slider from '@material-ui/core/Slider';\nimport MapDot from './MapDot';\nimport { makeStyles } from '@material-ui/core/styles';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    dlgContent: {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: 0\n    },\n    mapWrapper: {\n      flexGrow: 1\n    },\n    sliderWrapper: {\n      padding: '20px'\n    },\n    slider: {},\n    sliderRoot: {},\n    body: {\n      overflow: 'hidden',\n      whiteSpace: 'pre-line',\n      paddingBottom: theme.spacing(1)\n    },\n    title: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      margin: 0,\n      padding: theme.spacing(2)\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar MapDirPicker = function MapDirPicker(_ref) {\n  var open = _ref.open,\n      onOk = _ref.onOk,\n      onCancel = _ref.onCancel,\n      title = _ref.title,\n      initLat = _ref.latitude,\n      initLong = _ref.longitude,\n      initDir = _ref.direction;\n  var classes = useStyles();\n\n  var _useState = useState({\n    longitude: initLong,\n    latitude: initLat\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      _useState2$ = _useState2[0],\n      longitude = _useState2$.longitude,\n      latitude = _useState2$.latitude,\n      setCoords = _useState2[1];\n\n  var _useState3 = useState(initDir),\n      _useState4 = _slicedToArray(_useState3, 2),\n      direction = _useState4[0],\n      setRotation = _useState4[1];\n\n  var initViewport = useMemo(function () {\n    return {\n      zoom: 18,\n      latitude: initLat,\n      longitude: initLong\n    };\n  }, [initLat, initLong]);\n\n  var mapChange = function mapChange(_ref2) {\n    var _ref2$viewport = _ref2.viewport,\n        longitude = _ref2$viewport.longitude,\n        latitude = _ref2$viewport.latitude;\n    return setCoords({\n      longitude: longitude,\n      latitude: latitude\n    });\n  };\n\n  return React.createElement(Dialog, {\n    scroll: \"paper\",\n    open: open,\n    fullWidth: true,\n    fullScreen: true,\n    onClose: onCancel\n  }, React.createElement(DialogTitle, {\n    className: classes.title,\n    disableTypography: true\n  }, React.createElement(Typography, {\n    color: \"inherit\"\n  }, title)), React.createElement(DialogContent, {\n    className: classes.dlgContent\n  }, React.createElement(\"div\", {\n    className: classes.mapWrapper\n  }, React.createElement(MapDot, {\n    editable: true,\n    className: classes.map,\n    direction: direction > 0 ? direction : null,\n    viewport: initViewport,\n    onChange: mapChange\n  })), React.createElement(\"div\", {\n    className: classes.sliderWrapper\n  }, React.createElement(FormLabel, {\n    className: classes.mapFormLabel\n  }, \"Direction \", direction > -1 ? '' : '(off)'), React.createElement(Slider, {\n    classes: {\n      root: classes.sliderRoot\n    },\n    value: direction || -1,\n    min: -1,\n    max: 360,\n    step: 1,\n    onChange: function onChange(e, value) {\n      return setRotation(value);\n    }\n  }))), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: onCancel\n  }, \"Cancel\"), React.createElement(\"div\", {\n    style: {\n      flexGrow: 1\n    }\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return onOk({\n        coords: [longitude, latitude],\n        direction: direction\n      });\n    }\n  }, \"Ok\")));\n};\n\nMapDirPicker.propTypes = {\n  open: PropTypes.bool,\n  latitude: PropTypes.number,\n  longitude: PropTypes.number,\n  direction: PropTypes.number,\n  onOk: PropTypes.func,\n  onCancel: PropTypes.func,\n  title: PropTypes.string\n};\nexport default MapDirPicker;","export { default as HomeMap } from './HomeMap';\nexport { default as BaseMap } from './BaseMap';\nexport { default as BaseStaticMap } from './BaseStaticMap';\nexport { default as MapDot } from './MapDot';\nexport { default as OfflineMap, OFFLINE_STATES } from './OfflineMap';\nexport { default as MapDirPicker } from './MapDirPicker';\nexport { default as ClusterSelected } from './ClusterSelected';","export default require('./Slideshow').default;","export default require('./SwipeShow').default;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    imgContainer: {},\n    gravatarImg: {\n      objectFit: 'cover',\n      height: '100%',\n      width: '100%'\n    }\n  };\n});\n\nvar UserListItem = function UserListItem(_ref) {\n  var user = _ref.user,\n      loading = _ref.loading,\n      onAvatarClick = _ref.onAvatarClick,\n      secondary = _ref.secondary;\n  var classes = useStyles();\n  if (loading || !user) return 'LOADING...';\n  return React.createElement(ListItem, {\n    className: classes.root,\n    button: !!onAvatarClick,\n    onClick: onAvatarClick\n  }, React.createElement(ListItemAvatar, {\n    className: classes.imgContainer\n  }, React.createElement(Avatar, null, React.createElement(\"img\", {\n    alt: \"profile\",\n    className: classes.gravatarImg,\n    src: user.gravatar\n  }))), React.createElement(ListItemText, {\n    primary: user.username,\n    secondary: secondary\n  }));\n};\n\nUserListItem.propTypes = {\n  user: PropTypes.object,\n  loading: PropTypes.bool,\n  secondary: PropTypes.string,\n  onAvatarClick: PropTypes.func\n};\nexport default UserListItem;","import React from 'react';\nexport var SeriesContext = React.createContext({});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from 'react';\nimport classNames from 'classnames';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport Paper from '@material-ui/core/Paper';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport themes from '@morphoto/themes';\nimport { TagChip } from '@morphoto/tags';\nimport { ShortLongText } from '@morphoto/ui';\nimport { BigText } from '@morphoto/modals';\nimport { dates, Tags as TagClass } from '@morphoto/common';\nimport { AppContext, config } from '@morphoto/client-common';\nimport UserListItem from '../UserListItem';\nimport { SeriesContext } from '../contexts';\nimport style from './SeriesInfo.style';\nvar useStyles = makeStyles(style);\nvar DIALOGS = {\n  NOTEVIEW: 'NOTEVIEW'\n};\n\nvar SeriesInfo = function SeriesInfo() {\n  var classes = useStyles();\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series;\n\n  var _useContext2 = useContext(AppContext),\n      tagConfig = _useContext2.tagConfig,\n      globalActions = _useContext2.globalActions;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeDialog = _useState2[0],\n      setActiveDialog = _useState2[1];\n\n  var tagInst = new TagClass(tagConfig);\n  var newTags = series.photos.reduce(function (acc, _ref) {\n    var tags = _ref.tags;\n    tags.forEach(function (tag) {\n      if (!acc[tag.typeId]) {\n        acc[tag.typeId] = _defineProperty({}, tag.label, _objectSpread({}, tag, {\n          count: 1\n        }));\n      } else if (acc[tag.typeId][tag.label]) {\n        var existing = acc[tag.typeId][tag.label];\n        acc[tag.typeId][tag.label] = _objectSpread({}, existing, {\n          count: existing.count + 1\n        });\n      } else acc[tag.typeId][tag.label] = _objectSpread({}, tag, {\n        count: 1\n      });\n    });\n    return acc;\n  }, {});\n  var metaKeys = [];\n\n  try {\n    metaKeys = series.meta ? Object.keys(JSON.parse(series.meta)) : [];\n  } catch (e) {\n    console.error(e);\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(\"div\", {\n    className: classes.field\n  }, React.createElement(FormLabel, {\n    className: classes.formLabel\n  }, \"Series Name\"), React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"inherit\"\n  }, series.name)), series.note && React.createElement(ShortLongText, {\n    label: \"Series Note\",\n    text: series.note,\n    onClick: function onClick() {\n      return setActiveDialog(DIALOGS.NOTEVIEW);\n    }\n  }), React.createElement(Typography, {\n    className: classes.heading,\n    variant: \"subtitle1\"\n  }, \"Series Summary\"), React.createElement(Divider, null), React.createElement(ThemeProvider, {\n    theme: themes.access[series.access]\n  }, React.createElement(Paper, {\n    className: classNames(classes.access)\n  }, React.createElement(Typography, {\n    variant: \"subtitle1\"\n  }, \"Series is \".concat(config.ACCESS[series.access].label)), React.createElement(Typography, {\n    variant: \"caption\"\n  }, config.ACCESS[series.access].description))), React.createElement(List, {\n    className: classes.list,\n    dense: true\n  }, series.createdUser && React.createElement(UserListItem, {\n    user: series.createdUser,\n    onAvatarClick: function onAvatarClick() {\n      return globalActions.onAvatarClick(series.createdUser.username);\n    },\n    secondary: \"created this series\"\n  }), React.createElement(ListItem, null, React.createElement(ListItemAvatar, null, React.createElement(Avatar, {\n    className: classes.numPhotos\n  }, series.photos.length)), React.createElement(ListItemText, {\n    primary: series.photos.length > 1 ? 'Photos' : 'Photo',\n    secondary: series.photos.length > 0 && React.createElement(\"span\", null, dates.formatDate(series.photos[0].takenOn, 'LL'), React.createElement(\"span\", null, \"\\xA0\\xA0\"), \"to\", React.createElement(\"span\", null, \"\\xA0\\xA0\"), dates.formatDate(series.photos[series.photos.length - 1].takenOn, 'LL'))\n  })), React.createElement(ListItem, null, React.createElement(ListItemAvatar, null, React.createElement(Avatar, {\n    className: classes.watchers\n  }, series.watchers || '0')), React.createElement(ListItemText, {\n    primary: \"Users Watching\"\n  })), React.createElement(ListItem, null, React.createElement(ListItemText, null, React.createElement(FormLabel, {\n    className: classes.formLabel\n  }, \"Tags in use (across all photos)\"), React.createElement(Divider, null), Object.keys(newTags).length === 0 && React.createElement(Typography, {\n    variant: \"caption\"\n  }, \"No photos in this series have tags\"), Object.keys(newTags).map(function (tagKey, idtk) {\n    return React.createElement(\"div\", {\n      key: \"tagchipkey\".concat(idtk),\n      className: classes.tagListItem\n    }, React.createElement(Typography, {\n      className: classes.subheading,\n      variant: \"overline\"\n    }, tagInst.getTagType(tagKey).label), React.createElement(Divider, null), Object.values(newTags[tagKey]).length > 0 ? Object.values(newTags[tagKey]).map(function (tag, idx) {\n      return React.createElement(TagChip, {\n        key: \"tagchip-\".concat(idtk, \"-\").concat(idx),\n        tag: tag,\n        color: tagInst.getTagType(tagKey).color\n      });\n    }) : React.createElement(Typography, {\n      variant: \"caption\"\n    }, \"No photos in this series have tags\"));\n  })))), series.meta && metaKeys.length > 0 && Object.keys(series.meta).length > 0 && React.createElement(React.Fragment, null, React.createElement(FormLabel, {\n    className: classes.formLabel\n  }, \"Metadata\"), React.createElement(Divider, null), React.createElement(List, {\n    className: classes.list\n  }, metaKeys.map(function (key, idx) {\n    return series.meta[key] ? React.createElement(ListItem, {\n      key: \"metadata\".concat(idx)\n    }, React.createElement(ListItemText, {\n      primary: series.meta[key].label,\n      secondary: series.meta[key].render(series.meta[key])\n    })) : null;\n  }))), activeDialog === DIALOGS.NOTEVIEW && React.createElement(BigText, {\n    open: true,\n    multiline: true,\n    onClose: function onClose() {\n      return setActiveDialog(null);\n    },\n    title: \"Series Note\",\n    body: series.note\n  }));\n};\n\nSeriesInfo.propTypes = {};\nexport default SeriesInfo;","export default (function (theme) {\n  return {\n    root: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.background.paper,\n      paddingBottom: 60\n    },\n    field: {\n      marginBottom: theme.spacing(1)\n    },\n    list: {\n      padding: theme.spacing(1)\n    },\n    heading: {\n      marginTop: theme.spacing(1)\n    },\n    watchers: {},\n    numPhotos: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    tagListItem: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(2)\n    },\n    chip: {\n      margin: theme.spacing(0.5)\n    },\n    access: {\n      padding: theme.spacing(1, 2)\n    }\n  };\n});","export default (function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    appBar: {\n      flexGrow: 0\n    },\n    inner: {\n      position: 'relative',\n      flexGrow: 1,\n      overflowY: 'scroll',\n      '-webkit-overflow-scrolling': 'touch'\n    },\n    tabMenu: {\n      marginTop: theme.spacing(7)\n    },\n    mapWrap: {\n      position: 'absolute',\n      height: '100%',\n      width: '100%',\n      top: 0,\n      left: 0\n    },\n    toolbarTitle: {\n      flexGrow: 1,\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden'\n    },\n    AddFab: {\n      position: 'absolute',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n      zIndex: 500\n    },\n    grow: {\n      flexGrow: 1\n    },\n    gridList: {\n      flexWrap: 'nowrap',\n      transform: 'translateZ(0)'\n    },\n    titleBar: {\n      display: 'flex',\n      padding: theme.spacing(1)\n    },\n    menuButton: {},\n    placeholderInner: {\n      position: 'relative',\n      flexGrow: 1,\n      overflow: 'hidden',\n      textAlign: 'center',\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column'\n    },\n    progressWrapper: {\n      textAlign: 'center',\n      marginBottom: theme.spacing(4)\n    },\n    placeholderText: {\n      opacity: 0.4\n    },\n    placeholder: {},\n    progress: {\n      color: theme.palette.grey[300]\n    }\n  };\n});","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport AddCameraIcon from '@material-ui/icons/AddAPhoto';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport AddAlertIcon from '@material-ui/icons/AddAlert';\nimport SlideshowIcon from '@material-ui/icons/Slideshow';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { QRDisplay } from '@morphoto/camera';\nimport { PhotoGrid } from '@morphoto/photos';\nimport { DeleteDialog } from '@morphoto/modals';\nimport { AddFab, ContextMenu } from '@morphoto/ui';\nimport SwipeShow from '@morphoto/swipeshow';\nimport SeriesInfo from './SeriesInfo';\nimport { SeriesContext } from '../contexts';\nimport style from '../SeriesView.style';\nvar useStyles = makeStyles(style);\n\nvar SeriesView = function SeriesView(_ref) {\n  var onSlideshowStart = _ref.onSlideshowStart,\n      onChange = _ref.onChange,\n      onEditSeries = _ref.onEditSeries,\n      onDeletePhotos = _ref.onDeletePhotos,\n      onCameraAdd = _ref.onCameraAdd,\n      onDeleteSeries = _ref.onDeleteSeries,\n      onLibraryAdd = _ref.onLibraryAdd,\n      onTileClick = _ref.onTileClick,\n      onMenuBack = _ref.onMenuBack,\n      onWatch = _ref.onWatch,\n      onUnWatch = _ref.onUnWatch,\n      initialPhoto = _ref.initialPhoto,\n      onFindOnMap = _ref.onFindOnMap,\n      watching = _ref.watching,\n      owned = _ref.owned;\n  var classes = useStyles();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      contextEl = _useState2[0],\n      setContextEl = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showQR = _useState4[0],\n      setShowQR = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      deleteConfirm = _useState6[0],\n      setDeleteConfirm = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listTypeTab = _useState8[0],\n      setListTypeTab = _useState8[1];\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series,\n      ac = _useContext.ac;\n\n  var initPhotoIndex = initialPhoto ? series.photos.findIndex(function (p) {\n    return p.id === initialPhoto;\n  }) || 0 : 0;\n\n  var _useState9 = useState(initPhotoIndex >= 0 ? initPhotoIndex : 0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      activePhoto = _useState10[0],\n      setActivePhoto = _useState10[1];\n\n  var onDeleteConfirm = function onDeleteConfirm(confirmation) {\n    setDeleteConfirm(false);\n    if (confirmation === true) onDeleteSeries(series.id);\n  };\n\n  var viewport = {\n    zoom: 16\n  };\n\n  if (series && series.coords && series.coords.length === 2) {\n    viewport.longitude = series.coords[0];\n    viewport.latitude = series.coords[1];\n  }\n\n  useEffect(function () {\n    if (activePhoto >= series.photos.length) setActivePhoto(series.photos.length - 1);\n  }, [series.photos.length]);\n  var can = {\n    update: ac.canUser('update', series, 'series', '*'),\n    delete: ac.canUser('delete', series, 'series', '*'),\n    contribute: ac.canUser('update', series, 'series', ['photos'])\n  };\n  var dialogOpen = deleteConfirm || showQR;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, series.name || 'Series'), React.createElement(IconButton, {\n    \"aria-haspopup\": \"true\",\n    color: \"inherit\",\n    onClick: function onClick(event) {\n      return setContextEl(event.currentTarget);\n    }\n  }, React.createElement(MoreIcon, null)), React.createElement(ContextMenu, {\n    anchorEl: contextEl,\n    onClose: function onClose() {\n      return setContextEl(null);\n    },\n    menuItems: [{\n      text: 'Find on map',\n      icon: PlaceIcon,\n      hide: !onFindOnMap,\n      action: onFindOnMap\n    }, {\n      text: 'Watch Series',\n      icon: AddAlertIcon,\n      hide: !onWatch || owned || watching,\n      action: onWatch\n    }, {\n      text: 'Unwatch Series',\n      icon: AddAlertIcon,\n      hide: !onUnWatch || owned || !watching,\n      action: onUnWatch\n    }, {\n      text: 'Share series',\n      icon: ShareIcon,\n      action: function action() {\n        return setShowQR(true);\n      }\n    }, {\n      text: 'Start Slideshow',\n      icon: SlideshowIcon,\n      hide: !onSlideshowStart,\n      action: onSlideshowStart\n    }, {\n      divider: true\n    }, {\n      text: 'Edit Series',\n      icon: EditIcon,\n      hide: !onEditSeries || !can.update,\n      action: onEditSeries\n    }, {\n      text: 'Delete Series',\n      icon: DeleteIcon,\n      hide: !setDeleteConfirm || !can.delete,\n      color: 'error',\n      action: function action() {\n        return setDeleteConfirm(true);\n      }\n    }]\n  })), React.createElement(Tabs, {\n    variant: \"fullWidth\",\n    value: listTypeTab,\n    onChange: function onChange(e, value) {\n      return setListTypeTab(value);\n    }\n  }, React.createElement(Tab, {\n    label: \"Series\"\n  }), React.createElement(Tab, {\n    label: \"Photos\"\n  }))), React.createElement(\"div\", {\n    className: classes.inner\n  }, listTypeTab === 0 && React.createElement(React.Fragment, null, series.photos && series.photos.length > 0 && React.createElement(SwipeShow, {\n    photos: series.photos,\n    activePhoto: activePhoto,\n    setActivePhoto: setActivePhoto,\n    onImageSelect: onTileClick\n  }), React.createElement(SeriesInfo, {\n    onChange: onChange\n  })), series.photos && listTypeTab === 1 && React.createElement(PhotoGrid, {\n    photos: series.photos,\n    onTileClick: onTileClick,\n    onDelete: onDeletePhotos,\n    allowDelete: can.delete\n  })), listTypeTab === 0 && can.contribute && React.createElement(AddFab, {\n    className: classes.AddFab,\n    disabled: !dialogOpen,\n    onCameraClick: onCameraAdd,\n    onLibraryClick: onLibraryAdd\n  }, React.createElement(AddCameraIcon, null)), series.photos[activePhoto] && React.createElement(QRDisplay, {\n    open: showQR,\n    onClose: function onClose() {\n      return setShowQR(false);\n    },\n    series: series,\n    photoId: series.photos[activePhoto].id\n  }), React.createElement(DeleteDialog, {\n    open: deleteConfirm,\n    onConfirm: onDeleteConfirm,\n    title: \"Delete Series\",\n    message: \"Are you sure you want to delete this series? The record and all images associated with it will be gone forever.\"\n  }));\n};\n\nSeriesView.propTypes = {\n  initialPhoto: PropTypes.string,\n  watching: PropTypes.bool,\n  owned: PropTypes.bool,\n  onSlideshowStart: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFindOnMap: PropTypes.func.isRequired,\n  onDeletePhotos: PropTypes.func.isRequired,\n  onDeleteSeries: PropTypes.func.isRequired,\n  onCameraAdd: PropTypes.func.isRequired,\n  onEditSeries: PropTypes.func.isRequired,\n  onLibraryAdd: PropTypes.func.isRequired,\n  onTileClick: PropTypes.func.isRequired,\n  onMenuBack: PropTypes.func.isRequired,\n  onWatch: PropTypes.func,\n  onUnWatch: PropTypes.func\n};\nexport default SeriesView;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Typography from '@material-ui/core/Typography';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MapDirPicker, MapDot } from '@morphoto/maps';\nimport { BigTextEdit } from '@morphoto/modals';\nimport { ShortLongText } from '@morphoto/ui';\nimport { config } from '@morphoto/client-common';\nimport style from './SeriesEditInner.style';\nvar useStyles = makeStyles(style);\nvar DIALOGS = {\n  MAPPICK: 'mapPicker',\n  NOTEEDIT: 'noteEdit'\n};\n\nvar SeriesEditInner = function SeriesEditInner(_ref) {\n  var series = _ref.series,\n      delta = _ref.delta,\n      _onChange = _ref.onChange;\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeDialog = _useState2[0],\n      setActiveDialog = _useState2[1];\n\n  var viewport = {\n    zoom: 18\n  };\n  viewport.longitude = series.coords[0];\n  viewport.latitude = series.coords[1];\n\n  if (delta.coords && delta.coords.length === 2) {\n    viewport.longitude = delta.coords[0];\n    viewport.latitude = delta.coords[1];\n  }\n\n  var access = delta.access || series.access || 'PRIVATE';\n  var name = typeof delta.name === 'string' ? delta.name : series.name || '';\n  var note = typeof delta.note === 'string' ? delta.note : series.note || '';\n  var nameError = !name || name.length < 3;\n  return React.createElement(\"div\", null, React.createElement(TextField, {\n    label: \"Series Name \".concat(nameError ? '(Required)' : ''),\n    fullWidth: true,\n    error: nameError,\n    placeholder: \"New Series\",\n    className: classes.field,\n    value: name,\n    onChange: function onChange(e) {\n      return _onChange(_objectSpread({}, delta, {\n        name: e.target.value\n      }));\n    }\n  }), React.createElement(\"div\", {\n    className: classes.mapWrapper,\n    onClick: function onClick() {\n      return setActiveDialog(DIALOGS.MAPPICK);\n    }\n  }, React.createElement(FormLabel, {\n    className: classes.mapFormLabel\n  }, \"Location\"), React.createElement(\"div\", {\n    className: classes.mapInnerWrap\n  }, React.createElement(MapDot, {\n    staticMap: true,\n    className: classes.map,\n    direction: delta.direction || series.direction,\n    viewport: viewport\n  }))), React.createElement(\"div\", {\n    className: classes.field\n  }, React.createElement(FormLabel, null, \"Series Access\"), React.createElement(\"div\", {\n    className: classes.access\n  }, React.createElement(FormControlLabel, {\n    className: classes.accessRadio,\n    control: React.createElement(Switch, {\n      checked: ['OPEN', 'PUBLIC'].indexOf(access) > -1,\n      onChange: function onChange(e) {\n        _onChange(_objectSpread({}, delta, {\n          access: e.target.checked ? 'PUBLIC' : 'PRIVATE'\n        }));\n      },\n      value: 'PUBLIC'\n    }),\n    label: React.createElement(\"div\", null, React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"div\"\n    }, config.ACCESS.PUBLIC.label), React.createElement(Typography, {\n      variant: \"caption\",\n      color: \"textSecondary\",\n      component: \"div\"\n    }, config.ACCESS.PUBLIC.description))\n  }), React.createElement(FormControlLabel, {\n    className: classes.accessRadio,\n    disabled: ['PRIVATE'].indexOf(access) > -1,\n    control: React.createElement(Switch, {\n      checked: ['OPEN'].indexOf(access) > -1,\n      onChange: function onChange(e) {\n        return _onChange(_objectSpread({}, delta, {\n          access: e.target.checked ? 'OPEN' : 'PUBLIC'\n        }));\n      },\n      value: 'OPEN'\n    }),\n    label: React.createElement(\"div\", null, React.createElement(Typography, {\n      variant: \"body2\",\n      component: \"div\"\n    }, config.ACCESS.OPEN.label), React.createElement(Typography, {\n      variant: \"caption\",\n      color: \"textSecondary\",\n      component: \"div\"\n    }, config.ACCESS.OPEN.description))\n  }))), React.createElement(ShortLongText, {\n    onClick: function onClick() {\n      return setActiveDialog(DIALOGS.NOTEEDIT);\n    },\n    className: classes.field,\n    label: \"Series Note\",\n    placeholder: 'Click to edit',\n    text: note\n  }), activeDialog === DIALOGS.MAPPICK && React.createElement(MapDirPicker, {\n    open: true,\n    title: \"Series Location & Direction\",\n    latitude: delta.latitude || series.coords[1],\n    longitude: delta.longitude || series.coords[0],\n    direction: delta.direction || series.direction,\n    onOk: function onOk(data) {\n      _onChange(_objectSpread({}, delta, {}, data));\n\n      setActiveDialog(null);\n    },\n    onCancel: function onCancel() {\n      return setActiveDialog(null);\n    }\n  }), activeDialog === DIALOGS.NOTEEDIT && React.createElement(BigTextEdit, {\n    open: true,\n    title: \"Series Note\",\n    body: note,\n    multiline: true,\n    onOk: function onOk(newNote) {\n      _onChange(_objectSpread({}, delta, {\n        note: newNote\n      }));\n\n      setActiveDialog(null);\n    },\n    onCancel: function onCancel() {\n      return setActiveDialog(null);\n    }\n  }));\n};\n\nSeriesEditInner.propTypes = {\n  series: PropTypes.object.isRequired,\n  delta: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\nexport default SeriesEditInner;","export default (function (theme) {\n  return {\n    root: {},\n    inner: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    dlgTitle: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    access: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    accessRadio: {\n      margin: theme.spacing(2, 1)\n    },\n    grow: {\n      flexGrow: 1\n    },\n    field: {\n      flexGrow: 0,\n      marginBottom: theme.spacing(1) * 2\n    },\n    slider: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1)\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      width: '100%'\n    },\n    formLabel: {\n      display: 'block',\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    mapFormLabel: {\n      display: 'block',\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    mapInnerWrap: {\n      flexGrow: 1,\n      height: '200px',\n      minHeight: '200px'\n    },\n    mapWrapper: {\n      flexGrow: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      paddingBottom: theme.spacing(1) * 2\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    }\n  };\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SeriesContext } from '../contexts';\nimport style from './SeriesEdit.style';\nimport SeriesEditInner from './SeriesEditInner';\nvar useStyles = makeStyles(style);\n\nvar SeriesEdit = function SeriesEdit(_ref) {\n  var onOk = _ref.onOk,\n      onCancel = _ref.onCancel;\n  var classes = useStyles();\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      delta = _useState2[0],\n      setDelta = _useState2[1];\n\n  return React.createElement(Dialog, {\n    scroll: \"paper\",\n    className: classes.root,\n    fullScreen: true,\n    open: true,\n    onClose: onCancel\n  }, React.createElement(CssBaseline, null), React.createElement(DialogTitle, {\n    disableTypography: true,\n    className: classes.dlgTitle\n  }, React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.grow\n  }, \"Edit Series Details\")), React.createElement(DialogContent, {\n    className: classes.inner\n  }, React.createElement(SeriesEditInner, {\n    series: series,\n    delta: delta,\n    onChange: setDelta\n  })), React.createElement(DialogActions, null, React.createElement(Button, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: function onClick() {\n      return setDelta({});\n    },\n    \"aria-label\": \"Menu\"\n  }, \"Reset\"), React.createElement(Button, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onCancel,\n    \"aria-label\": \"Menu\"\n  }, \"Cancel\"), React.createElement(Button, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: function onClick() {\n      return onOk(_objectSpread({\n        id: series.id\n      }, delta));\n    },\n    \"aria-label\": \"Menu\"\n  }, \"Ok\")));\n};\n\nSeriesEdit.propTypes = {\n  onOk: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};\nexport default SeriesEdit;","export default (function (theme) {\n  return {\n    root: {},\n    inner: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    dlgTitle: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    grow: {\n      flexGrow: 1\n    },\n    field: {\n      flexGrow: 0,\n      marginBottom: theme.spacing(2)\n    },\n    slider: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1)\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      width: '100%'\n    },\n    formLabel: {\n      display: 'block',\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    mapFormLabel: {\n      display: 'block',\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    mapInnerWrap: {\n      flexGrow: 1\n    },\n    mapWrapper: {\n      flexGrow: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      paddingBottom: theme.spacing(2)\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120\n    },\n    chips: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    }\n  };\n});","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TagView, TagEdit } from '@morphoto/tags';\nimport { DateControl, DateView, ShortLongText } from '@morphoto/ui';\nimport { Tags as TagClass } from '@morphoto/common';\nimport { AppContext } from '@morphoto/client-common';\nimport { BigTextEdit, BigText } from '@morphoto/modals';\nimport UserListItem from '../UserListItem';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      height: '90%',\n      width: '85%'\n    },\n    dlgTitleContainer: {\n      display: 'flex',\n      padding: 0\n    },\n    catTagTitle: {\n      marginTop: theme.spacing(2)\n    },\n    dlgTitle: {\n      flexGrow: 1,\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(3)\n    },\n    field: {\n      marginBottom: theme.spacing(2)\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\nvar DIALOGS = {\n  NOTEEDIT: 'noteEdit',\n  NOTEVIEW: 'noteView',\n  PHOTOTAKEN: 'taken',\n  TAGEDIT: 'tag',\n  CANCEL: 'cancel'\n};\n\nvar PhotoInfo = function PhotoInfo(_ref) {\n  var canEdit = _ref.canEdit,\n      photo = _ref.photo,\n      delta = _ref.delta,\n      _onChange = _ref.onChange,\n      hideUser = _ref.hideUser;\n  var classes = useStyles();\n\n  var _useContext = useContext(AppContext),\n      tagConfig = _useContext.tagConfig;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      _useState2$ = _useState2[0],\n      activeDialog = _useState2$.activeDialog,\n      activeDialogContext = _useState2$.activeDialogContext,\n      setActiveDialog = _useState2[1];\n\n  var note = typeof delta.note === 'string' ? delta.note : photo.note || '';\n  var tagInst = new TagClass(tagConfig, delta.tags || photo.tags);\n  var metaKeys = [];\n\n  try {\n    metaKeys = photo.meta ? Object.keys(JSON.parse(photo.meta)) : [];\n  } catch (e) {\n    console.error(e);\n  }\n\n  return React.createElement(\"div\", null, !hideUser && photo.createdUser && React.createElement(React.Fragment, null, React.createElement(UserListItem, {\n    user: photo.createdUser,\n    secondary: \"uploaded this photo\"\n  }), React.createElement(Divider, null)), canEdit ? React.createElement(DateControl, {\n    className: classes.field,\n    label: \"Photo taken on\",\n    value: delta.takenOn || photo.takenOn,\n    onChange: function onChange(takenOn) {\n      return _onChange({\n        takenOn: takenOn\n      });\n    },\n    canEdit: canEdit\n  }) : React.createElement(DateView, {\n    label: \"Photo taken on\",\n    value: delta.takenOn || photo.takenOn\n  }), (canEdit || photo.note) && React.createElement(ShortLongText, {\n    label: \"Photo Note\",\n    placeholder: canEdit ? 'Click to edit' : 'None',\n    text: note,\n    onClick: function onClick() {\n      if (canEdit) setActiveDialog({\n        activeDialog: DIALOGS.NOTEEDIT\n      });else setActiveDialog({\n        activeDialog: DIALOGS.NOTEVIEW\n      });\n    }\n  }), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    className: classes.catTagTitle\n  }, \"Category tags\"), React.createElement(Divider, null), tagInst.getNonXYTagTypes().map(function (tt, idx) {\n    return React.createElement(\"div\", {\n      key: \"tagtype-\".concat(idx),\n      onClick: function onClick() {\n        return canEdit ? setActiveDialog({\n          activeDialog: DIALOGS.TAGEDIT,\n          activeDialogContext: tt\n        }) : null;\n      }\n    }, React.createElement(TagView, {\n      className: classes.field,\n      label: tt.label,\n      tags: delta.tags || photo.tags,\n      tagConfig: tt\n    }));\n  }), metaKeys.length > 0 && Object.keys(photo.meta).length > 0 && React.createElement(React.Fragment, null, React.createElement(Typography, {\n    className: classes.heading\n  }, \"Metadata\"), React.createElement(Divider, null), React.createElement(List, {\n    className: classes.list\n  }, metaKeys.map(function (key, idx) {\n    return photo.meta[key] ? React.createElement(ListItem, {\n      key: \"metadata\".concat(idx)\n    }, React.createElement(ListItemText, {\n      primary: photo.meta[key].label,\n      secondary: photo.meta[key].render(photo.meta[key])\n    })) : null;\n  }))), activeDialog && activeDialog === DIALOGS.NOTEEDIT && React.createElement(BigTextEdit, {\n    open: true,\n    multiline: true,\n    onOk: function onOk(note) {\n      _onChange({\n        note: note\n      });\n\n      setActiveDialog({});\n    },\n    title: \"Edit Photo Note\",\n    body: note\n  }), activeDialog && activeDialog === DIALOGS.NOTEVIEW && React.createElement(BigText, {\n    open: true,\n    multiline: true,\n    onClose: function onClose() {\n      return setActiveDialog({});\n    },\n    title: \"Photo Note\",\n    body: note\n  }), activeDialog && activeDialog === DIALOGS.TAGEDIT && React.createElement(TagEdit, {\n    open: true,\n    title: \"Edit Tags: \".concat(activeDialogContext.label),\n    onOk: function onOk(tags) {\n      setActiveDialog({});\n\n      _onChange({\n        tags: tags\n      });\n    },\n    onCancel: function onCancel() {\n      return setActiveDialog({});\n    },\n    tags: delta.tags || photo.tags,\n    tagConfig: activeDialogContext\n  }));\n};\n\nPhotoInfo.propTypes = {\n  canEdit: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  hideUser: PropTypes.bool,\n  photo: PropTypes.object.isRequired,\n  delta: PropTypes.object.isRequired\n};\nexport default PhotoInfo;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CancelConfirm } from '@morphoto/modals';\nimport PhotoInfoInner from './PhotoInfoInner';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      height: '90%',\n      width: '85%'\n    },\n    dlgTitleContainer: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main,\n      display: 'flex',\n      padding: 0\n    },\n    dlgTitle: {\n      flexGrow: 1,\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(1),\n      paddingLeft: theme.spacing(3)\n    },\n    field: {\n      marginBottom: theme.spacing(2)\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\nvar DIALOGS = {\n  NOTEEDIT: 'noteEdit',\n  NOTEVIEW: 'noteView',\n  PHOTOTAKEN: 'taken',\n  TAGEDIT: 'tag',\n  CANCEL: 'cancel'\n};\n\nvar PhotoInfo = function PhotoInfo(_ref) {\n  var canEdit = _ref.canEdit,\n      photo = _ref.photo,\n      onCancel = _ref.onCancel,\n      onOk = _ref.onOk,\n      open = _ref.open;\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeDialog = _useState2[0],\n      setActiveDialog = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      delta = _useState4[0],\n      setDelta = _useState4[1];\n\n  var dirty = delta && Object.keys(delta).length > 0;\n  return React.createElement(Dialog, {\n    fullScreen: true,\n    onClose: function onClose() {\n      if (dirty) setActiveDialog(DIALOGS.CANCEL);else onCancel();\n    },\n    \"aria-labelledby\": \"customized-dialog-title\",\n    open: open\n  }, React.createElement(DialogTitle, {\n    disableTypography: true,\n    className: classes.dlgTitleContainer\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    className: classes.dlgTitle\n  }, \"Photo Properties\"), React.createElement(IconButton, {\n    onClick: onCancel,\n    color: \"inherit\"\n  }, React.createElement(CloseIcon, null))), React.createElement(DialogContent, null, React.createElement(PhotoInfoInner, {\n    photo: photo,\n    delta: delta,\n    onChange: function onChange(newDelta) {\n      return setDelta(_objectSpread({}, delta, {}, newDelta));\n    },\n    canEdit: canEdit\n  })), React.createElement(DialogActions, null, !canEdit && React.createElement(Button, {\n    onClick: onCancel,\n    color: \"primary\"\n  }, \"Ok\"), canEdit && !dirty && React.createElement(Button, {\n    onClick: onCancel,\n    color: \"primary\"\n  }, \"Back\"), canEdit && dirty && React.createElement(React.Fragment, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return setActiveDialog(DIALOGS.CANCEL);\n    },\n    color: \"primary\"\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return setDelta({});\n    },\n    color: \"primary\"\n  }, \"Reset\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return onOk(delta);\n    },\n    color: \"primary\"\n  }, \"Ok\"))), activeDialog && activeDialog === DIALOGS.CANCEL && React.createElement(CancelConfirm, {\n    open: true,\n    title: \"Lose unsaved changes?\",\n    message: \"You will lose any changes you made to this form\",\n    onConfirm: function onConfirm(confirm) {\n      setActiveDialog(null);\n      if (confirm) onCancel();\n    }\n  }));\n};\n\nPhotoInfo.propTypes = {\n  canEdit: PropTypes.bool,\n  onCancel: PropTypes.func.isRequired,\n  onOk: PropTypes.func.isRequired,\n  open: PropTypes.bool,\n  photo: PropTypes.object.isRequired\n};\nexport default PhotoInfo;","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport SwipeableViews from 'react-swipeable-views';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Button from '@material-ui/core/Button';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport Chip from '@material-ui/core/Chip';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport InfoIcon from '@material-ui/icons/Info';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport PhotoInfo from './PhotoInfo';\nimport { SeriesContext } from '../contexts';\nimport { Photo } from '@morphoto/photos';\nimport { AppContext } from '@morphoto/client-common';\nimport { dates, Tags as TagClass } from '@morphoto/common';\nimport style from './PhotoViewTool.style';\nvar useStyles = makeStyles(style);\nvar STATES = {\n  VIEWPIC: 0,\n  SHOWINFO: 1,\n  SHOWTAGS: 2,\n  EDITTAGS: 3,\n  FIRSTAGEDIT: 4\n};\n\nvar PhotoViewTool = function PhotoViewTool(_ref) {\n  var onMenuBack = _ref.onMenuBack,\n      onUpdatePhoto = _ref.onUpdatePhoto,\n      newPhoto = _ref.newPhoto;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series,\n      ac = _useContext.ac,\n      initialPhoto = _useContext.initialPhoto;\n\n  var photos = series.photos;\n\n  var _useState = useState(initialPhoto ? photos.findIndex(function (p) {\n    return p.id === initialPhoto;\n  }) : 0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activePhoto = _useState2[0],\n      setActivePhoto = _useState2[1];\n\n  var photo = photos[activePhoto];\n\n  var _useState3 = useState(newPhoto ? photo : {}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      delta = _useState4[0],\n      setDelta = _useState4[1];\n\n  var _useState5 = useState({\n    current: newPhoto ? STATES.FIRSTAGEDIT : STATES.VIEWPIC,\n    last: null\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mode = _useState6[0],\n      setMode = _useState6[1];\n\n  var _useContext2 = useContext(AppContext),\n      tagConfig = _useContext2.tagConfig;\n\n  var tagsClass = new TagClass(tagConfig, delta.tags || photo.tags);\n\n  var changeMode = function changeMode(desired) {\n    setMode({\n      current: desired,\n      last: mode.current\n    });\n  };\n\n  var onCommitTags = function onCommitTags() {\n    changeMode(STATES.SHOWTAGS);\n    onUpdatePhoto(photo, _objectSpread({\n      id: photo.id\n    }, delta));\n  };\n\n  var onCommitTagsFirst = function onCommitTagsFirst() {\n    onUpdatePhoto(photo, _objectSpread({\n      id: photo.id\n    }, delta));\n    onMenuBack();\n  };\n\n  var onCancelTagEdit = function onCancelTagEdit() {\n    changeMode(STATES.SHOWTAGS);\n    setDelta(photo);\n  };\n\n  var photoClick = function photoClick(e) {\n    if (mode.current === STATES.VIEWPIC) {\n      e.preventDefault();\n      e.stopPropagation();\n      changeMode(STATES.SHOWINFO);\n    }\n  };\n\n  var can = {\n    update: ac.canUser('update', series, 'series') || ac.canUser('update', photo, 'photo')\n  };\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(AppBar, {\n    position: \"static\",\n    className: classNames(classes.appBar, mode.current !== STATES.VIEWPIC ? classes.appBarEdit : null)\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, mode.current !== STATES.FIRSTAGEDIT && React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"Menu\",\n    onClick: function onClick() {\n      return onMenuBack();\n    }\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(\"div\", {\n    className: classes.grow\n  }, React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"inherit\"\n  }, newPhoto ? 'Add Tags' : \"Photo View (\".concat(activePhoto + 1, \"/\").concat(photos.length, \")\")), React.createElement(Typography, {\n    variant: \"subtitle2\",\n    color: \"inherit\"\n  }, dates.formatDate(photo.takenOn, 'lll'))), mode.current === STATES.EDITTAGS && React.createElement(Button, {\n    color: \"inherit\",\n    onClick: onCancelTagEdit\n  }, \"Cancel\"), mode.current === STATES.EDITTAGS && React.createElement(Button, {\n    color: \"inherit\",\n    onClick: onCommitTags\n  }, \"Save\"), mode.current === STATES.FIRSTAGEDIT && React.createElement(Button, {\n    color: \"inherit\",\n    onClick: onCommitTagsFirst\n  }, \"Next\"), can.update && mode.current === STATES.SHOWTAGS && React.createElement(Button, {\n    color: \"inherit\",\n    onClick: function onClick() {\n      return changeMode(STATES.EDITTAGS);\n    }\n  }, \"Edit\"), mode.current !== STATES.EDITTAGS && mode.current !== STATES.FIRSTAGEDIT && React.createElement(IconButton, {\n    color: \"inherit\",\n    className: classNames(classes.tagButton, mode.current === STATES.SHOWTAGS && classes.activeButton),\n    onClick: function onClick() {\n      return changeMode(mode.current === STATES.SHOWTAGS ? STATES.VIEWPIC : STATES.SHOWTAGS);\n    }\n  }, React.createElement(Badge, {\n    className: classes.margin,\n    badgeContent: tagsClass.getXYTags().length,\n    color: \"primary\"\n  }, React.createElement(LabelIcon, {\n    color: \"inherit\"\n  }))), mode.current !== STATES.EDITTAGS && mode.current !== STATES.FIRSTAGEDIT && React.createElement(IconButton, {\n    color: \"inherit\",\n    className: classNames(classes.infoButton, mode.current === STATES.SHOWINFO && classes.activeButton),\n    onClick: function onClick() {\n      return changeMode(mode.current === STATES.SHOWINFO ? STATES.VIEWPIC : STATES.SHOWINFO);\n    }\n  }, React.createElement(InfoIcon, null)))), React.createElement(\"div\", {\n    className: classes.inner\n  }, React.createElement(SwipeableViews, {\n    axis: theme.direction === 'rtl' ? 'x-reverse' : 'x',\n    index: activePhoto,\n    containerStyle: {\n      height: '100%'\n    },\n    style: {\n      height: '100%'\n    },\n    disabled: mode.current !== STATES.VIEWPIC,\n    onChangeIndex: function onChangeIndex(val) {\n      return setActivePhoto(val);\n    },\n    enableMouseEvents: true\n  }, photos.map(function (photoidx, idx) {\n    return React.createElement(\"div\", {\n      className: classes.photoWrapper,\n      key: \"swipeshowpic-\".concat(idx)\n    }, React.createElement(Photo, {\n      showTags: mode.current === STATES.SHOWTAGS,\n      photo: _objectSpread({}, photoidx, {}, delta),\n      edit: can.update && (mode.current === STATES.EDITTAGS || mode.current === STATES.FIRSTAGEDIT),\n      onChange: setDelta,\n      onCommitTags: onCommitTags\n    }));\n  })), mode.current === STATES.VIEWPIC && React.createElement(MobileStepper, {\n    steps: photos.length,\n    position: \"bottom\",\n    activeStep: activePhoto,\n    classes: {\n      root: classes.mobileStepper,\n      dots: classes.dots,\n      dot: classes.dot,\n      dotActive: classes.dotActive\n    }\n  })), React.createElement(PhotoInfo, {\n    open: mode.current === STATES.SHOWINFO,\n    photo: photo,\n    canEdit: can.update,\n    onOk: function onOk(newDelta) {\n      onUpdatePhoto(photo, _objectSpread({\n        id: photo.id\n      }, newDelta));\n      changeMode(mode.last);\n    },\n    onCancel: function onCancel() {\n      return changeMode(mode.last);\n    }\n  }), (mode.current === STATES.EDITTAGS || mode.current === STATES.FIRSTAGEDIT) && React.createElement(Chip, {\n    label: \"Tap to tag features...\",\n    onClick: function onClick() {},\n    className: classes.tipChip\n  }));\n};\n\nPhotoViewTool.propTypes = {\n  newPhoto: PropTypes.bool,\n  onMenuBack: PropTypes.func.isRequired,\n  onUpdatePhoto: PropTypes.func.isRequired\n};\nexport default PhotoViewTool;","export default (function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column',\n      overflow: 'hidden'\n    },\n    appBar: {\n      flexGrow: 0\n    },\n    appBarEdit: {\n      color: theme.palette.secondary.contrastText,\n      background: theme.palette.secondary.main\n    },\n    grow: {\n      flexGrow: 1\n    },\n    photoWrapper: {\n      height: '100%'\n    },\n    inner: {\n      flex: '1 1',\n      position: 'relative'\n    },\n    tabMenu: {\n      marginTop: theme.spacing(7)\n    },\n    tipChip: {\n      position: 'absolute',\n      zIndex: 11,\n      bottom: 20,\n      left: '50%',\n      opacity: 0.6,\n      transform: 'translateX(-50%)'\n    },\n    mobileStepper: {\n      background: 'none'\n    },\n    dots: {\n      margin: '0 auto'\n    },\n    dot: {\n      border: '1px solid #FFFFFF77'\n    },\n    dotActive: {\n      background: theme.palette.secondary.main\n    },\n    activeButton: {\n      color: theme.palette.primary.main,\n      opacity: 1\n    }\n  };\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Dialog from '@material-ui/core/Dialog';\nimport Divider from '@material-ui/core/Divider';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SeriesEditInner from './SeriesEditInner';\nimport PhotoInfoInner from './PhotoInfoInner';\nimport style from './NewPhotoInfo.style';\nvar useStyles = makeStyles(style);\n\nvar NewPhotoInfo = function NewPhotoInfo(_ref) {\n  var photo = _ref.photo,\n      newSeries = _ref.newSeries,\n      actions = _ref.actions;\n  var classes = useStyles();\n\n  var _useState = useState(newSeries || {}),\n      _useState2 = _slicedToArray(_useState, 2),\n      seriesDelta = _useState2[0],\n      setSeriesDelta = _useState2[1];\n\n  var _useState3 = useState(photo),\n      _useState4 = _slicedToArray(_useState3, 2),\n      photoDelta = _useState4[0],\n      setPhotoDelta = _useState4[1];\n\n  var validName = !newSeries || seriesDelta.name && seriesDelta.name.length >= 3;\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), \" \", React.createElement(Dialog, {\n    fullScreen: true,\n    scroll: \"paper\",\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    onClose: actions.onCancel,\n    \"aria-labelledby\": \"customized-dialog-title\",\n    open: true\n  }, React.createElement(DialogTitle, {\n    disableTypography: true,\n    className: classes.dlgTitleContainer\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    className: classes.dlgTitle\n  }, newSeries ? 'New Series Details' : 'New Photo Details')), React.createElement(DialogContent, null, !!newSeries && React.createElement(SeriesEditInner, {\n    series: newSeries,\n    delta: seriesDelta,\n    onChange: setSeriesDelta\n  }), !!newSeries && React.createElement(\"div\", null, React.createElement(Typography, {\n    variant: \"h5\",\n    className: classes.photoTitle\n  }, \"New photo details\"), React.createElement(Divider, null)), React.createElement(PhotoInfoInner, {\n    photo: photo,\n    canEdit: true,\n    hideUser: true,\n    delta: photoDelta,\n    onChange: function onChange(newAttr) {\n      return setPhotoDelta(_objectSpread({}, photoDelta, {}, newAttr));\n    }\n  })), React.createElement(DialogActions, null, React.createElement(Button, {\n    onClick: actions.onCancel,\n    color: \"primary\"\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: function onClick() {\n      return actions.onSave(seriesDelta, photoDelta);\n    },\n    disabled: !validName,\n    color: \"primary\"\n  }, \"Next\"))));\n};\n\nNewPhotoInfo.propTypes = {\n  photo: PropTypes.object.isRequired,\n  newSeries: PropTypes.object,\n  actions: PropTypes.shape({\n    onCancel: PropTypes.func.isRequired,\n    onSave: PropTypes.func\n  })\n};\nexport default NewPhotoInfo;","export default (function (theme) {\n  return {\n    root: {},\n    formLabel: {\n      color: theme.palette.text.secondary\n    },\n    dlgTitleContainer: {\n      color: theme.palette.primary.contrastText,\n      background: theme.palette.primary.main\n    },\n    mapFormLabel: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(1),\n      color: theme.palette.text.secondary\n    },\n    map: {\n      marginBottom: theme.spacing(2)\n    },\n    mapWrapper: {\n      marginBottom: theme.spacing(2)\n    },\n    field: {\n      marginBottom: theme.spacing(2)\n    }\n  };\n});","import _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport Fab from '@material-ui/core/Fab';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\nimport { RawImage, PhotoGrid, PhotoFadeSlider } from '@morphoto/photos';\nimport { SeriesContext } from '../contexts';\nimport style from './PhotoReviewTool.style';\nvar useStyles = makeStyles(style);\n\nvar PhotoReviewTool = function PhotoReviewTool(_ref) {\n  var captured = _ref.captured,\n      defaultRefPhotoId = _ref.defaultRefPhotoId,\n      onConfirm = _ref.onConfirm,\n      onCancel = _ref.onCancel,\n      onRetry = _ref.onRetry,\n      dataUrl = _ref.dataUrl;\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series;\n\n  var photos = series && series.photos ? series.photos : null;\n  var classes = useStyles();\n  var newRefPhoto = defaultRefPhotoId ? photos.find(function (p) {\n    return p.id === defaultRefPhotoId;\n  }) : photos && photos.length > 0 ? photos[0] : null;\n\n  var _useState = useState(newRefPhoto),\n      _useState2 = _slicedToArray(_useState, 2),\n      refPhoto = _useState2[0],\n      setRefPhoto = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      drawerOpen = _useState4[0],\n      setDrawerOpen = _useState4[1];\n\n  var _useState5 = useState(100),\n      _useState6 = _slicedToArray(_useState5, 2),\n      slider = _useState6[0],\n      setSlider = _useState6[1];\n\n  var handleTileClick = function handleTileClick(id) {\n    setRefPhoto(series.photos.find(function (p) {\n      return p.id === id;\n    }));\n    setDrawerOpen(false);\n  };\n\n  if (!captured) return 'Loading...';\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), Boolean(refPhoto) && React.createElement(PhotoFadeSlider, {\n    defaultValue: 100,\n    onChange: setSlider\n  }), React.createElement(\"div\", {\n    className: classes.captured\n  }, React.createElement(RawImage, {\n    sizePriority: ['large', 'medium', 'thumb'],\n    style: {\n      opacity: slider / 100\n    },\n    dataUrl: dataUrl,\n    photo: captured\n  })), Boolean(refPhoto) && React.createElement(\"div\", {\n    className: classes.reference\n  }, React.createElement(RawImage, {\n    sizePriority: ['large', 'medium', 'thumb'],\n    photo: refPhoto\n  })), React.createElement(Snackbar, {\n    open: true,\n    autoHideDuration: null,\n    ContentProps: {\n      'aria-describedby': 'snackbar-fab-message-id',\n      className: classes.snackbarContent\n    },\n    message: React.createElement(\"span\", {\n      id: \"snackbar-fab-message-id\"\n    }, \"Keep this photo?\"),\n    action: React.createElement(\"div\", null, React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: onCancel\n    }, \"Cancel\"), Boolean(onRetry) && React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: onRetry\n    }, \"Retry\"), React.createElement(Button, {\n      color: \"inherit\",\n      size: \"small\",\n      onClick: onConfirm\n    }, \"Keep\")),\n    className: classes.snackbar\n  }), series && series.photos && React.createElement(Fab, {\n    \"aria-label\": \"library\",\n    className: classNames(classes.libraryFab, classes.buttonFab),\n    classes: {\n      disabled: classes.disabledFab\n    },\n    disabled: !series || !series.photos || series.photos.length === 0,\n    onClick: function onClick() {\n      return setDrawerOpen(true);\n    }\n  }, React.createElement(PhotoLibraryIcon, {\n    className: classes.libraryIcon\n  })), series && series.photos && React.createElement(SwipeableDrawer, {\n    anchor: \"left\",\n    open: drawerOpen,\n    classes: {\n      paperAnchorLeft: classes.swipeDrawer\n    },\n    onClose: function onClose() {\n      return setDrawerOpen(false);\n    },\n    onOpen: function onOpen() {\n      return setDrawerOpen(true);\n    }\n  }, React.createElement(\"div\", {\n    tabIndex: 0,\n    className: classes.swipeDrawerContainer,\n    role: \"button\",\n    onClick: function onClick() {\n      return setDrawerOpen(false);\n    },\n    onKeyDown: function onKeyDown() {\n      return setDrawerOpen(false);\n    }\n  }, React.createElement(PhotoGrid, {\n    multiSelect: false,\n    columns: 1,\n    photos: series.photos,\n    onTileClick: handleTileClick\n  }))));\n};\n\nPhotoReviewTool.propTypes = {\n  defaultRefPhotoId: PropTypes.string,\n  captured: PropTypes.object,\n  dataUrl: PropTypes.string.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onRetry: PropTypes.func\n};\nexport default PhotoReviewTool;","export default (function (theme) {\n  return {\n    root: {\n      background: 'rgb(150,150, 150)',\n      height: '100%',\n      width: '100%'\n    },\n    captured: {\n      zIndex: 3,\n      position: 'absolute',\n      height: '100%',\n      width: '100%'\n    },\n    reference: {\n      zIndex: 2,\n      position: 'absolute',\n      height: '100%',\n      width: '100%'\n    },\n    libraryFab: {\n      position: 'absolute',\n      zIndex: 10,\n      '@media (orientation: landscape)': {\n        left: '15px',\n        top: '15px',\n        height: '15vh',\n        width: '15vh'\n      },\n      '@media (orientation: portrait)': {\n        left: '15px',\n        top: '15px',\n        height: '15vw',\n        width: '15vw'\n      }\n    },\n    swipeDrawer: {\n      width: '50%'\n    },\n    referenceTextContainer: {\n      width: '100%',\n      display: 'flex',\n      color: 'white',\n      background: 'rgba(0,0,0,0.5)',\n      padding: theme.spacing(3),\n      position: 'absolute',\n      zIndex: 4,\n      top: 0\n    },\n    newText: {\n      flexGrow: 1,\n      color: 'white',\n      textShadow: '1 1 1 black',\n      textAlign: 'right'\n    },\n    refText: {\n      flexGrow: 1,\n      color: 'white',\n      textShadow: '1 1 1 black'\n    }\n  };\n});","import _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { getExif, Series as SeriesClass, Photo as PhotoClass } from '@morphoto/common';\nimport { CameraTool } from '@morphoto/camera';\nimport NewPhotoInfo from './NewPhotoInfo';\nimport PhotoReviewTool from './PhotoReviewTool';\nimport { LibraryFilePicker } from '@morphoto/ui';\nimport { SeriesContext } from '../contexts';\nimport { AppContext, useDeviceOrientation, useGeolocation } from '@morphoto/client-common';\nexport var NEW_PHOTO_MODES = {\n  CAMERA: 'camera',\n  FILEPICKER: 'library',\n  PHOTOREVIEW: 'photoreview',\n  PHOTOINFOEDIT: 'photoinfoedit'\n};\n\nvar NewPhoto = function NewPhoto(_ref) {\n  var inputMethod = _ref.inputMethod,\n      isNewSeries = _ref.isNewSeries,\n      actions = _ref.actions;\n\n  var _useContext = useContext(SeriesContext),\n      series = _useContext.series,\n      device = _useContext.device;\n\n  var geoRef = useRef();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      newPhotoData = _useState2[0],\n      setNewPhotoData = _useState2[1];\n\n  var _useContext2 = useContext(AppContext),\n      metaConfig = _useContext2.metaConfig;\n\n  var _useState3 = useState(isNewSeries ? new SeriesClass(metaConfig).series : series),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newSeries = _useState4[0],\n      setNewSeries = _useState4[1];\n\n  var _useState5 = useState(new PhotoClass(metaConfig).photo),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newPhoto = _useState6[0],\n      setNewPhoto = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      photoRefId = _useState8[0],\n      setPhotoRefId = _useState8[1];\n\n  var _useState9 = useState({\n    current: inputMethod,\n    history: []\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      mode = _useState10[0],\n      _changeMode = _useState10[1];\n\n  var orientation = useDeviceOrientation();\n  var geo = useGeolocation();\n  geoRef.current = geo;\n  var photos = !isNewSeries && series && series.photos ? series.photos : [];\n\n  var changeMode = function changeMode(newModeName) {\n    console.log('NEWPHOTO changeMode', mode, newModeName);\n\n    _changeMode({\n      current: newModeName,\n      history: [].concat(_toConsumableArray(mode.history), [mode.current])\n    });\n  };\n\n  var lastMode = function lastMode() {\n    if (mode.history.length > 0) {\n      var oldHistory = _toConsumableArray(mode.history);\n\n      var oldMode = oldHistory.pop();\n\n      _changeMode({\n        current: oldMode,\n        history: oldHistory\n      });\n    } else {\n      actions.onCancel();\n    }\n  };\n\n  var onLibraryAdd = function onLibraryAdd(data) {\n    console.log('onLibraryAdd Debug GOT DATA', {\n      data: data,\n      isNewSeries: isNewSeries\n    });\n    setNewPhotoData(data);\n\n    var _getExif = getExif(data.dataUrl),\n        exif = _getExif.exif,\n        exifDateTime = _getExif.exifDateTime,\n        exifGPS = _getExif.exifGPS;\n\n    var coords = exifGPS;\n    console.log('EXIF Debug', {\n      exif: exif,\n      exifDateTime: exifDateTime,\n      exifGPS: exifGPS\n    });\n    var date = exifDateTime || String(Date.now());\n\n    if (!coords) {\n      if (geoRef.current && geoRef.current.latitude && geoRef.current.longitude) {\n        var _geoRef$current = geoRef.current,\n            latitude = _geoRef$current.latitude,\n            longitude = _geoRef$current.longitude;\n        coords = [longitude, latitude];\n      } else {\n        coords = [-123.1398254, 49.3050394];\n      }\n    }\n\n    if (isNewSeries) setNewSeries(_objectSpread({}, newSeries, {\n      coords: coords\n    }));\n\n    var _newPhoto = _objectSpread({}, newPhoto, {\n      takenOn: date,\n      coords: coords,\n      rawData: JSON.stringify({\n        exif: exif,\n        sensors: {\n          orientation: orientation,\n          geo: geo\n        }\n      })\n    });\n\n    setNewPhoto(_newPhoto);\n    console.log('onLibraryAdd', _newPhoto);\n    changeMode(NEW_PHOTO_MODES.PHOTOREVIEW);\n    console.log('onLibraryAdd FINISHED', _newPhoto);\n  };\n\n  var onShutter = function onShutter(data, refId) {\n    console.log('onShutter Debug GOT DATA', {\n      data: data\n    });\n    setNewPhotoData(data);\n\n    var _getExif2 = getExif(data.dataUrl),\n        exif = _getExif2.exif,\n        exifGPS = _getExif2.exifGPS;\n\n    var date = String(Date.now());\n    var coords = [-123.1398254, 49.3050394];\n\n    if (geoRef.current && geoRef.current.latitude && geoRef.current.longitude) {\n      var _geoRef$current2 = geoRef.current,\n          latitude = _geoRef$current2.latitude,\n          longitude = _geoRef$current2.longitude;\n      coords = [longitude, latitude];\n    } else if (exifGPS) {\n      coords = exifGPS;\n    }\n\n    if (isNewSeries) setNewSeries(_objectSpread({}, newSeries, {\n      coords: coords\n    }));\n\n    var _newPhoto = _objectSpread({}, newPhoto, {\n      takenOn: date,\n      coords: coords,\n      rawData: JSON.stringify({\n        exif: exif,\n        sensors: {\n          orientation: orientation,\n          geo: geo\n        }\n      })\n    });\n\n    setNewPhoto(_newPhoto);\n    console.log('onShutter', {\n      _newPhoto: _newPhoto,\n      newSeries: _objectSpread({}, newSeries, {\n        coords: coords\n      })\n    });\n    setPhotoRefId(refId);\n    changeMode(NEW_PHOTO_MODES.PHOTOREVIEW);\n  };\n\n  var onFinalCreate = function onFinalCreate(seriesDelta, photoDelta) {\n    return actions.onCreate(seriesDelta, photoDelta, newPhotoData);\n  };\n\n  var component = null;\n\n  switch (mode.current) {\n    case NEW_PHOTO_MODES.CAMERA:\n      component = device.ios ? React.createElement(LibraryFilePicker, {\n        onCancel: actions.onCancel,\n        cameraPicker: true,\n        onLibraryAdd: onLibraryAdd\n      }) : React.createElement(CameraTool, {\n        photos: photos,\n        onShutter: onShutter,\n        onCancel: actions.onCancel\n      });\n      break;\n\n    case NEW_PHOTO_MODES.FILEPICKER:\n      component = React.createElement(LibraryFilePicker, {\n        onCancel: actions.onCancel,\n        onLibraryAdd: onLibraryAdd\n      });\n      break;\n\n    case NEW_PHOTO_MODES.PHOTOREVIEW:\n      component = React.createElement(PhotoReviewTool, {\n        defaultRefPhotoId: photoRefId,\n        photos: photos,\n        captured: newPhoto,\n        dataUrl: newPhotoData.dataUrl,\n        onConfirm: function onConfirm() {\n          return changeMode(NEW_PHOTO_MODES.PHOTOINFOEDIT);\n        },\n        onCancel: actions.onCancel,\n        onRetry: lastMode\n      });\n      break;\n\n    case NEW_PHOTO_MODES.PHOTOINFOEDIT:\n      component = React.createElement(NewPhotoInfo, {\n        photo: newPhoto,\n        newSeries: isNewSeries ? newSeries : null,\n        actions: {\n          onSave: onFinalCreate,\n          onCancel: actions.onCancel\n        }\n      });\n      break;\n\n    default:\n      console.log('NEWPHOTO: default state. you should NEVER see this', mode);\n      actions.onCancel();\n  }\n\n  return component;\n};\n\nNewPhoto.propTypes = {\n  inputMethod: PropTypes.oneOf(['camera', 'library']),\n  isNewSeries: PropTypes.bool,\n  photos: PropTypes.array,\n  actions: PropTypes.shape({\n    onCreate: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired\n  })\n};\nexport default NewPhoto;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './SeriesView.style';\nvar useStyles = makeStyles(style);\n\nvar SeriesNotFound = function SeriesNotFound(_ref) {\n  var onMenuBack = _ref.onMenuBack;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, \"Series\"))), React.createElement(\"div\", {\n    className: classes.placeholderInner\n  }, React.createElement(\"div\", {\n    className: classes.grow\n  }), React.createElement(Typography, {\n    className: classes.placeholderText,\n    variant: \"h3\"\n  }, \"Series not found\"), React.createElement(\"div\", {\n    className: classes.grow\n  })));\n};\n\nSeriesNotFound.propTypes = {\n  onMenuBack: PropTypes.func.isRequired\n};\nexport default SeriesNotFound;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './SeriesView.style';\nvar useStyles = makeStyles(style);\n\nvar SeriesLoading = function SeriesLoading(_ref) {\n  var onMenuBack = _ref.onMenuBack;\n  var classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.root\n  }, React.createElement(CssBaseline, null), React.createElement(AppBar, {\n    position: \"static\",\n    className: classes.appBar\n  }, React.createElement(Toolbar, {\n    disableGutters: true\n  }, React.createElement(IconButton, {\n    className: classes.menuButton,\n    color: \"inherit\",\n    onClick: onMenuBack,\n    \"aria-label\": \"Menu\"\n  }, React.createElement(ArrowBackIcon, null)), React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"inherit\",\n    className: classes.toolbarTitle\n  }, \"Series\"))), React.createElement(\"div\", {\n    className: classes.placeholderInner\n  }, React.createElement(\"div\", {\n    className: classes.grow\n  }), React.createElement(\"div\", {\n    className: classes.progressWrapper\n  }, React.createElement(CircularProgress, {\n    className: classes.progress,\n    color: \"inherit\",\n    size: 150,\n    thickness: 5\n  })), React.createElement(Typography, {\n    className: classes.placeholderText,\n    variant: \"h4\"\n  }, \"Loading...\"), React.createElement(\"div\", {\n    className: classes.grow\n  })));\n};\n\nSeriesLoading.propTypes = {\n  onMenuBack: PropTypes.func.isRequired\n};\nexport default SeriesLoading;","import _regeneratorRuntime from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/matt/Work/Git/PBR/PhotoMonitoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Slideshow from '@morphoto/slideshow';\nimport { AccessHelper } from '@morphoto/common';\nimport { AppContext } from '@morphoto/client-common';\nimport SeriesView from './views/SeriesView';\nimport SeriesEdit from './views/SeriesEdit';\nimport PhotoViewTool from './views/PhotoViewTool';\nimport NewPhoto from './views/NewPhoto';\nimport SeriesNotFound from './SeriesNotFound';\nimport SeriesLoading from './SeriesLoading';\nimport { SeriesContext } from './contexts';\nexport var SERIES_MODES = {\n  SERIES_VIEW: 'series',\n  SERIES_EDIT: 'editseries',\n  NEWPHOTO: 'newphoto',\n  NEWSERIES: 'newseries',\n  REVIEW: 'review',\n  PHOTO_VIEW: 'photoviewer',\n  PHOTO_VIEW_NEW: 'newphotoviewer',\n  SLIDESHOW: 'slideshow'\n};\nvar VIEW_ONLY_MODES = [SERIES_MODES.SERIES_VIEW, SERIES_MODES.PHOTO_VIEW, SERIES_MODES.SLIDESHOW];\nvar VALID_STARTMODES = [SERIES_MODES.SERIES_VIEW, SERIES_MODES.NEWPHOTO, SERIES_MODES.NEWSERIES, SERIES_MODES.PHOTO_REVIEW, SERIES_MODES.PHOTO_VIEW];\n\nvar RepeatablePhotos = function RepeatablePhotos(_ref) {\n  var modeName = _ref.modeName,\n      series = _ref.series,\n      inputMethodINIT = _ref.inputMethod,\n      currentUserId = _ref.currentUserId,\n      currentUserRole = _ref.currentUserRole,\n      initialPhoto = _ref.initialPhoto,\n      loading = _ref.loading,\n      watching = _ref.watching,\n      owned = _ref.owned,\n      actions = _ref.actions;\n\n  var _useContext = useContext(AppContext),\n      device = _useContext.device;\n\n  var _useState = useState({\n    series: series,\n    initialPhoto: initialPhoto,\n    device: device,\n    ac: new AccessHelper(currentUserId, currentUserRole)\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      seriesContextState = _useState2[0],\n      setSeriesContextState = _useState2[1];\n\n  var _useState3 = useState({\n    current: {\n      name: modeName || SERIES_MODES.SERIES_VIEW,\n      pid: initialPhoto,\n      inputMethod: inputMethodINIT\n    },\n    history: []\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mode = _useState4[0],\n      setMode = _useState4[1];\n\n  useEffect(function () {\n    setSeriesContextState(_objectSpread({}, seriesContextState, {\n      series: series,\n      initialPhoto: initialPhoto\n    }));\n    setMode({\n      current: {\n        name: modeName || SERIES_MODES.SERIES_VIEW,\n        pid: initialPhoto,\n        inputMethod: inputMethodINIT\n      },\n      history: []\n    });\n  }, [series, initialPhoto, inputMethodINIT, modeName]);\n\n  var onUpdatePhoto = function onUpdatePhoto(photo, photoDelta) {\n    var newSeries = _objectSpread({}, seriesContextState.series);\n\n    newSeries.photos = newSeries.photos.map(function (ph) {\n      return ph.id === photoDelta.id ? _objectSpread({}, ph, {}, photoDelta) : ph;\n    });\n    actions.onChangePhoto(photo, _objectSpread({}, photoDelta, {\n      seriesId: newSeries.id\n    }));\n  };\n\n  var onApprovePhoto =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(newSeries, newPhoto, newPhotoData) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('RepeatablePhotos: waiting for photo ID', {\n                newSeries: newSeries,\n                newPhoto: newPhoto,\n                newPhotoData: newPhotoData\n              });\n              _context.next = 3;\n              return actions.onNewPhoto(newPhoto, newPhotoData);\n\n            case 3:\n              setSeriesContextState(_objectSpread({}, seriesContextState, {\n                series: _objectSpread({}, series, {\n                  photos: [].concat(_toConsumableArray(series.photos), [newPhoto])\n                })\n              }));\n              changeMode(SERIES_MODES.PHOTO_VIEW_NEW, newPhoto.id);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onApprovePhoto(_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onDeletePhotos = function onDeletePhotos(photoIdArr) {\n    series.photos.filter(function (sp) {\n      return photoIdArr.indexOf(sp.id) > -1;\n    }).forEach(function (p) {\n      return actions.onDeletePhoto(p);\n    });\n  };\n\n  var changeMode = function changeMode(newModeName, newPid, newInputMethod) {\n    var canUpdate = seriesContextState.ac.canUser('update', series, 'series');\n    if (seriesContextState === null) actions.onClose();\n\n    if (!canUpdate && VIEW_ONLY_MODES.indexOf(newModeName) < 0) {\n      console.error('ILLEGAL MODE CHANGE!!!!!', {\n        from: mode.current,\n        to: newModeName,\n        canUpdate: canUpdate\n      });\n    } else {\n      setMode({\n        current: {\n          name: newModeName,\n          pid: newPid,\n          inputMethod: newInputMethod\n        },\n        history: [].concat(_toConsumableArray(mode.history), [mode.current])\n      });\n    }\n  };\n\n  var lastMode = function lastMode() {\n    if (mode.history.length > 0) {\n      var oldHistory = _toConsumableArray(mode.history);\n\n      var oldMode = oldHistory.pop();\n      setMode({\n        current: oldMode,\n        history: oldHistory\n      });\n    } else {\n      actions.onClose();\n    }\n  };\n\n  var viewPhoto = function viewPhoto(pid) {\n    changeMode(SERIES_MODES.PHOTO_VIEW, pid);\n  };\n\n  var component = null;\n  if (loading) return React.createElement(SeriesLoading, {\n    onMenuBack: actions.onClose\n  });else if (!seriesContextState.series && mode.current.name !== SERIES_MODES.NEWSERIES) return React.createElement(SeriesNotFound, {\n    onMenuBack: actions.onClose\n  });\n\n  switch (mode.current.name) {\n    case SERIES_MODES.SERIES_VIEW:\n      component = React.createElement(SeriesView, {\n        onSlideshowStart: function onSlideshowStart() {\n          return changeMode(SERIES_MODES.SLIDESHOW);\n        },\n        onChange: function onChange() {\n          console.log('onChange NOT IMPLEMENTED');\n        },\n        watching: watching,\n        owned: owned,\n        initialPhoto: initialPhoto,\n        onDeletePhotos: onDeletePhotos,\n        onDeleteSeries: actions.onDelete,\n        onFindOnMap: actions.onFindOnMap,\n        onCameraAdd: function onCameraAdd() {\n          return changeMode(SERIES_MODES.NEWPHOTO, null, 'camera');\n        },\n        onEditSeries: function onEditSeries() {\n          return changeMode(SERIES_MODES.SERIES_EDIT);\n        },\n        onLibraryAdd: function onLibraryAdd() {\n          return changeMode(SERIES_MODES.NEWPHOTO, null, 'library');\n        },\n        onTileClick: viewPhoto,\n        onMenuBack: actions.onClose,\n        onWatch: actions.onWatch,\n        onUnWatch: actions.onUnWatch\n      });\n      break;\n\n    case SERIES_MODES.SERIES_EDIT:\n      component = React.createElement(SeriesEdit, {\n        onCancel: function onCancel() {\n          return changeMode(SERIES_MODES.SERIES_VIEW);\n        },\n        onOk: function onOk(seriesDelta) {\n          actions.onChange(series, _objectSpread({}, seriesDelta, {\n            id: series.id\n          }));\n          changeMode(SERIES_MODES.SERIES_VIEW);\n        }\n      });\n      break;\n\n    case SERIES_MODES.PHOTO_VIEW:\n      component = React.createElement(PhotoViewTool, {\n        onMenuBack: lastMode,\n        onUpdatePhoto: onUpdatePhoto\n      });\n      break;\n\n    case SERIES_MODES.PHOTO_VIEW_NEW:\n      component = React.createElement(PhotoViewTool, {\n        newPhoto: true,\n        onMenuBack: function onMenuBack() {\n          return changeMode(SERIES_MODES.SERIES_VIEW);\n        },\n        onUpdatePhoto: onUpdatePhoto\n      });\n      break;\n\n    case SERIES_MODES.SLIDESHOW:\n      component = React.createElement(Slideshow, {\n        photos: seriesContextState.series.photos,\n        onCancel: lastMode\n      });\n      break;\n\n    case SERIES_MODES.NEWPHOTO:\n      component = React.createElement(NewPhoto, {\n        inputMethod: mode.current.inputMethod,\n        photos: series ? series.photos : null,\n        actions: {\n          onCreate: onApprovePhoto,\n          onCancel: lastMode\n        }\n      });\n      break;\n\n    case SERIES_MODES.NEWSERIES:\n      component = React.createElement(NewPhoto, {\n        inputMethod: mode.current.inputMethod,\n        isNewSeries: true,\n        actions: {\n          onCreate: actions.onNewSeries,\n          onCancel: lastMode\n        }\n      });\n      break;\n\n    default:\n      console.log('REPEATABLEPHOTO: default state. you should NEVER see this', seriesContextState);\n      component = null;\n  }\n\n  return React.createElement(SeriesContext.Provider, {\n    value: seriesContextState\n  }, component);\n};\n\nRepeatablePhotos.propTypes = {\n  modeName: PropTypes.oneOf(VALID_STARTMODES),\n  watching: PropTypes.bool,\n  owned: PropTypes.bool,\n  currentUserId: PropTypes.string,\n  currentUserRole: PropTypes.string,\n  inputMethod: PropTypes.oneOf(['camera', 'library']),\n  series: PropTypes.object,\n  initialPhoto: PropTypes.string,\n  loading: PropTypes.bool,\n  actions: PropTypes.shape({\n    onChange: PropTypes.func.isRequired,\n    onFindOnMap: PropTypes.func.isRequired,\n    onChangePhoto: PropTypes.func.isRequired,\n    onDeletePhoto: PropTypes.func.isRequired,\n    onNewPhoto: PropTypes.func.isRequired,\n    onNewSeries: PropTypes.func.isRequired,\n    onDelete: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onWatch: PropTypes.func,\n    onUnWatch: PropTypes.func\n  })\n};\nRepeatablePhotos.defaultProps = {\n  mode: SERIES_MODES.SERIES_VIEW\n};\nexport default RepeatablePhotos;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport Fab from '@material-ui/core/Fab';\nimport AddCameraIcon from '@material-ui/icons/AddAPhoto';\nimport { makeStyles } from '@material-ui/core/styles';\nimport style from './SeriesList.style';\nimport { dates } from '@morphoto/common';\nimport { RawImage } from '@morphoto/photos';\nimport { useNewImageMenu } from '@morphoto/ui';\nvar useStyles = makeStyles(style);\n\nvar SeriesList = function SeriesList(_ref) {\n  var seriesList = _ref.seriesList,\n      canEdit = _ref.canEdit,\n      tileClick = _ref.tileClick,\n      columns = _ref.columns,\n      cameraClick = _ref.cameraClick,\n      libraryClick = _ref.libraryClick;\n  var classes = useStyles();\n\n  var _useNewImageMenu = useNewImageMenu(cameraClick, libraryClick),\n      onDownThunk = _useNewImageMenu.onDownThunk,\n      onUpThunk = _useNewImageMenu.onUpThunk,\n      onBlock = _useNewImageMenu.onBlock,\n      menu = _useNewImageMenu.menu;\n\n  return React.createElement(GridList, {\n    cols: columns || 1,\n    cellHeight: 200,\n    className: classes.root\n  }, seriesList.map(function (seriesItem, idx) {\n    var photo = seriesItem.photos[0];\n    return React.createElement(GridListTile, {\n      key: \"gridTile\".concat(idx),\n      onClick: function onClick() {\n        return tileClick(seriesItem);\n      }\n    }, photo && React.createElement(RawImage, {\n      sizePriority: ['medium', 'thumb', 'large'],\n      photo: photo\n    }), canEdit && React.createElement(Fab, {\n      onClick: onBlock,\n      onMouseDown: onDownThunk(seriesItem),\n      onMouseUp: onUpThunk(seriesItem),\n      onTouchStart: onDownThunk(seriesItem),\n      onTouchEnd: onUpThunk(seriesItem),\n      color: \"secondary\",\n      className: classes.fab\n    }, React.createElement(AddCameraIcon, null)), menu, React.createElement(GridListTileBar, {\n      title: seriesItem.name,\n      subtitle: React.createElement(\"span\", null, seriesItem.photos.length, \" photos \", React.createElement(\"strong\", null, \"Last Photo\"), \": \", dates.formatDate(seriesItem.photos[0].takenOn, 'llll'))\n    }));\n  }));\n};\n\nSeriesList.propTypes = {\n  seriesList: PropTypes.array.isRequired,\n  columns: PropTypes.number,\n  canEdit: PropTypes.bool,\n  tileClick: PropTypes.func.isRequired,\n  cameraClick: PropTypes.func.isRequired,\n  libraryClick: PropTypes.func.isRequired\n};\nexport default SeriesList;","export default (function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-around',\n      overflow: 'hidden',\n      backgroundColor: theme.palette.background.paper\n    },\n    fab: {\n      position: 'absolute',\n      top: 10,\n      right: 10,\n      height: theme.spacing(5),\n      width: theme.spacing(5)\n    },\n    fab2: {\n      position: 'absolute',\n      top: 10,\n      left: 10,\n      height: theme.spacing(5),\n      width: theme.spacing(5)\n    }\n  };\n});","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { ThemeProvider } from '@material-ui/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { RawImage } from '@morphoto/photos';\nimport { dates } from '@morphoto/common';\nimport { config } from '@morphoto/client-common';\nimport themes from '@morphoto/themes';\n\nvar style = function style(theme) {\n  return {\n    root: {\n      margin: 0,\n      padding: theme.spacing(1)\n    },\n    chipContainer: {\n      display: 'flex',\n      width: '100%'\n    },\n    grow: {\n      flexGrow: 1\n    },\n    accessLabel: {\n      padding: theme.spacing(0.5, 0.5)\n    },\n    img: {\n      verticalAlign: 'top',\n      objectFit: 'cover',\n      height: '100%',\n      width: '100%'\n    },\n    text: {\n      height: '115px',\n      margin: 0,\n      padding: theme.spacing(0, 1),\n      alignSelf: 'flex-start',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    textSm: {\n      height: '75px',\n      margin: 0,\n      padding: theme.spacing(0, 1),\n      alignSelf: 'flex-start',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    titleText: {\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden'\n    },\n    dateContainer: {\n      display: 'flex'\n    },\n    dateLabel: {\n      fontWeight: 'bold',\n      flex: '1 1 50px'\n    },\n    dateText: {},\n    imgFiller: {\n      flexGrow: 1,\n      background: theme.palette.text.primary,\n      overflow: 'hidden'\n    },\n    imgContainer: {\n      flex: '0 0 115px',\n      alignSelf: 'flex-start',\n      height: 115,\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    imgContainerSm: {\n      flex: '0 0 75px',\n      alignSelf: 'flex-start',\n      height: 75,\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar SeriesListItem = function SeriesListItem(_ref) {\n  var series = _ref.series,\n      loading = _ref.loading,\n      onClick = _ref.onClick,\n      children = _ref.children,\n      showCreatedOn = _ref.showCreatedOn,\n      showLastPhoto = _ref.showLastPhoto,\n      small = _ref.small;\n  var classes = useStyles();\n  if (loading || !series) return 'LOADING...';\n  var accessLabel = config.ACCESS.PRIVATE.label;\n  accessLabel = series.access ? config.ACCESS[series.access].label : config.ACCESS.PRIVATE.label;\n  return React.createElement(ListItem, {\n    className: classes.root,\n    button: true,\n    component: \"div\",\n    disableGutters: true\n  }, React.createElement(\"div\", {\n    className: small ? classes.imgContainerSm : classes.imgContainer,\n    onClick: onClick\n  }, React.createElement(\"div\", {\n    className: classes.imgFiller\n  }, React.createElement(RawImage, {\n    photo: series.featured,\n    sizePriority: ['thumb', 'medium', 'large'],\n    className: classes.img\n  })), series.access && React.createElement(ThemeProvider, {\n    theme: themes.access[series.access]\n  }, React.createElement(Typography, {\n    className: classNames(classes.accessLabel),\n    variant: \"caption\",\n    component: \"div\"\n  }, \"\".concat(series.photoCount || 0, \" Photos\"), !small && React.createElement(\"em\", null, \"(\", accessLabel, \")\")))), React.createElement(ListItemText, {\n    className: small ? classes.textSm : classes.text,\n    disableTypography: true,\n    onClick: onClick\n  }, React.createElement(Typography, {\n    variant: \"body1\",\n    component: \"div\",\n    className: classes.titleText\n  }, series.name || loading), React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"div\"\n  }, React.createElement(\"strong\", null, \"Created by:\"), \" \", series.createdUser.username), React.createElement(\"div\", {\n    className: classes.grow\n  }), showCreatedOn && React.createElement(\"div\", {\n    className: classes.dateContainer\n  }, React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.dateLabel\n  }, \"Created:\"), React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.dateText\n  }, dates.formatDate(series.createdOn, 'lll'))), showLastPhoto && series.latest && React.createElement(\"div\", {\n    className: classes.dateContainer\n  }, React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.dateLabel\n  }, \"Last Photo:\"), React.createElement(Typography, {\n    variant: \"caption\",\n    className: classes.dateText\n  }, dates.formatDate(series.latest.takenOn, 'lll')))), children);\n};\n\nSeriesListItem.propTypes = {\n  series: PropTypes.object,\n  loading: PropTypes.bool,\n  small: PropTypes.bool,\n  showCreatedOn: PropTypes.bool,\n  showLastPhoto: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.array\n};\nexport default SeriesListItem;\nexport var SeriesListItemCosmos = function SeriesListItemCosmos(props) {\n  return React.createElement(List, {\n    disablePadding: true,\n    dense: true\n  }, React.createElement(SeriesListItem, props));\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { List } from '@material-ui/core';\nimport SeriesListItem from './SeriesListItem';\n\nvar style = function style(theme) {\n  return {\n    root: {},\n    title: {\n      background: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      alignSelf: 'flex-start',\n      width: '100%',\n      margin: 0,\n      display: 'flex',\n      padding: theme.spacing(2)\n    },\n    dlgTitle: {\n      flexGrow: 1\n    },\n    closeButton: {\n      padding: 0,\n      alignSelf: 'flex-start'\n    },\n    list: {\n      overflowX: 'hidden',\n      overflowY: 'scroll'\n    }\n  };\n};\n\nvar useStyles = makeStyles(style);\n\nvar ViewListDialog = function ViewListDialog(_ref) {\n  var title = _ref.title,\n      seriesList = _ref.seriesList,\n      onSelect = _ref.onSelect,\n      onClose = _ref.onClose,\n      open = _ref.open;\n  var classes = useStyles();\n  return React.createElement(Dialog, {\n    className: classes.root,\n    fullWidth: true,\n    open: open,\n    onClose: onClose,\n    maxWidth: \"xl\",\n    \"aria-labelledby\": \"confirmation-dialog-title\"\n  }, React.createElement(DialogTitle, {\n    className: classes.title,\n    disableTypography: true\n  }, React.createElement(Typography, {\n    className: classes.dlgTitle\n  }, title), React.createElement(IconButton, {\n    color: \"inherit\",\n    className: classes.closeButton,\n    onClick: onClose\n  }, React.createElement(CloseIcon, {\n    color: \"inherit\"\n  }))), React.createElement(List, {\n    className: classes.list,\n    dense: true,\n    disablePadding: true\n  }, seriesList.map(function (series) {\n    return React.createElement(SeriesListItem, {\n      key: \"series\".concat(series.id),\n      series: series,\n      small: true,\n      onClick: function onClick() {\n        return onSelect(series.id);\n      }\n    });\n  })));\n};\n\nViewListDialog.propTypes = {\n  open: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  seriesList: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n};\nexport default ViewListDialog;","import PhotoSeries from './PhotoSeries';\nexport default PhotoSeries;\nexport { SERIES_MODES } from './PhotoSeries';\nexport { default as SeriesList } from './SeriesList';\nexport { default as SeriesListItem } from './SeriesListItem';\nexport { default as ViewListDialog } from './ViewListDialog';\nexport { default as PhotoReviewTool } from './views/PhotoReviewTool';\nexport { default as NewPhoto, NEW_PHOTO_MODES } from './views/NewPhoto';"],"sourceRoot":""}